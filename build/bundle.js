var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(t,e,n){t.$$.on_destroy.push(s(e,n))}function l(t,e,n,r){if(t){const o=c(t,e,n,r);return t[0](o)}}function c(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function u(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function f(t,e,n,r,o,i){if(o){const s=c(e,n,r,i);t.p(s,o)}}function p(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(t){return null==t?"":t}function h(t,e,n){return t.set(n),e}function g(e){return e&&o(e.destroy)?e.destroy:t}function m(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function w(){return _(" ")}function k(){return _("")}function M(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function T(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function N(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function z(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}let S,D;function j(){if(void 0===S){S=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){S=!0}}return S}function A(t,e,n){t.classList[n?"add":"remove"](e)}function L(t){D=t}function E(){if(!D)throw new Error("Function called outside component initialization");return D}function R(t){E().$$.on_mount.push(t)}function K(){const t=E();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}function U(t){return E().$$.context.get(t)}const P=[],Y=[],F=[],q=[],H=Promise.resolve();let O=!1;function I(t){F.push(t)}const W=new Set;let G=0;function X(){const t=D;do{for(;G<P.length;){const t=P[G];G++,L(t),V(t.$$)}for(L(null),P.length=0,G=0;Y.length;)Y.pop()();for(let t=0;t<F.length;t+=1){const e=F[t];W.has(e)||(W.add(e),e())}F.length=0}while(P.length);for(;q.length;)q.pop()();O=!1,W.clear(),L(t)}function V(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const B=new Set;let Z;function J(){Z={r:0,c:[],p:Z}}function Q(){Z.r||r(Z.c),Z=Z.p}function tt(t,e){t&&t.i&&(B.delete(t),t.i(e))}function et(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),Z.c.push((()=>{B.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function nt(t){t&&t.c()}function rt(t,n,i,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=t.$$;a&&a.m(n,i),s||I((()=>{const n=l.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(I)}function ot(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(P.push(t),O||(O=!0,H.then(X)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function st(e,o,i,s,a,l,c,u=[-1]){const f=D;L(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||f.$$.root};c&&c(p.root);let d=!1;if(p.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),d&&it(e,t)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(v)}else p.fragment&&p.fragment.c();o.intro&&tt(e.$$.fragment),rt(e,o.target,o.anchor,o.customElement),X()}L(f)}class at{$destroy(){ot(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function lt(e){let n;return{c(){n=x("header"),n.innerHTML='<div class="container clearfix et_menu_container svelte-vklvp2"><div class="logo_container svelte-vklvp2"><a class="logo_anchor svelte-vklvp2" href="https://css.seas.upenn.edu/"><img class="logo_img svelte-vklvp2" src="https://css.seas.upenn.edu/wp-content/uploads/2021/09/WEBSITE-LOGO.png" alt="Computational Social Science Lab" id="logo"/></a></div> \n        <div id="et-top-navigation"><nav id="top-menu-nav"><ul id="top-menu" class="nav svelte-vklvp2"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2731 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/about/">About</a> \n                        <ul class="sub-menu svelte-vklvp2"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1554 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/about/lab/">The Lab</a></li> \n                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2232 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/about/community/">CSS Community</a></li></ul></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1747 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/people/">People</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-37 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/research/">Research</a> \n                        <ul class="sub-menu svelte-vklvp2"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-735 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/project/penn-map/">PennMAP</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-292 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/project/virtual-lab/">Group Dynamics</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-291 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/project/covid-philadelphia/">COVID-Philadelphia</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-377 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/project/common-sense/">Common Sense</a></li></ul></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-344 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/partnerships/">Partners</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-58 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/publications/">Publications</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-105 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/blog-news-events/">News</a></li></ul></nav></div></div>',C(n,"id","main-header"),C(n,"data-height-onload","84"),C(n,"data-height-loaded","true"),C(n,"data-fixed-height-onload","84"),N(n,"top","0px"),C(n,"class","svelte-vklvp2")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class ct extends at{constructor(t){super(),st(this,t,null,lt,i,{})}}function ut(e){let n;return{c(){n=x("footer"),n.innerHTML='<div class="et_builder_inner_content et_pb_gutters3"><div class="et_pb_section et_pb_section_0_tb_footer et_pb_with_background et_section_regular et_pb_section--with-menu svelte-11jfbp5"><div class="et_pb_row et_pb_row_0_tb_footer et_pb_row--with-menu et_pb_row_4col svelte-11jfbp5" style="z-index: 3;"><div class="et_pb_column et_pb_column_1_4 et_pb_column_0_tb_footer global-footer-column-1 et_pb_css_mix_blend_mode_passthrough svelte-11jfbp5"><div class="et_pb_module et_pb_image et_pb_image_0_tb_footer et_pb_image_sticky svelte-11jfbp5"><a href="https://www.seas.upenn.edu/" target="_blank" class="svelte-11jfbp5"><span class="et_pb_image_wrap  svelte-11jfbp5"><img loading="lazy" width="480" height="123" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas-300x77.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3438 svelte-11jfbp5"/></span></a></div> \n                    <div class="et_pb_module et_pb_image et_pb_image_1_tb_footer et_pb_image_sticky svelte-11jfbp5"><a href="https://www.asc.upenn.edu/" target="_blank" class="svelte-11jfbp5"><span class="et_pb_image_wrap  svelte-11jfbp5"><img loading="lazy" width="480" height="123" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc-300x77.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3440 svelte-11jfbp5"/></span></a></div> \n                    <div class="et_pb_module et_pb_image et_pb_image_2_tb_footer et_pb_image_sticky svelte-11jfbp5"><a href="https://www.wharton.upenn.edu/" target="_blank" class="svelte-11jfbp5"><span class="et_pb_image_wrap  svelte-11jfbp5"><img loading="lazy" width="480" height="111" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton-300x69.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3439 svelte-11jfbp5"/></span></a></div></div> \n\n            <div class="et_pb_column et_pb_column_1_4 et_pb_column_1_tb_footer global-footer-column-2 et_pb_css_mix_blend_mode_passthrough et_pb_column--with-menu svelte-11jfbp5"><div class="et_pb_module et_pb_text et_pb_text_0_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-11jfbp5"><div class="et_pb_text_inner svelte-11jfbp5"><h2 class="svelte-11jfbp5">Navigate</h2></div></div> \n                <div class="et_pb_module et_pb_divider et_pb_divider_0_tb_footer et_pb_divider_position_ et_pb_space svelte-11jfbp5"><div class="et_pb_divider_internal svelte-11jfbp5"></div></div> \n                <div class="et_pb_module et_pb_menu et_pb_menu_0_tb_footer footer-vertical-menu et_pb_bg_layout_light et_pb_text_align_left et_dropdown_animation_fade et_pb_menu--without-logo et_pb_menu--style-left_aligned svelte-11jfbp5"><div class="et_pb_menu_inner_container clearfix"><div class="et_pb_menu__wrap"><div class="et_pb_menu__menu svelte-11jfbp5"><nav class="et-menu-nav svelte-11jfbp5"><ul id="menu-footer-menu-new" class="et-menu nav svelte-11jfbp5"><li id="menu-item-3425" class="et_pb_menu_page_id-2233 menu-item menu-item-type-post_type menu-item-object-page menu-item-3425 svelte-11jfbp5"><a href="https://css.seas.upenn.edu/about/" class="svelte-11jfbp5">About</a></li> \n                                        <li id="menu-item-3426" class="et_pb_menu_page_id-1732 menu-item menu-item-type-post_type menu-item-object-page menu-item-3426 svelte-11jfbp5"><a href="https://css.seas.upenn.edu/people/" class="svelte-11jfbp5">People</a></li> \n                                        <li id="menu-item-3430" class="et_pb_menu_page_id-22 menu-item menu-item-type-post_type menu-item-object-page menu-item-3430 svelte-11jfbp5"><a href="https://css.seas.upenn.edu/research/" class="svelte-11jfbp5">Research</a></li> \n                                        <li id="menu-item-3428" class="et_pb_menu_page_id-65 menu-item menu-item-type-post_type menu-item-object-page menu-item-3428 svelte-11jfbp5"><a href="https://css.seas.upenn.edu/partnerships/" class="svelte-11jfbp5">Partners</a></li> \n                                        <li id="menu-item-3429" class="et_pb_menu_page_id-52 menu-item menu-item-type-post_type menu-item-object-page menu-item-3429 svelte-11jfbp5"><a href="https://css.seas.upenn.edu/publications/" class="svelte-11jfbp5">Publications</a></li> \n                                        <li id="menu-item-3427" class="et_pb_menu_page_id-92 menu-item menu-item-type-post_type menu-item-object-page menu-item-3427 svelte-11jfbp5"><a href="https://css.seas.upenn.edu/blog-news-events/" class="svelte-11jfbp5">News</a></li></ul></nav></div></div></div></div></div> \n    \n    <div class="et_pb_column et_pb_column_1_4 et_pb_column_2_tb_footer global-footer-column-3 et_pb_css_mix_blend_mode_passthrough svelte-11jfbp5"><div class="et_pb_module et_pb_text et_pb_text_1_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-11jfbp5"><div class="et_pb_text_inner svelte-11jfbp5"><h2 class="svelte-11jfbp5">Contact</h2></div></div> \n        <div class="et_pb_module et_pb_divider et_pb_divider_1_tb_footer et_pb_divider_position_ et_pb_space svelte-11jfbp5"><div class="et_pb_divider_internal svelte-11jfbp5"></div></div> \n        <div class="et_pb_module et_pb_text et_pb_text_2_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-11jfbp5"><div class="et_pb_text_inner svelte-11jfbp5"><p class="svelte-11jfbp5">3401 Walnut Street<br/>Suite 417B<br/>Philadelphia PA, 19104</p> \n                <p class="svelte-11jfbp5">CSSLab@seas.upenn.edu</p> \n                <p class="svelte-11jfbp5">(215) 573-7098</p></div></div></div></div> \n    <div class="et_pb_row et_pb_row_1_tb_footer et_pb_equal_columns svelte-11jfbp5"><div class="et_pb_column et_pb_column_4_4 et_pb_column_4_tb_footer et_pb_css_mix_blend_mode_passthrough et-last-child"><div class="et_pb_module et_pb_text et_pb_text_4_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-11jfbp5"><div class="et_pb_text_inner svelte-11jfbp5"><p style="text-align: center;" class="svelte-11jfbp5"><a href="https://www.upenn.edu/" class="svelte-11jfbp5">Penn Homepage</a> \n                        <a href="https://www.upenn.edu/about/disclaimer" class="svelte-11jfbp5">Disclaimer</a> \n                        <a href="https://www.publicsafety.upenn.edu/contact/" class="svelte-11jfbp5">Emergency Services</a> \n                        <a href="https://www.upenn.edu/about/privacy-policy" class="svelte-11jfbp5">Privacy Policy</a> \n                        <a href="https://accessibility.web-resources.upenn.edu/get-help" class="svelte-11jfbp5">Report Accessibility Issues and Get Help</a> \n                        <a href="https://www.upenn.edu/about/report-copyright-infringement" class="svelte-11jfbp5">Report Copyright Infringement</a></p></div></div> \n            <div class="et_pb_module et_pb_text et_pb_text_5_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-11jfbp5"><div class="et_pb_text_inner svelte-11jfbp5"><p style="text-align: center;" class="svelte-11jfbp5"><em><strong></strong></em></p> \n                    <p style="text-align: center;" class="svelte-11jfbp5"><em><a href="https://css.seas.upenn.edu/research-assistant-positions/" class="svelte-11jfbp5"><strong>Interested in working at the CSSLab?</strong> Click here to view opportunities for Penn students</a></em></p></div></div></div></div></div></div>',C(n,"class","et-l et-l--footer svelte-11jfbp5")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class ft extends at{constructor(t){super(),st(this,t,null,ut,i,{})}}function pt(e){let n,r;return{c(){n=x("h1"),r=_(e[0]),C(n,"class","svelte-8vtzvs")},m(t,e){y(t,n,e),m(n,r)},p(t,[e]){1&e&&T(r,t[0])},i:t,o:t,d(t){t&&v(n)}}}function dt(t,e,n){let{title:r}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title)},[r]}class ht extends at{constructor(t){super(),st(this,t,dt,pt,i,{title:0})}}function gt(e){let n,r;return{c(){n=x("p"),r=_(e[0]),C(n,"class","svelte-1pqfof3")},m(t,e){y(t,n,e),m(n,r)},p(t,[e]){1&e&&T(r,t[0])},i:t,o:t,d(t){t&&v(n)}}}function mt(t,e,n){let{text:r}=e;return t.$$set=t=>{"text"in t&&n(0,r=t.text)},[r]}class yt extends at{constructor(t){super(),st(this,t,mt,gt,i,{text:0})}}function vt(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function $t(t,e,n){const r=t.slice();return r[4]=e[n],r}function xt(t){let e,n,r=t[4]+"";return{c(){e=x("p"),n=_(r),C(e,"class","detail-list-value svelte-j5brtz")},m(t,r){y(t,e,r),m(e,n)},p(t,e){1&e&&r!==(r=t[4]+"")&&T(n,r)},d(t){t&&v(e)}}}function bt(t){let e,n,o,i,s,a,l,c,u,f=t[1].name+"",p=t[1].detail,d=[];for(let e=0;e<p.length;e+=1)d[e]=xt($t(t,p,e));return{c(){e=x("div"),n=x("p"),o=_(f),i=w(),s=x("div"),a=x("div");for(let t=0;t<d.length;t+=1)d[t].c();l=w(),C(n,"class","author-name svelte-j5brtz"),C(a,"class","detail-list svelte-j5brtz"),C(s,"class","detail svelte-j5brtz"),C(e,"class","author-container svelte-j5brtz")},m(t,r){y(t,e,r),m(e,n),m(n,o),m(e,i),m(e,s),m(s,a);for(let t=0;t<d.length;t+=1)d[t].m(a,null);m(e,l),c||(u=[M(e,"mouseover",wt),M(e,"focus",wt),M(e,"mouseout",kt),M(e,"blur",kt)],c=!0)},p(t,e){if(1&e&&f!==(f=t[1].name+"")&&T(o,f),1&e){let n;for(p=t[1].detail,n=0;n<p.length;n+=1){const r=$t(t,p,n);d[n]?d[n].p(r,e):(d[n]=xt(r),d[n].c(),d[n].m(a,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=p.length}},d(t){t&&v(e),$(d,t),c=!1,r(u)}}}function _t(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=bt(vt(e,r,t));return{c(){n=x("div");for(let t=0;t<o.length;t+=1)o[t].c();C(n,"class","authors svelte-j5brtz")},m(t,e){y(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(1&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const s=vt(t,r,i);o[i]?o[i].p(s,e):(o[i]=bt(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&v(n),$(o,t)}}}function wt(t){t.target.classList.add("active")}function kt(t){t.target.classList.remove("active")}function Mt(t,e,n){let{authors:r}=e;return t.$$set=t=>{"authors"in t&&n(0,r=t.authors)},[r]}class Ct extends at{constructor(t){super(),st(this,t,Mt,_t,i,{authors:0})}}var Tt={},Nt={};function zt(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function St(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Dt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function jt(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Dt(-t,6):t>9999?"+"+Dt(t,6):Dt(t,4)}(t.getUTCFullYear())+"-"+Dt(t.getUTCMonth()+1,2)+"-"+Dt(t.getUTCDate(),2)+(o?"T"+Dt(e,2)+":"+Dt(n,2)+":"+Dt(r,2)+"."+Dt(o,3)+"Z":r?"T"+Dt(e,2)+":"+Dt(n,2)+":"+Dt(r,2)+"Z":n||e?"T"+Dt(e,2)+":"+Dt(n,2)+"Z":"")}var At=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,o=[],i=t.length,s=0,a=0,l=i<=0,c=!1;function u(){if(l)return Nt;if(c)return c=!1,Tt;var e,r,o=s;if(34===t.charCodeAt(o)){for(;s++<i&&34!==t.charCodeAt(s)||34===t.charCodeAt(++s););return(e=s)>=i?l=!0:10===(r=t.charCodeAt(s++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(s)&&++s),t.slice(o+1,e-1).replace(/""/g,'"')}for(;s<i;){if(10===(r=t.charCodeAt(e=s++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(s)&&++s;else if(r!==n)continue;return t.slice(o,e)}return l=!0,t.slice(o,i)}for(10===t.charCodeAt(i-1)&&--i,13===t.charCodeAt(i-1)&&--i;(r=u())!==Nt;){for(var f=[];r!==Tt&&r!==Nt;)f.push(r),r=u();e&&null==(f=e(f,a++))||o.push(f)}return o}function o(e,n){return e.map((function(e){return n.map((function(t){return s(e[t])})).join(t)}))}function i(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?jt(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,o,i=r(t,(function(t,r){if(n)return n(t,r-1);o=t,n=e?function(t,e){var n=zt(t);return function(r,o){return e(n(r),o,t)}}(t,e):zt(t)}));return i.columns=o||[],i},parseRows:r,format:function(e,n){return null==n&&(n=St(e)),[n.map(s).join(t)].concat(o(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=St(t)),o(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")},formatRow:i,formatValue:s}}(","),Lt=At.parse;function Et(t){for(var e in t){var n,r,o=t[e].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(n=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Rt&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=n;else o=null;t[e]=o}return t}const Rt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Kt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Ut(t,e){return fetch(t,e).then(Kt)}var Pt,Yt=(Pt=Lt,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),Ut(t,e).then((function(t){return Pt(t,n)}))});function Ft(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qt(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ht(t){let e,n,r;function o(t,r,o=0,i=t.length){if(o<i){if(0!==e(r,r))return i;do{const e=o+i>>>1;n(t[e],r)<0?o=e+1:i=e}while(o<i)}return o}return 2!==t.length?(e=Ft,n=(e,n)=>Ft(t(e),n),r=(e,n)=>t(e)-n):(e=t===Ft||t===qt?t:Ot,n=t,r=t),{left:o,center:function(t,e,n=0,i=t.length){const s=o(t,e,n,i-1);return s>n&&r(t[s-1],e)>-r(t[s],e)?s-1:s},right:function(t,r,o=0,i=t.length){if(o<i){if(0!==e(r,r))return i;do{const e=o+i>>>1;n(t[e],r)<=0?o=e+1:i=e}while(o<i)}return o}}}function Ot(){return 0}const It=Ht(Ft).right;Ht((function(t){return null===t?NaN:+t})).center;var Wt=It;class Gt extends Map{constructor(t,e=Vt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Xt(this,t))}has(t){return super.has(Xt(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(r),t.delete(r));return n}(this,t))}}function Xt({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Vt(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Bt(t){return t}function Zt(t,...e){return Qt(t,Bt,Bt,e)}function Jt(t,...e){return Qt(t,Array.from,Bt,e)}function Qt(t,e,n,r){return function t(o,i){if(i>=r.length)return n(o);const s=new Gt,a=r[i++];let l=-1;for(const t of o){const e=a(t,++l,o),n=s.get(e);n?n.push(t):s.set(e,[t])}for(const[e,n]of s)s.set(e,t(n,i));return e(s)}(t,0)}var te=Math.sqrt(50),ee=Math.sqrt(10),ne=Math.sqrt(2);function re(t,e,n){var r,o,i,s,a=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(s=oe(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),r=Math.round(e/s);for(n*s<t&&++n,r*s>e&&--r,i=new Array(o=r-n+1);++a<o;)i[a]=(n+a)*s}else{s=-s;let n=Math.round(t*s),r=Math.round(e*s);for(n/s<t&&++n,r/s>e&&--r,i=new Array(o=r-n+1);++a<o;)i[a]=(n+a)/s}return r&&i.reverse(),i}function oe(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=te?10:i>=ee?5:i>=ne?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=te?10:i>=ee?5:i>=ne?2:1)}function ie(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=te?o*=10:i>=ee?o*=5:i>=ne&&(o*=2),e<t?-o:o}function se(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}function ae(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let o of t)(o=+e(o,++r,t))&&(n+=o)}return n}function le(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const ce=Symbol("implicit");function ue(){var t=new Gt,e=[],n=[],r=ce;function o(o){let i=t.get(o);if(void 0===i){if(r!==ce)return r;t.set(o,i=e.push(o)-1)}return n[i%n.length]}return o.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Gt;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return o},o.range=function(t){return arguments.length?(n=Array.from(t),o):n.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return ue(e,n).unknown(r)},le.apply(o,arguments),o}function fe(){var t,e,n=ue().unknown(void 0),r=n.domain,o=n.range,i=0,s=1,a=!1,l=0,c=0,u=.5;function f(){var n=r().length,f=s<i,p=f?s:i,d=f?i:s;t=(d-p)/Math.max(1,n-l+2*c),a&&(t=Math.floor(t)),p+=(d-p-t*(n-l))*u,e=t*(1-l),a&&(p=Math.round(p),e=Math.round(e));var h=se(n).map((function(e){return p+t*e}));return o(f?h.reverse():h)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([i,s]=t,i=+i,s=+s,f()):[i,s]},n.rangeRound=function(t){return[i,s]=t,i=+i,s=+s,a=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,f()):a},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),f()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return fe(r(),[i,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},le.apply(f(),arguments)}function pe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function de(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function he(){}var ge=.7,me=1/ge,ye="\\s*([+-]?\\d+)\\s*",ve="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xe=/^#([0-9a-f]{3,8})$/,be=new RegExp(`^rgb\\(${ye},${ye},${ye}\\)$`),_e=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),we=new RegExp(`^rgba\\(${ye},${ye},${ye},${ve}\\)$`),ke=new RegExp(`^rgba\\(${$e},${$e},${$e},${ve}\\)$`),Me=new RegExp(`^hsl\\(${ve},${$e},${$e}\\)$`),Ce=new RegExp(`^hsla\\(${ve},${$e},${$e},${ve}\\)$`),Te={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ne(){return this.rgb().formatHex()}function ze(){return this.rgb().formatRgb()}function Se(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?De(e):3===n?new Ee(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?je(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?je(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=be.exec(t))?new Ee(e[1],e[2],e[3],1):(e=_e.exec(t))?new Ee(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=we.exec(t))?je(e[1],e[2],e[3],e[4]):(e=ke.exec(t))?je(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Me.exec(t))?Fe(e[1],e[2]/100,e[3]/100,1):(e=Ce.exec(t))?Fe(e[1],e[2]/100,e[3]/100,e[4]):Te.hasOwnProperty(t)?De(Te[t]):"transparent"===t?new Ee(NaN,NaN,NaN,0):null}function De(t){return new Ee(t>>16&255,t>>8&255,255&t,1)}function je(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ee(t,e,n,r)}function Ae(t){return t instanceof he||(t=Se(t)),t?new Ee((t=t.rgb()).r,t.g,t.b,t.opacity):new Ee}function Le(t,e,n,r){return 1===arguments.length?Ae(t):new Ee(t,e,n,null==r?1:r)}function Ee(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Re(){return`#${Ye(this.r)}${Ye(this.g)}${Ye(this.b)}`}function Ke(){const t=Ue(this.opacity);return`${1===t?"rgb(":"rgba("}${Pe(this.r)}, ${Pe(this.g)}, ${Pe(this.b)}${1===t?")":`, ${t})`}`}function Ue(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ye(t){return((t=Pe(t))<16?"0":"")+t.toString(16)}function Fe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new He(t,e,n,r)}function qe(t){if(t instanceof He)return new He(t.h,t.s,t.l,t.opacity);if(t instanceof he||(t=Se(t)),!t)return new He;if(t instanceof He)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,a=i-o,l=(i+o)/2;return a?(s=e===i?(n-r)/a+6*(n<r):n===i?(r-e)/a+2:(e-n)/a+4,a/=l<.5?i+o:2-i-o,s*=60):a=l>0&&l<1?0:s,new He(s,a,l,t.opacity)}function He(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Oe(t){return(t=(t||0)%360)<0?t+360:t}function Ie(t){return Math.max(0,Math.min(1,t||0))}function We(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}pe(he,Se,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ne,formatHex:Ne,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return qe(this).formatHsl()},formatRgb:ze,toString:ze}),pe(Ee,Le,de(he,{brighter(t){return t=null==t?me:Math.pow(me,t),new Ee(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?ge:Math.pow(ge,t),new Ee(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ee(Pe(this.r),Pe(this.g),Pe(this.b),Ue(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Re,formatHex:Re,formatHex8:function(){return`#${Ye(this.r)}${Ye(this.g)}${Ye(this.b)}${Ye(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ke,toString:Ke})),pe(He,(function(t,e,n,r){return 1===arguments.length?qe(t):new He(t,e,n,null==r?1:r)}),de(he,{brighter(t){return t=null==t?me:Math.pow(me,t),new He(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ge:Math.pow(ge,t),new He(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Ee(We(t>=240?t-240:t+120,o,r),We(t,o,r),We(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new He(Oe(this.h),Ie(this.s),Ie(this.l),Ue(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ue(this.opacity);return`${1===t?"hsl(":"hsla("}${Oe(this.h)}, ${100*Ie(this.s)}%, ${100*Ie(this.l)}%${1===t?")":`, ${t})`}`}}));var Ge=t=>()=>t;function Xe(t){return 1==(t=+t)?Ve:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ge(isNaN(e)?n:e)}}function Ve(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Ge(isNaN(t)?e:t)}var Be=function t(e){var n=Xe(e);function r(t,e){var r=n((t=Le(t)).r,(e=Le(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),s=Ve(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function Ze(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function Je(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),s=new Array(r);for(n=0;n<o;++n)i[n]=sn(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=i[n](t);return s}}function Qe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function tn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function en(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=sn(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var nn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rn=new RegExp(nn.source,"g");function on(t,e){var n,r,o,i=nn.lastIndex=rn.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=nn.exec(t))&&(r=rn.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:tn(n,r)})),i=rn.lastIndex;return i<e.length&&(o=e.slice(i),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})}function sn(t,e){var n,r=typeof e;return null==e||"boolean"===r?Ge(e):("number"===r?tn:"string"===r?(n=Se(e))?(e=n,Be):on:e instanceof Se?Be:e instanceof Date?Qe:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Ze:Array.isArray(e)?Je:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?en:tn)(t,e)}function an(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ln(t){return+t}var cn=[0,1];function un(t){return t}function fn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function pn(t,e,n){var r=t[0],o=t[1],i=e[0],s=e[1];return o<r?(r=fn(o,r),i=n(s,i)):(r=fn(r,o),i=n(i,s)),function(t){return i(r(t))}}function dn(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)o[s]=fn(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(e){var n=Wt(t,e,1,r)-1;return i[n](o[n](e))}}function hn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gn(){var t,e,n,r,o,i,s=cn,a=cn,l=sn,c=un;function u(){var t=Math.min(s.length,a.length);return c!==un&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),r=t>2?dn:pn,o=i=null,f}function f(e){return null==e||isNaN(e=+e)?n:(o||(o=r(s.map(t),a,l)))(t(c(e)))}return f.invert=function(n){return c(e((i||(i=r(a,s.map(t),tn)))(n)))},f.domain=function(t){return arguments.length?(s=Array.from(t,ln),u()):s.slice()},f.range=function(t){return arguments.length?(a=Array.from(t),u()):a.slice()},f.rangeRound=function(t){return a=Array.from(t),l=an,u()},f.clamp=function(t){return arguments.length?(c=!!t||un,u()):c!==un},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function mn(){return gn()(un,un)}function yn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vn(t){return(t=yn(Math.abs(t)))?t[1]:NaN}var $n,xn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bn(t){if(!(e=xn.exec(t)))throw new Error("invalid format: "+t);var e;return new _n({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function _n(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function wn(t,e){var n=yn(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}bn.prototype=_n.prototype,_n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var kn={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wn(100*t,e),r:wn,s:function(t,e){var n=yn(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-($n=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+yn(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Mn(t){return t}var Cn,Tn,Nn,zn=Array.prototype.map,Sn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Dn(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Mn:(e=zn.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],s=0,a=e[0],l=0;o>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),i.push(t.substring(o-=a,o+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Mn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(zn.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=bn(t)).fill,n=t.align,f=t.sign,p=t.symbol,d=t.zero,h=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):kn[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var $="$"===p?o:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?i:/[%p]/.test(v)?l:"",b=kn[v],_=/[defgprs%]/.test(v);function w(t){var o,i,l,p=$,w=x;if("c"===v)w=b(t)+w,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:b(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),p=(k?"("===f?f:c:"-"===f||"("===f?"":f)+p,w=("s"===v?Sn[8+$n/3]:"")+w+(k&&"("===f?")":""),_)for(o=-1,i=t.length;++o<i;)if(48>(l=t.charCodeAt(o))||l>57){w=(46===l?s+t.slice(o+1):t.slice(o))+w,t=t.slice(0,o);break}}g&&!d&&(t=r(t,1/0));var M=p.length+t.length+w.length,C=M<h?new Array(h-M+1).join(e):"";switch(g&&d&&(t=r(C+t,C.length?h-w.length:1/0),C=""),n){case"<":t=p+t+w+C;break;case"=":t=p+C+t+w;break;case"^":t=C.slice(0,M=C.length>>1)+p+t+w+C.slice(M);break;default:t=C+p+t+w}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),w.toString=function(){return t+""},w}return{format:f,formatPrefix:function(t,e){var n=f(((t=bn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(vn(e)/3))),o=Math.pow(10,-r),i=Sn[8+r/3];return function(t){return n(o*t)+i}}}}function jn(t,e,n,r){var o,i=ie(t,e,n);switch((r=bn(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vn(e)/3)))-vn(Math.abs(t)))}(i,s))||(r.precision=o),Nn(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vn(e)-vn(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-vn(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return Tn(r)}function An(t){var e=t.domain;return t.ticks=function(t){var n=e();return re(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return jn(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),s=0,a=i.length-1,l=i[s],c=i[a],u=10;for(c<l&&(o=l,l=c,c=o,o=s,s=a,a=o);u-- >0;){if((o=oe(l,c,n))===r)return i[s]=l,i[a]=c,e(i);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o}r=o}return t},t}function Ln(){var t=mn();return t.copy=function(){return hn(t,Ln())},le.apply(t,arguments),An(t)}function En(t,e){var n,r=0,o=(t=t.slice()).length-1,i=t[r],s=t[o];return s<i&&(n=r,r=o,o=n,n=i,i=s,s=n),t[r]=e.floor(i),t[o]=e.ceil(s),t}function Rn(t){return Math.log(t)}function Kn(t){return Math.exp(t)}function Un(t){return-Math.log(-t)}function Pn(t){return-Math.exp(-t)}function Yn(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Fn(t){return(e,n)=>-t(-e,n)}function qn(t){const e=t(Rn,Kn),n=e.domain;let r,o,i=10;function s(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(i),o=function(t){return 10===t?Yn:t===Math.E?Math.exp:e=>Math.pow(t,e)}(i),n()[0]<0?(r=Fn(r),o=Fn(o),t(Un,Pn)):t(Rn,Kn),e}return e.base=function(t){return arguments.length?(i=+t,s()):i},e.domain=function(t){return arguments.length?(n(t),s()):n()},e.ticks=t=>{const e=n();let s=e[0],a=e[e.length-1];const l=a<s;l&&([s,a]=[a,s]);let c,u,f=r(s),p=r(a);const d=null==t?10:+t;let h=[];if(!(i%1)&&p-f<d){if(f=Math.floor(f),p=Math.ceil(p),s>0){for(;f<=p;++f)for(c=1;c<i;++c)if(u=f<0?c/o(-f):c*o(f),!(u<s)){if(u>a)break;h.push(u)}}else for(;f<=p;++f)for(c=i-1;c>=1;--c)if(u=f>0?c/o(-f):c*o(f),!(u<s)){if(u>a)break;h.push(u)}2*h.length<d&&(h=re(s,a,d))}else h=re(f,p,Math.min(p-f,d)).map(o);return l?h.reverse():h},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===i?"s":","),"function"!=typeof n&&(i%1||null!=(n=bn(n)).precision||(n.trim=!0),n=Tn(n)),t===1/0)return n;const s=Math.max(1,i*t/e.ticks().length);return t=>{let e=t/o(Math.round(r(t)));return e*i<i-.5&&(e*=i),e<=s?n(t):""}},e.nice=()=>n(En(n(),{floor:t=>o(Math.floor(r(t))),ceil:t=>o(Math.ceil(r(t)))})),e}function Hn(){const t=qn(gn()).domain([1,10]);return t.copy=()=>hn(t,Hn()).base(t.base()),le.apply(t,arguments),t}function On(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function In(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wn(t){return t<0?-t*t:t*t}function Gn(t){var e=t(un,un),n=1;function r(){return 1===n?t(un,un):.5===n?t(In,Wn):t(On(n),On(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},An(e)}function Xn(){var t=Gn(gn());return t.copy=function(){return hn(t,Xn()).exponent(t.exponent())},le.apply(t,arguments),t}Cn=Dn({thousands:",",grouping:[3],currency:["$",""]}),Tn=Cn.format,Nn=Cn.formatPrefix;var Vn=new Date,Bn=new Date;function Zn(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,i){var s,a=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;do{a.push(s=new Date(+n)),e(n,i),t(n)}while(s<n&&n<r);return a},o.filter=function(n){return Zn((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return Vn.setTime(+e),Bn.setTime(+r),t(Vn),t(Bn),Math.floor(n(Vn,Bn))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var Jn=Zn((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Jn.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Zn((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Jn:null};var Qn=Jn;Jn.range;const tr=1e3,er=6e4,nr=36e5,rr=864e5,or=6048e5,ir=2592e6,sr=31536e6;var ar=Zn((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*tr)}),(function(t,e){return(e-t)/tr}),(function(t){return t.getUTCSeconds()})),lr=ar;ar.range;var cr=Zn((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*tr)}),(function(t,e){t.setTime(+t+e*er)}),(function(t,e){return(e-t)/er}),(function(t){return t.getMinutes()})),ur=cr;cr.range;var fr=Zn((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*tr-t.getMinutes()*er)}),(function(t,e){t.setTime(+t+e*nr)}),(function(t,e){return(e-t)/nr}),(function(t){return t.getHours()})),pr=fr;fr.range;var dr=Zn((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*er)/rr),(t=>t.getDate()-1)),hr=dr;function gr(t){return Zn((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*er)/or}))}dr.range;var mr=gr(0),yr=gr(1),vr=gr(2),$r=gr(3),xr=gr(4),br=gr(5),_r=gr(6);mr.range,yr.range,vr.range,$r.range,xr.range,br.range,_r.range;var wr=Zn((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),kr=wr;wr.range;var Mr=Zn((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Mr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Zn((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Cr=Mr;Mr.range;var Tr=Zn((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*er)}),(function(t,e){return(e-t)/er}),(function(t){return t.getUTCMinutes()})),Nr=Tr;Tr.range;var zr=Zn((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*nr)}),(function(t,e){return(e-t)/nr}),(function(t){return t.getUTCHours()})),Sr=zr;zr.range;var Dr=Zn((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/rr}),(function(t){return t.getUTCDate()-1})),jr=Dr;function Ar(t){return Zn((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/or}))}Dr.range;var Lr=Ar(0),Er=Ar(1),Rr=Ar(2),Kr=Ar(3),Ur=Ar(4),Pr=Ar(5),Yr=Ar(6);Lr.range,Er.range,Rr.range,Kr.range,Ur.range,Pr.range,Yr.range;var Fr=Zn((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),qr=Fr;Fr.range;var Hr=Zn((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Hr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Zn((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Or=Hr;function Ir(t,e,n,r,o,i){const s=[[lr,1,tr],[lr,5,5e3],[lr,15,15e3],[lr,30,3e4],[i,1,er],[i,5,3e5],[i,15,9e5],[i,30,18e5],[o,1,nr],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,rr],[r,2,1728e5],[n,1,or],[e,1,ir],[e,3,7776e6],[t,1,sr]];function a(e,n,r){const o=Math.abs(n-e)/r,i=Ht((([,,t])=>t)).right(s,o);if(i===s.length)return t.every(ie(e/sr,n/sr,r));if(0===i)return Qn.every(Math.max(ie(e,n,r),1));const[a,l]=s[o/s[i-1][2]<s[i][2]/o?i-1:i];return a.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const o=n&&"function"==typeof n.range?n:a(t,e,n),i=o?o.range(t,+e+1):[];return r?i.reverse():i},a]}Hr.range,Ir(Or,qr,Lr,jr,Sr,Nr);const[Wr,Gr]=Ir(Cr,kr,mr,hr,pr,ur);function Xr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Br(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Zr,Jr,Qr={"-":"",_:" ",0:"0"},to=/^\s*\d+/,eo=/^%/,no=/[\\^$*+?|[\]().{}]/g;function ro(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function oo(t){return t.replace(no,"\\$&")}function io(t){return new RegExp("^(?:"+t.map(oo).join("|")+")","i")}function so(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function ao(t,e,n){var r=to.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lo(t,e,n){var r=to.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function co(t,e,n){var r=to.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function uo(t,e,n){var r=to.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fo(t,e,n){var r=to.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function po(t,e,n){var r=to.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ho(t,e,n){var r=to.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function go(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mo(t,e,n){var r=to.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function yo(t,e,n){var r=to.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function vo(t,e,n){var r=to.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $o(t,e,n){var r=to.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xo(t,e,n){var r=to.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bo(t,e,n){var r=to.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _o(t,e,n){var r=to.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function wo(t,e,n){var r=to.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ko(t,e,n){var r=to.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Mo(t,e,n){var r=eo.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Co(t,e,n){var r=to.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function To(t,e,n){var r=to.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function No(t,e){return ro(t.getDate(),e,2)}function zo(t,e){return ro(t.getHours(),e,2)}function So(t,e){return ro(t.getHours()%12||12,e,2)}function Do(t,e){return ro(1+hr.count(Cr(t),t),e,3)}function jo(t,e){return ro(t.getMilliseconds(),e,3)}function Ao(t,e){return jo(t,e)+"000"}function Lo(t,e){return ro(t.getMonth()+1,e,2)}function Eo(t,e){return ro(t.getMinutes(),e,2)}function Ro(t,e){return ro(t.getSeconds(),e,2)}function Ko(t){var e=t.getDay();return 0===e?7:e}function Uo(t,e){return ro(mr.count(Cr(t)-1,t),e,2)}function Po(t){var e=t.getDay();return e>=4||0===e?xr(t):xr.ceil(t)}function Yo(t,e){return t=Po(t),ro(xr.count(Cr(t),t)+(4===Cr(t).getDay()),e,2)}function Fo(t){return t.getDay()}function qo(t,e){return ro(yr.count(Cr(t)-1,t),e,2)}function Ho(t,e){return ro(t.getFullYear()%100,e,2)}function Oo(t,e){return ro((t=Po(t)).getFullYear()%100,e,2)}function Io(t,e){return ro(t.getFullYear()%1e4,e,4)}function Wo(t,e){var n=t.getDay();return ro((t=n>=4||0===n?xr(t):xr.ceil(t)).getFullYear()%1e4,e,4)}function Go(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ro(e/60|0,"0",2)+ro(e%60,"0",2)}function Xo(t,e){return ro(t.getUTCDate(),e,2)}function Vo(t,e){return ro(t.getUTCHours(),e,2)}function Bo(t,e){return ro(t.getUTCHours()%12||12,e,2)}function Zo(t,e){return ro(1+jr.count(Or(t),t),e,3)}function Jo(t,e){return ro(t.getUTCMilliseconds(),e,3)}function Qo(t,e){return Jo(t,e)+"000"}function ti(t,e){return ro(t.getUTCMonth()+1,e,2)}function ei(t,e){return ro(t.getUTCMinutes(),e,2)}function ni(t,e){return ro(t.getUTCSeconds(),e,2)}function ri(t){var e=t.getUTCDay();return 0===e?7:e}function oi(t,e){return ro(Lr.count(Or(t)-1,t),e,2)}function ii(t){var e=t.getUTCDay();return e>=4||0===e?Ur(t):Ur.ceil(t)}function si(t,e){return t=ii(t),ro(Ur.count(Or(t),t)+(4===Or(t).getUTCDay()),e,2)}function ai(t){return t.getUTCDay()}function li(t,e){return ro(Er.count(Or(t)-1,t),e,2)}function ci(t,e){return ro(t.getUTCFullYear()%100,e,2)}function ui(t,e){return ro((t=ii(t)).getUTCFullYear()%100,e,2)}function fi(t,e){return ro(t.getUTCFullYear()%1e4,e,4)}function pi(t,e){var n=t.getUTCDay();return ro((t=n>=4||0===n?Ur(t):Ur.ceil(t)).getUTCFullYear()%1e4,e,4)}function di(){return"+0000"}function hi(){return"%"}function gi(t){return+t}function mi(t){return Math.floor(+t/1e3)}function yi(t){return new Date(t)}function vi(t){return t instanceof Date?+t:+new Date(+t)}function $i(t,e,n,r,o,i,s,a,l,c){var u=mn(),f=u.invert,p=u.domain,d=c(".%L"),h=c(":%S"),g=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),v=c("%b %d"),$=c("%B"),x=c("%Y");function b(t){return(l(t)<t?d:a(t)<t?h:s(t)<t?g:i(t)<t?m:r(t)<t?o(t)<t?y:v:n(t)<t?$:x)(t)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?p(Array.from(t,vi)):p().map(yi)},u.ticks=function(e){var n=p();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?b:c(e)},u.nice=function(t){var n=p();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?p(En(n,t)):u},u.copy=function(){return hn(u,$i(t,e,n,r,o,i,s,a,l,c))},u}function xi(){return le.apply($i(Wr,Gr,Cr,kr,mr,hr,pr,ur,lr,Jr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function bi(t){let e,n;const r=t[7].default,o=l(r,t,t[6],null);return{c(){e=x("div"),o&&o.c(),C(e,"class","step-container svelte-7r8c22")},m(r,i){y(r,e,i),o&&o.m(e,null),t[8](e),n=!0},p(t,[e]){o&&o.p&&(!n||64&e)&&f(o,r,t,t[6],n?u(r,t[6],e,null):p(t[6]),null)},i(t){n||(tt(o,t),n=!0)},o(t){et(o,t),n=!1},d(n){n&&v(e),o&&o.d(n),t[8](null)}}}function _i(t,e,n){let{$$slots:r={},$$scope:o}=e,{root:i=null}=e,{top:s=0}=e,{bottom:a=0}=e,{increments:l=100}=e,{value:c}=e;const u=[],f=[];let p,d=[],h=[];const g=()=>{d.length&&d.forEach(m)},m=(t,e)=>{const r={root:i,rootMargin:`${s?-1*s:0}px 0px ${a?-1*a:0}px 0px`,threshold:f};h[e]&&h[e].disconnect();const o=new IntersectionObserver((t=>{t[0].isIntersecting;const r=t[0].intersectionRatio;u[e]=r,(()=>{let t=0,e=0;for(let n=0;n<u.length;n++)u[n]>t&&(t=u[n],e=n);n(1,c=t>0?e:void 0)})()}),r);o.observe(t),h[e]=o};return R((()=>{for(let t=0;t<l+1;t++)f.push(t/l);d=p.querySelectorAll(":scope > *"),g()})),t.$$set=t=>{"root"in t&&n(2,i=t.root),"top"in t&&n(3,s=t.top),"bottom"in t&&n(4,a=t.bottom),"increments"in t&&n(5,l=t.increments),"value"in t&&n(1,c=t.value),"$$scope"in t&&n(6,o=t.$$scope)},t.$$.update=()=>{24&t.$$.dirty&&g()},[p,c,i,s,a,l,o,r,function(t){Y[t?"unshift":"push"]((()=>{p=t,n(0,p)}))}]}!function(t){Zr=function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=io(o),u=so(o),f=io(i),p=so(i),d=io(s),h=so(s),g=io(a),m=so(a),y=io(l),v=so(l),$={a:function(t){return s[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:No,e:No,f:Ao,g:Oo,G:Wo,H:zo,I:So,j:Do,L:jo,m:Lo,M:Eo,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:gi,s:mi,S:Ro,u:Ko,U:Uo,V:Yo,w:Fo,W:qo,x:null,X:null,y:Ho,Y:Io,Z:Go,"%":hi},x={a:function(t){return s[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Xo,e:Xo,f:Qo,g:ui,G:pi,H:Vo,I:Bo,j:Zo,L:Jo,m:ti,M:ei,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:gi,s:mi,S:ni,u:ri,U:oi,V:si,w:ai,W:li,x:null,X:null,y:ci,Y:fi,Z:di,"%":hi},b={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:vo,e:vo,f:ko,g:ho,G:po,H:xo,I:xo,j:$o,L:wo,m:yo,M:bo,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:mo,Q:Co,s:To,S:_o,u:lo,U:co,V:uo,w:ao,W:fo,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:ho,Y:po,Z:go,"%":Mo};function _(t,e){return function(n){var r,o,i,s=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(o=Qr[r=t.charAt(++a)])?r=t.charAt(++a):o="e"===r?" ":"0",(i=e[r])&&(r=i(n,o)),s.push(r),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function w(t,e){return function(n){var r,o,i=Br(1900,void 0,1);if(k(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(e&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=Vr(Br(i.y,0,1))).getUTCDay(),r=o>4||0===o?Er.ceil(r):Er(r),r=jr.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=Xr(Br(i.y,0,1))).getDay(),r=o>4||0===o?yr.ceil(r):yr(r),r=hr.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?Vr(Br(i.y,0,1)).getUTCDay():Xr(Br(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Vr(i)):Xr(i)}}function k(t,e,n,r){for(var o,i,s=0,a=e.length,l=n.length;s<a;){if(r>=l)return-1;if(37===(o=e.charCodeAt(s++))){if(o=e.charAt(s++),!(i=b[o in Qr?e.charAt(s++):o])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return $.x=_(n,$),$.X=_(r,$),$.c=_(e,$),x.x=_(n,x),x.X=_(r,x),x.c=_(e,x),{format:function(t){var e=_(t+="",$);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t+="",!0);return e.toString=function(){return t},e}}}(t),Jr=Zr.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});class wi extends at{constructor(t){super(),st(this,t,_i,bi,i,{root:2,top:3,bottom:4,increments:5,value:1})}}const ki=[];function Mi(e,n=t){let r;const o=new Set;function s(t){if(i(e,t)&&(e=t,r)){const t=!ki.length;for(const t of o)t[1](),ki.push(t,e);if(t){for(let t=0;t<ki.length;t+=2)ki[t][0](ki[t+1]);ki.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const l=[i,a];return o.add(l),1===o.size&&(r=n(s)||t),i(e),()=>{o.delete(l),0===o.size&&(r(),r=null)}}}}function Ci(e,n,i){const a=!Array.isArray(e),l=a?[e]:e,c=n.length<2;return u=e=>{let i=!1;const u=[];let f=0,p=t;const d=()=>{if(f)return;p();const r=n(a?u[0]:u,e);c?e(r):p=o(r)?r:t},h=l.map(((t,e)=>s(t,(t=>{u[e]=t,f&=~(1<<e),i&&d()}),(()=>{f|=1<<e}))));return i=!0,d(),function(){r(h),p()}},{subscribe:Mi(i,u).subscribe};var u}function Ti(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function Ni(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function zi(t,e){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array. If you got this error using the <LayerCake> component, consider passing a flat array to the `flatData` prop. More info: https://layercake.graphics/guide/#flatdata");if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(e),o=r.length;let i,s,a,l,c,u,f,p;const d=t.length;for(i=0;i<o;i+=1){for(l=r[i],f=e[l],c=null,u=null,s=0;s<d;s+=1)if(p=f(t[s]),Array.isArray(p)){const t=p.length;for(a=0;a<t;a+=1)void 0!==p[a]&&null!==p[a]&&!1===Number.isNaN(p[a])&&((null===c||p[a]<c)&&(c=p[a]),(null===u||p[a]>u)&&(u=p[a]))}else null!=p&&!1===Number.isNaN(p)&&((null===c||p<c)&&(c=p),(null===u||p>u)&&(u=p));n[l]=[c,u]}return n}function Si(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}function Di(t){return function([e,n]){return e?Si(e[t],n):n}}var ji={x:Ln,y:Ln,z:Ln,r:function(){return Xn.apply(null,arguments).exponent(.5)}};function Ai(t){return t}function Li(t){return e=>Math.log(t*e)}function Ei(t){return e=>t*Math.exp(e)}function Ri(t){return e=>Math.sign(e)*Math.log1p(Math.abs(e/t))}function Ki(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Ui(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Pi(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:r}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:Li(n),ground:Ei(n),scaleType:e}}if("pow"===e){const t=1;return{lift:Ui(t),ground:Ui(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:Ui(t),ground:Ui(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:Ri(t),ground:Ki(t),scaleType:e}}return{lift:Ai,ground:Ai,scaleType:e}}(t),o=t.domain()[0],i="[object Date]"===Object.prototype.toString.call(o),[s,a]=t.domain().map((t=>n(i?t.getTime():t))),[l,c]=t.range(),u=e[0]||0,f=e[1]||0,p=(a-s)/(Math.abs(c-l)-u-f);return[s-u*p,f*p+a].map((t=>r(i?new Date(t):t)))}function Yi(t){return function([e,n,r,o,i,s,a,l,c,u]){if(null===n)return null;const f=function(t,e,n,r,o,i){return o?"function"==typeof o?o({width:e,height:n}):o:function(t,e,n,r,o){let i,s;return!0===o?(i=0,s=100):(i="r"===t?1:0,s="y"===t?n:"r"===t?25:e),!0===r?[s,i]:[i,s]}(t,e,n,r,i)}(t,a,l,s,c,u),p=e===ji[t]?e():e.copy();return p.domain(Si(n[t],r)).range(f),o&&p.domain(Pi(p,o)),!0===i&&("function"==typeof p.nice?p.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),p}}function Fi([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map((t=>e(t))):e(r)}}function qi([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var Hi={x:!1,y:!0,z:!1,r:!1};const Oi=t=>({element:4&t[0],width:256&t[0],height:512&t[0],aspectRatio:1024&t[0],containerWidth:128&t[0],containerHeight:64&t[0]}),Ii=t=>({element:t[2],width:t[8],height:t[9],aspectRatio:t[10],containerWidth:t[7],containerHeight:t[6]});function Wi(t){let e,n,r;const o=t[90].default,i=l(o,t,t[89],Ii);return{c(){e=x("div"),i&&i.c(),C(e,"class","layercake-container svelte-1ll0j6t"),I((()=>t[92].call(e))),N(e,"position",t[5],!1),N(e,"top","absolute"===t[5]?"0":null,!1),N(e,"right","absolute"===t[5]?"0":null,!1),N(e,"bottom","absolute"===t[5]?"0":null,!1),N(e,"left","absolute"===t[5]?"0":null,!1),N(e,"pointer-events",!1===t[4]?"none":null,!1)},m(o,s){y(o,e,s),i&&i.m(e,null),t[91](e),n=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=x("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=j();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=M(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{o=M(n.contentWindow,"resize",e)}),m(t,n),()=>{(r||o&&n.contentWindow)&&o(),v(n)}}(e,t[92].bind(e)),r=!0},p(t,n){i&&i.p&&(!r||1988&n[0]|134217728&n[2])&&f(i,o,t,t[89],r?u(o,t[89],n,Oi):p(t[89]),Ii),32&n[0]&&N(e,"position",t[5],!1),32&n[0]&&N(e,"top","absolute"===t[5]?"0":null,!1),32&n[0]&&N(e,"right","absolute"===t[5]?"0":null,!1),32&n[0]&&N(e,"bottom","absolute"===t[5]?"0":null,!1),32&n[0]&&N(e,"left","absolute"===t[5]?"0":null,!1),16&n[0]&&N(e,"pointer-events",!1===t[4]?"none":null,!1)},i(t){r||(tt(i,t),r=!0)},o(t){et(i,t),r=!1},d(r){r&&v(e),i&&i.d(r),t[91](null),n()}}}function Gi(t){let e,n,r=(!0===t[3]||"undefined"!=typeof window)&&Wi(t);return{c(){r&&r.c(),e=k()},m(t,o){r&&r.m(t,o),y(t,e,o),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,n),8&n[0]&&tt(r,1)):(r=Wi(t),r.c(),tt(r,1),r.m(e.parentNode,e)):r&&(J(),et(r,1,1,(()=>{r=null})),Q())},i(t){n||(tt(r),n=!0)},o(t){et(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function Xi(t,e,n){let r,o,i,s,l,c,u,f,p,d,g,m,y,v,$,x,b,_,w,k,M,C,T,N,z,S,D,j,A,L,K,U,P,F,q,H,O,I,W,G,X,{$$slots:V={},$$scope:B}=e,{ssr:Z=!1}=e,{pointerEvents:J=!0}=e,{position:Q="relative"}=e,{percentRange:tt=!1}=e,{width:et}=e,{height:nt}=e,{containerWidth:rt=et||100}=e,{containerHeight:ot=nt||100}=e,{element:it}=e,{x:st}=e,{y:at}=e,{z:lt}=e,{r:ct}=e,{data:ut=[]}=e,{xDomain:ft}=e,{yDomain:pt}=e,{zDomain:dt}=e,{rDomain:ht}=e,{xNice:gt=!1}=e,{yNice:mt=!1}=e,{zNice:yt=!1}=e,{rNice:vt=!1}=e,{xReverse:$t=Hi.x}=e,{yReverse:xt=Hi.y}=e,{zReverse:bt=Hi.z}=e,{rReverse:_t=Hi.r}=e,{xPadding:wt}=e,{yPadding:kt}=e,{zPadding:Mt}=e,{rPadding:Ct}=e,{xScale:Tt=ji.x}=e,{yScale:Nt=ji.y}=e,{zScale:zt=ji.z}=e,{rScale:St=ji.r}=e,{xRange:Dt}=e,{yRange:jt}=e,{zRange:At}=e,{rRange:Lt}=e,{padding:Et={}}=e,{extents:Rt={}}=e,{flatData:Kt}=e,{custom:Ut={}}=e,Pt=!1;R((()=>{Pt=!0}));const Yt={},Ft=Mi(tt);a(t,Ft,(t=>n(128,I=t)));const qt=Mi(rt);a(t,qt,(t=>n(7,O=t)));const Ht=Mi(ot);a(t,Ht,(t=>n(6,H=t)));const Ot=Mi(Ni(Rt));a(t,Ot,(t=>n(127,q=t)));const It=Mi(ut);a(t,It,(t=>n(126,F=t)));const Wt=Mi(Kt||ut);a(t,Wt,(t=>n(125,P=t)));const Gt=Mi(Et);a(t,Gt,(t=>n(124,U=t)));const Xt=Mi(Ti(st));a(t,Xt,(t=>n(123,K=t)));const Vt=Mi(Ti(at));a(t,Vt,(t=>n(122,L=t)));const Bt=Mi(Ti(lt));a(t,Bt,(t=>n(121,A=t)));const Zt=Mi(Ti(ct));a(t,Zt,(t=>n(120,j=t)));const Jt=Mi(ft);a(t,Jt,(t=>n(119,D=t)));const Qt=Mi(pt);a(t,Qt,(t=>n(118,S=t)));const te=Mi(dt);a(t,te,(t=>n(117,z=t)));const ee=Mi(ht);a(t,ee,(t=>n(116,N=t)));const ne=Mi(gt);a(t,ne,(t=>n(115,T=t)));const re=Mi(mt);a(t,re,(t=>n(114,C=t)));const oe=Mi(yt);a(t,oe,(t=>n(113,M=t)));const ie=Mi(vt);a(t,ie,(t=>n(112,k=t)));const se=Mi($t);a(t,se,(t=>n(111,w=t)));const ae=Mi(xt);a(t,ae,(t=>n(110,_=t)));const le=Mi(bt);a(t,le,(t=>n(109,b=t)));const ce=Mi(_t);a(t,ce,(t=>n(108,x=t)));const ue=Mi(wt);a(t,ue,(t=>n(107,$=t)));const fe=Mi(kt);a(t,fe,(t=>n(106,v=t)));const pe=Mi(Mt);a(t,pe,(t=>n(105,y=t)));const de=Mi(Ct);a(t,de,(t=>n(104,m=t)));const he=Mi(Dt);a(t,he,(t=>n(103,g=t)));const ge=Mi(jt);a(t,ge,(t=>n(102,d=t)));const me=Mi(At);a(t,me,(t=>n(101,p=t)));const ye=Mi(Lt);a(t,ye,(t=>n(100,f=t)));const ve=Mi(Tt);a(t,ve,(t=>n(99,u=t)));const $e=Mi(Nt);a(t,$e,(t=>n(98,c=t)));const xe=Mi(zt);a(t,xe,(t=>n(97,l=t)));const be=Mi(St);a(t,be,(t=>n(96,s=t)));const _e=Mi(Yt);a(t,_e,(t=>n(94,o=t)));const we=Mi(Ut);a(t,we,(t=>n(95,i=t)));const ke=Ci([Xt,Vt,Bt,Zt],(([t,e,n,r])=>{const o={};return t&&(o.x=t),e&&(o.y=e),n&&(o.z=n),r&&(o.r=r),o})),Me=Ci([Gt,qt,Ht],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Ce=Ci([qt,Ht,Me],(([t,e,n])=>{const r={};return r.top=n.top,r.right=t-n.right,r.bottom=e-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&!0===Pt&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&!0===Pt&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Te=Ci([Ce],(([t])=>t.width));a(t,Te,(t=>n(8,W=t)));const Ne=Ci([Ce],(([t])=>t.height));a(t,Ne,(t=>n(9,G=t)));const ze=Ci([Wt,ke,Ot],(([t,e,n])=>{const r=Ni(e,n);return Object.keys(r).length>0?{...zi(t,r),...n}:{}})),Se=Ci([ze,Jt],Di("x")),De=Ci([ze,Qt],Di("y")),je=Ci([ze,te],Di("z")),Ae=Ci([ze,ee],Di("r")),Le=Ci([ve,ze,Se,ue,ne,se,Te,Ne,he,Ft],Yi("x")),Ee=Ci([Xt,Le],Fi),Re=Ci([$e,ze,De,fe,re,ae,Te,Ne,ge,Ft],Yi("y")),Ke=Ci([Vt,Re],Fi),Ue=Ci([xe,ze,je,pe,oe,le,Te,Ne,me,Ft],Yi("z")),Pe=Ci([Bt,Ue],Fi),Ye=Ci([be,ze,Ae,de,ie,ce,Te,Ne,ye,Ft],Yi("r")),Fe=Ci([Zt,Ye],Fi),qe=Ci([Le],qi),He=Ci([Re],qi),Oe=Ci([Ue],qi),Ie=Ci([Ye],qi),We=Ci([Te,Ne],(([t,e])=>t/e));return a(t,We,(t=>n(10,X=t))),t.$$set=t=>{"ssr"in t&&n(3,Z=t.ssr),"pointerEvents"in t&&n(4,J=t.pointerEvents),"position"in t&&n(5,Q=t.position),"percentRange"in t&&n(51,tt=t.percentRange),"width"in t&&n(52,et=t.width),"height"in t&&n(53,nt=t.height),"containerWidth"in t&&n(0,rt=t.containerWidth),"containerHeight"in t&&n(1,ot=t.containerHeight),"element"in t&&n(2,it=t.element),"x"in t&&n(54,st=t.x),"y"in t&&n(55,at=t.y),"z"in t&&n(56,lt=t.z),"r"in t&&n(57,ct=t.r),"data"in t&&n(58,ut=t.data),"xDomain"in t&&n(59,ft=t.xDomain),"yDomain"in t&&n(60,pt=t.yDomain),"zDomain"in t&&n(61,dt=t.zDomain),"rDomain"in t&&n(62,ht=t.rDomain),"xNice"in t&&n(63,gt=t.xNice),"yNice"in t&&n(64,mt=t.yNice),"zNice"in t&&n(65,yt=t.zNice),"rNice"in t&&n(66,vt=t.rNice),"xReverse"in t&&n(67,$t=t.xReverse),"yReverse"in t&&n(68,xt=t.yReverse),"zReverse"in t&&n(69,bt=t.zReverse),"rReverse"in t&&n(70,_t=t.rReverse),"xPadding"in t&&n(71,wt=t.xPadding),"yPadding"in t&&n(72,kt=t.yPadding),"zPadding"in t&&n(73,Mt=t.zPadding),"rPadding"in t&&n(74,Ct=t.rPadding),"xScale"in t&&n(75,Tt=t.xScale),"yScale"in t&&n(76,Nt=t.yScale),"zScale"in t&&n(77,zt=t.zScale),"rScale"in t&&n(78,St=t.rScale),"xRange"in t&&n(79,Dt=t.xRange),"yRange"in t&&n(80,jt=t.yRange),"zRange"in t&&n(81,At=t.zRange),"rRange"in t&&n(82,Lt=t.rRange),"padding"in t&&n(83,Et=t.padding),"extents"in t&&n(84,Rt=t.extents),"flatData"in t&&n(85,Kt=t.flatData),"custom"in t&&n(86,Ut=t.custom),"$$scope"in t&&n(89,B=t.$$scope)},t.$$.update=()=>{8388608&t.$$.dirty[1]&&st&&n(87,Yt.x=st,Yt),16777216&t.$$.dirty[1]&&at&&n(87,Yt.y=at,Yt),33554432&t.$$.dirty[1]&&lt&&n(87,Yt.z=lt,Yt),67108864&t.$$.dirty[1]&&ct&&n(87,Yt.r=ct,Yt),268435456&t.$$.dirty[1]&&ft&&n(87,Yt.xDomain=ft,Yt),536870912&t.$$.dirty[1]&&pt&&n(87,Yt.yDomain=pt,Yt),1073741824&t.$$.dirty[1]&&dt&&n(87,Yt.zDomain=dt,Yt),1&t.$$.dirty[2]&&ht&&n(87,Yt.rDomain=ht,Yt),131072&t.$$.dirty[2]&&Dt&&n(87,Yt.xRange=Dt,Yt),262144&t.$$.dirty[2]&&jt&&n(87,Yt.yRange=jt,Yt),524288&t.$$.dirty[2]&&At&&n(87,Yt.zRange=At,Yt),1048576&t.$$.dirty[2]&&Lt&&n(87,Yt.rRange=Lt,Yt),1048576&t.$$.dirty[1]&&h(Ft,I=tt,I),1&t.$$.dirty[0]&&h(qt,O=rt,O),2&t.$$.dirty[0]&&h(Ht,H=ot,H),4194304&t.$$.dirty[2]&&h(Ot,q=Ni(Rt),q),134217728&t.$$.dirty[1]&&h(It,F=ut,F),134217728&t.$$.dirty[1]|8388608&t.$$.dirty[2]&&h(Wt,P=Kt||ut,P),2097152&t.$$.dirty[2]&&h(Gt,U=Et,U),8388608&t.$$.dirty[1]&&h(Xt,K=Ti(st),K),16777216&t.$$.dirty[1]&&h(Vt,L=Ti(at),L),33554432&t.$$.dirty[1]&&h(Bt,A=Ti(lt),A),67108864&t.$$.dirty[1]&&h(Zt,j=Ti(ct),j),268435456&t.$$.dirty[1]&&h(Jt,D=ft,D),536870912&t.$$.dirty[1]&&h(Qt,S=pt,S),1073741824&t.$$.dirty[1]&&h(te,z=dt,z),1&t.$$.dirty[2]&&h(ee,N=ht,N),2&t.$$.dirty[2]&&h(ne,T=gt,T),4&t.$$.dirty[2]&&h(re,C=mt,C),8&t.$$.dirty[2]&&h(oe,M=yt,M),16&t.$$.dirty[2]&&h(ie,k=vt,k),32&t.$$.dirty[2]&&h(se,w=$t,w),64&t.$$.dirty[2]&&h(ae,_=xt,_),128&t.$$.dirty[2]&&h(le,b=bt,b),256&t.$$.dirty[2]&&h(ce,x=_t,x),512&t.$$.dirty[2]&&h(ue,$=wt,$),1024&t.$$.dirty[2]&&h(fe,v=kt,v),2048&t.$$.dirty[2]&&h(pe,y=Mt,y),4096&t.$$.dirty[2]&&h(de,m=Ct,m),131072&t.$$.dirty[2]&&h(he,g=Dt,g),262144&t.$$.dirty[2]&&h(ge,d=jt,d),524288&t.$$.dirty[2]&&h(me,p=At,p),1048576&t.$$.dirty[2]&&h(ye,f=Lt,f),8192&t.$$.dirty[2]&&h(ve,u=Tt,u),16384&t.$$.dirty[2]&&h($e,c=Nt,c),32768&t.$$.dirty[2]&&h(xe,l=zt,l),65536&t.$$.dirty[2]&&h(be,s=St,s),16777216&t.$$.dirty[2]&&h(we,i=Ut,i),33554432&t.$$.dirty[2]&&h(_e,o=Yt,o),67108864&t.$$.dirty[2]&&function(t,e){E().$$.context.set(t,e)}("LayerCake",r)},n(88,r={activeGetters:ke,width:Te,height:Ne,percentRange:Ft,aspectRatio:We,containerWidth:qt,containerHeight:Ht,x:Xt,y:Vt,z:Bt,r:Zt,custom:we,data:It,xNice:ne,yNice:re,zNice:oe,rNice:ie,xReverse:se,yReverse:ae,zReverse:le,rReverse:ce,xPadding:ue,yPadding:fe,zPadding:pe,rPadding:de,padding:Me,flatData:Wt,extents:ze,xDomain:Se,yDomain:De,zDomain:je,rDomain:Ae,xRange:qe,yRange:He,zRange:Oe,rRange:Ie,config:_e,xScale:Le,xGet:Ee,yScale:Re,yGet:Ke,zScale:Ue,zGet:Pe,rScale:Ye,rGet:Fe}),[rt,ot,it,Z,J,Q,H,O,W,G,X,Ft,qt,Ht,Ot,It,Wt,Gt,Xt,Vt,Bt,Zt,Jt,Qt,te,ee,ne,re,oe,ie,se,ae,le,ce,ue,fe,pe,de,he,ge,me,ye,ve,$e,xe,be,_e,we,Te,Ne,We,tt,et,nt,st,at,lt,ct,ut,ft,pt,dt,ht,gt,mt,yt,vt,$t,xt,bt,_t,wt,kt,Mt,Ct,Tt,Nt,zt,St,Dt,jt,At,Lt,Et,Rt,Kt,Ut,Yt,r,B,V,function(t){Y[t?"unshift":"push"]((()=>{it=t,n(2,it)}))},function(){rt=this.clientWidth,ot=this.clientHeight,n(0,rt),n(1,ot)}]}class Vi extends at{constructor(t){super(),st(this,t,Xi,Gi,i,{ssr:3,pointerEvents:4,position:5,percentRange:51,width:52,height:53,containerWidth:0,containerHeight:1,element:2,x:54,y:55,z:56,r:57,data:58,xDomain:59,yDomain:60,zDomain:61,rDomain:62,xNice:63,yNice:64,zNice:65,rNice:66,xReverse:67,yReverse:68,zReverse:69,rReverse:70,xPadding:71,yPadding:72,zPadding:73,rPadding:74,xScale:75,yScale:76,zScale:77,rScale:78,xRange:79,yRange:80,zRange:81,rRange:82,padding:83,extents:84,flatData:85,custom:86},null,[-1,-1,-1,-1,-1])}}const Bi=t=>({element:1&t}),Zi=t=>({element:t[0]});function Ji(t){let e,n;const r=t[6].default,o=l(r,t,t[5],Zi);return{c(){e=x("div"),o&&o.c(),C(e,"class","layercake-layout-html svelte-1u9nfei"),N(e,"z-index",t[1],!1),N(e,"pointer-events",!1===t[2]?"none":null,!1),N(e,"top",t[3].top+"px",!1),N(e,"right",t[3].right+"px",!1),N(e,"bottom",t[3].bottom+"px",!1),N(e,"left",t[3].left+"px",!1)},m(r,i){y(r,e,i),o&&o.m(e,null),t[7](e),n=!0},p(t,[i]){o&&o.p&&(!n||33&i)&&f(o,r,t,t[5],n?u(r,t[5],i,Bi):p(t[5]),Zi),2&i&&N(e,"z-index",t[1],!1),4&i&&N(e,"pointer-events",!1===t[2]?"none":null,!1),8&i&&N(e,"top",t[3].top+"px",!1),8&i&&N(e,"right",t[3].right+"px",!1),8&i&&N(e,"bottom",t[3].bottom+"px",!1),8&i&&N(e,"left",t[3].left+"px",!1)},i(t){n||(tt(o,t),n=!0)},o(t){et(o,t),n=!1},d(n){n&&v(e),o&&o.d(n),t[7](null)}}}function Qi(t,e,n){let r,{$$slots:o={},$$scope:i}=e,{element:s}=e,{zIndex:l}=e,{pointerEvents:c}=e;const{padding:u}=U("LayerCake");return a(t,u,(t=>n(3,r=t))),t.$$set=t=>{"element"in t&&n(0,s=t.element),"zIndex"in t&&n(1,l=t.zIndex),"pointerEvents"in t&&n(2,c=t.pointerEvents),"$$scope"in t&&n(5,i=t.$$scope)},[s,l,c,r,u,i,o,function(t){Y[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class ts extends at{constructor(t){super(),st(this,t,Qi,Ji,i,{element:0,zIndex:1,pointerEvents:2})}}const es=t=>({element:1&t}),ns=t=>({element:t[0]}),rs=t=>({element:1&t}),os=t=>({element:t[0]});function is(t){let e,n,r,o,i;const s=t[12].defs,a=l(s,t,t[11],os),c=t[12].default,d=l(c,t,t[11],ns);return{c(){e=b("svg"),n=b("defs"),a&&a.c(),r=b("g"),d&&d.c(),C(r,"class","layercake-layout-svg_g"),C(r,"transform",o="translate("+t[7].left+", "+t[7].top+")"),C(e,"class","layercake-layout-svg svelte-17l4rdd"),C(e,"viewBox",t[4]),C(e,"width",t[5]),C(e,"height",t[6]),N(e,"z-index",t[2],!1),N(e,"pointer-events",!1===t[3]?"none":null,!1)},m(o,s){y(o,e,s),m(e,n),a&&a.m(n,null),m(e,r),d&&d.m(r,null),t[13](r),t[14](e),i=!0},p(t,[n]){a&&a.p&&(!i||2049&n)&&f(a,s,t,t[11],i?u(s,t[11],n,rs):p(t[11]),os),d&&d.p&&(!i||2049&n)&&f(d,c,t,t[11],i?u(c,t[11],n,es):p(t[11]),ns),(!i||128&n&&o!==(o="translate("+t[7].left+", "+t[7].top+")"))&&C(r,"transform",o),(!i||16&n)&&C(e,"viewBox",t[4]),(!i||32&n)&&C(e,"width",t[5]),(!i||64&n)&&C(e,"height",t[6]),4&n&&N(e,"z-index",t[2],!1),8&n&&N(e,"pointer-events",!1===t[3]?"none":null,!1)},i(t){i||(tt(a,t),tt(d,t),i=!0)},o(t){et(a,t),et(d,t),i=!1},d(n){n&&v(e),a&&a.d(n),d&&d.d(n),t[13](null),t[14](null)}}}function ss(t,e,n){let r,o,i,{$$slots:s={},$$scope:l}=e,{element:c}=e,{innerElement:u}=e,{zIndex:f}=e,{pointerEvents:p}=e,{viewBox:d}=e;const{containerWidth:h,containerHeight:g,padding:m}=U("LayerCake");return a(t,h,(t=>n(5,r=t))),a(t,g,(t=>n(6,o=t))),a(t,m,(t=>n(7,i=t))),t.$$set=t=>{"element"in t&&n(0,c=t.element),"innerElement"in t&&n(1,u=t.innerElement),"zIndex"in t&&n(2,f=t.zIndex),"pointerEvents"in t&&n(3,p=t.pointerEvents),"viewBox"in t&&n(4,d=t.viewBox),"$$scope"in t&&n(11,l=t.$$scope)},[c,u,f,p,d,r,o,i,h,g,m,l,s,function(t){Y[t?"unshift":"push"]((()=>{u=t,n(1,u)}))},function(t){Y[t?"unshift":"push"]((()=>{c=t,n(0,c)}))}]}class as extends at{constructor(t){super(),st(this,t,ss,is,i,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}function ls(t){if(Array.isArray(t)&&Array.isArray(t[0])){let e=[];const n=t.length;for(let r=0;r<n;r+=1)e=e.concat(t[r]);return e}return t}function cs(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i,s,a,l,c,u,f,p,d=t._root,h={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=h,t;for(;d.length;)if((c=e>=(i=(g+y)/2))?g=i:y=i,(u=n>=(s=(m+v)/2))?m=s:v=s,o=d,!(d=d[f=u<<1|c]))return o[f]=h,t;if(a=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===a&&n===l)return h.next=d,o?o[f]=h:t._root=h,t;do{o=o?o[f]=new Array(4):t._root=new Array(4),(c=e>=(i=(g+y)/2))?g=i:y=i,(u=n>=(s=(m+v)/2))?m=s:v=s}while((f=u<<1|c)==(p=(l>=s)<<1|a>=i));return o[p]=d,o[f]=h,t}function us(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function fs(t){return t[0]}function ps(t){return t[1]}function ds(t,e,n){var r=new hs(null==e?fs:e,null==n?ps:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function hs(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function gs(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var ms=ds.prototype=hs.prototype;function ys(t){return function(){return t}}function vs(t){return 1e-6*(t()-.5)}function $s(t){return t.x+t.vx}function xs(t){return t.y+t.vy}ms.copy=function(){var t,e,n=new hs(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=gs(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(e=r.source[o])&&(e.length?t.push({source:e,target:r.target[o]=new Array(4)}):r.target[o]=gs(e));return n},ms.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return cs(this.cover(e,n),e,n,t)},ms.addAll=function(t){var e,n,r,o,i=t.length,s=new Array(i),a=new Array(i),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=r,a[n]=o,r<l&&(l=r),r>u&&(u=r),o<c&&(c=o),o>f&&(f=o));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<i;++n)cs(this,s[n],a[n],t[n]);return this},ms.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var s,a,l=o-n||1,c=this._root;n>t||t>=o||r>e||e>=i;)switch(a=(e<r)<<1|t<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},ms.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},ms.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ms.find=function(t,e,n){var r,o,i,s,a,l,c,u=this._x0,f=this._y0,p=this._x1,d=this._y1,h=[],g=this._root;for(g&&h.push(new us(g,u,f,p,d)),null==n?n=1/0:(u=t-n,f=e-n,p=t+n,d=e+n,n*=n);l=h.pop();)if(!(!(g=l.node)||(o=l.x0)>p||(i=l.y0)>d||(s=l.x1)<u||(a=l.y1)<f))if(g.length){var m=(o+s)/2,y=(i+a)/2;h.push(new us(g[3],m,y,s,a),new us(g[2],o,y,m,a),new us(g[1],m,i,s,y),new us(g[0],o,i,m,y)),(c=(e>=y)<<1|t>=m)&&(l=h[h.length-1],h[h.length-1]=h[h.length-1-c],h[h.length-1-c]=l)}else{var v=t-+this._x.call(null,g.data),$=e-+this._y.call(null,g.data),x=v*v+$*$;if(x<n){var b=Math.sqrt(n=x);u=t-b,f=e-b,p=t+b,d=e+b,r=g.data}}return r},ms.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,o,i,s,a,l,c,u,f,p,d=this._root,h=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(a=(h+m)/2))?h=a:m=a,(u=s>=(l=(g+y)/2))?g=l:y=l,e=d,!(d=d[f=u<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,p=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,r?(o?r.next=o:delete r.next,this):e?(o?e[f]=o:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[p]=d:this._root=d),this):(this._root=o,this)},ms.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},ms.root=function(){return this._root},ms.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},ms.visit=function(t){var e,n,r,o,i,s,a=[],l=this._root;for(l&&a.push(new us(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,r=e.x0,o=e.y0,i=e.x1,s=e.y1)&&l.length){var c=(r+i)/2,u=(o+s)/2;(n=l[3])&&a.push(new us(n,c,u,i,s)),(n=l[2])&&a.push(new us(n,r,u,c,s)),(n=l[1])&&a.push(new us(n,c,o,i,u)),(n=l[0])&&a.push(new us(n,r,o,c,u))}return this},ms.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new us(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var i,s=e.x0,a=e.y0,l=e.x1,c=e.y1,u=(s+l)/2,f=(a+c)/2;(i=o[0])&&n.push(new us(i,s,a,u,f)),(i=o[1])&&n.push(new us(i,u,a,l,f)),(i=o[2])&&n.push(new us(i,s,f,u,c)),(i=o[3])&&n.push(new us(i,u,f,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ms.x=function(t){return arguments.length?(this._x=t,this):this._x},ms.y=function(t){return arguments.length?(this._y=t,this):this._y};var bs={value:()=>{}};function _s(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ws(r)}function ws(t){this._=t}function ks(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Ms(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function Cs(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=bs,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ws.prototype=_s.prototype={constructor:ws,on:function(t,e){var n,r=this._,o=ks(t+"",r),i=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<s;)if(n=(t=o[i]).type)r[n]=Cs(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Cs(r[n],t.name,null);return this}for(;++i<s;)if((n=(t=o[i]).type)&&(n=Ms(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ws(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var Ts,Ns,zs=0,Ss=0,Ds=0,js=0,As=0,Ls=0,Es="object"==typeof performance&&performance.now?performance:Date,Rs="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ks(){return As||(Rs(Us),As=Es.now()+Ls)}function Us(){As=0}function Ps(){this._call=this._time=this._next=null}function Ys(t,e,n){var r=new Ps;return r.restart(t,e,n),r}function Fs(){As=(js=Es.now())+Ls,zs=Ss=0;try{!function(){Ks(),++zs;for(var t,e=Ts;e;)(t=As-e._time)>=0&&e._call.call(void 0,t),e=e._next;--zs}()}finally{zs=0,function(){var t,e,n=Ts,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ts=e);Ns=t,Hs(r)}(),As=0}}function qs(){var t=Es.now(),e=t-js;e>1e3&&(Ls-=e,js=t)}function Hs(t){zs||(Ss&&(Ss=clearTimeout(Ss)),t-As>24?(t<1/0&&(Ss=setTimeout(Fs,t-Es.now()-Ls)),Ds&&(Ds=clearInterval(Ds))):(Ds||(js=Es.now(),Ds=setInterval(qs,1e3)),zs=1,Rs(Fs)))}Ps.prototype=Ys.prototype={constructor:Ps,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ks():+n)+(null==e?0:+e),this._next||Ns===this||(Ns?Ns._next=this:Ts=this,Ns=this),this._call=t,this._time=n,Hs()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hs())}};const Os=4294967296;function Is(t){return t.x}function Ws(t){return t.y}var Gs=Math.PI*(3-Math.sqrt(5));function Xs(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,s=.6,a=new Map,l=Ys(f),c=_s("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Os)/Os}();function f(){p(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function p(r){var l,c,u=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*o,a.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=10*Math.sqrt(.5+n),i=n*Gs;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function h(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:p,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),a.forEach(h),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(o=+t,e):+o},alphaTarget:function(t){return arguments.length?(i=+t,e):i},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(u=t,a.forEach(h),e):u},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,h(n)),e):a.get(t)},find:function(e,n,r){var o,i,s,a,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(s=(o=e-(a=t[c]).x)*o+(i=n-a.y)*i)<r&&(l=a,r=s);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function Vs(t,e,n){const r=t.slice();return r[26]=e[n],r}function Bs(t){let e,n,o,i,s,a,l;function c(...e){return t[19](t[26],...e)}function u(...e){return t[20](t[26],...e)}return{c(){e=b("circle"),C(e,"class","node"),C(e,"fill",n=t[4](t[26])),C(e,"stroke",t[1]),C(e,"stroke-width",t[0]),C(e,"cx",o=t[26].x),C(e,"cy",i=t[26].y),C(e,"r",s=t[2](t[26]))},m(t,n){y(t,e,n),a||(l=[M(e,"mouseover",c),M(e,"focus",u)],a=!0)},p(r,a){t=r,24&a&&n!==(n=t[4](t[26]))&&C(e,"fill",n),2&a&&C(e,"stroke",t[1]),1&a&&C(e,"stroke-width",t[0]),8&a&&o!==(o=t[26].x)&&C(e,"cx",o),8&a&&i!==(i=t[26].y)&&C(e,"cy",i),12&a&&s!==(s=t[2](t[26]))&&C(e,"r",s)},d(t){t&&v(e),a=!1,r(l)}}}function Zs(e){let n,o,i,s=e[3],a=[];for(let t=0;t<s.length;t+=1)a[t]=Bs(Vs(e,s,t));return{c(){n=b("g");for(let t=0;t<a.length;t+=1)a[t].c();C(n,"class","bee-group")},m(t,r){y(t,n,r);for(let t=0;t<a.length;t+=1)a[t].m(n,null);o||(i=[M(n,"mouseout",e[21]),M(n,"blur",e[22])],o=!0)},p(t,[e]){if(1055&e){let r;for(s=t[3],r=0;r<s.length;r+=1){const o=Vs(t,s,r);a[r]?a[r].p(o,e):(a[r]=Bs(o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},i:t,o:t,d(t){t&&v(n),$(a,t),o=!1,r(i)}}}function Js(t,e,n){let r,o,i,s,l;const{data:c,xGet:u,zGet:f,rGet:p,height:d,width:h}=U("LayerCake");a(t,c,(t=>n(23,s=t))),a(t,u,(t=>n(18,o=t))),a(t,f,(t=>n(4,l=t))),a(t,p,(t=>n(2,i=t))),a(t,d,(t=>n(17,r=t)));let{strokeWidth:g=1}=e,{stroke:m="#fff"}=e,{xStrength:y=.95}=e,{yStrength:v=.075}=e,{collideStrength:$=.075}=e,{currentStep:x}=e;const b=K();let _=s.map(((t,e)=>({...t,y:250,x:e/s.length*960}))),w=Xs(_);function k(t,e){if(3===x){const{target:n}=t;b("mousemove",{e:t,props:e}),n.classList.add("active-node")}}function M(t){if(3===x){const{target:e}=t;b("mouseout"),e.classList.remove("active-node")}}w.on("tick",(()=>{n(3,_=w.nodes())}));return t.$$set=t=>{"strokeWidth"in t&&n(0,g=t.strokeWidth),"stroke"in t&&n(1,m=t.stroke),"xStrength"in t&&n(12,y=t.xStrength),"yStrength"in t&&n(13,v=t.yStrength),"collideStrength"in t&&n(14,$=t.collideStrength),"currentStep"in t&&n(15,x=t.currentStep)},t.$$.update=()=>{487428&t.$$.dirty&&n(16,w=w.force("collide",function(t){var e,n,r,o=1,i=1;function s(){for(var t,s,l,c,u,f,p,d=e.length,h=0;h<i;++h)for(s=ds(e,$s,xs).visitAfter(a),t=0;t<d;++t)l=e[t],f=n[l.index],p=f*f,c=l.x+l.vx,u=l.y+l.vy,s.visit(g);function g(t,e,n,i,s){var a=t.data,d=t.r,h=f+d;if(!a)return e>c+h||i<c-h||n>u+h||s<u-h;if(a.index>l.index){var g=c-a.x-a.vx,m=u-a.y-a.vy,y=g*g+m*m;y<h*h&&(0===g&&(y+=(g=vs(r))*g),0===m&&(y+=(m=vs(r))*m),y=(h-(y=Math.sqrt(y)))/y*o,l.vx+=(g*=y)*(h=(d*=d)/(p+d)),l.vy+=(m*=y)*h,a.vx-=g*(h=1-h),a.vy-=m*h)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,o,i=e.length;for(n=new Array(i),r=0;r<i;++r)o=e[r],n[o.index]=+t(o,r,e)}}return"function"!=typeof t&&(t=ys(null==t?1:+t)),s.initialize=function(t,n){e=t,r=n,l()},s.iterations=function(t){return arguments.length?(i=+t,s):i},s.strength=function(t){return arguments.length?(o=+t,s):o},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:ys(+e),l(),s):t},s}((t=>i(t)+.5)).strength($).iterations(2)).force("x",function(t){var e,n,r,o=ys(.1);function i(t){for(var o,i=0,s=e.length;i<s;++i)(o=e[i]).vx+=(r[i]-o.x)*n[i]*t}function s(){if(e){var i,s=e.length;for(n=new Array(s),r=new Array(s),i=0;i<s;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=ys(null==t?0:+t)),i.initialize=function(t){e=t,s()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:ys(+t),s(),i):o},i.x=function(e){return arguments.length?(t="function"==typeof e?e:ys(+e),s(),i):t},i}().x((t=>o(t))).strength(y)).force("y",function(t){var e,n,r,o=ys(.1);function i(t){for(var o,i=0,s=e.length;i<s;++i)(o=e[i]).vy+=(r[i]-o.y)*n[i]*t}function s(){if(e){var i,s=e.length;for(n=new Array(s),r=new Array(s),i=0;i<s;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=ys(null==t?0:+t)),i.initialize=function(t){e=t,s()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:ys(+t),s(),i):o},i.y=function(e){return arguments.length?(t="function"==typeof e?e:ys(+e),s(),i):t},i}().y(r/2).strength(v)).force("charge",function(){var t,e,n,r,o,i=ys(-30),s=1,a=1/0,l=.81;function c(n){var o,i=t.length,s=ds(t,Is,Ws).visitAfter(f);for(r=n,o=0;o<i;++o)e=t[o],s.visit(p)}function u(){if(t){var e,n,r=t.length;for(o=new Array(r),e=0;e<r;++e)n=t[e],o[n.index]=+i(n,e,t)}}function f(t){var e,n,r,i,s,a=0,l=0;if(t.length){for(r=i=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,r+=n*e.x,i+=n*e.y);t.x=r/l,t.y=i/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=o[e.data.index]}while(e=e.next)}t.value=a}function p(t,i,c,u){if(!t.value)return!0;var f=t.x-e.x,p=t.y-e.y,d=u-i,h=f*f+p*p;if(d*d/l<h)return h<a&&(0===f&&(h+=(f=vs(n))*f),0===p&&(h+=(p=vs(n))*p),h<s&&(h=Math.sqrt(s*h)),e.vx+=f*t.value*r/h,e.vy+=p*t.value*r/h),!0;if(!(t.length||h>=a)){(t.data!==e||t.next)&&(0===f&&(h+=(f=vs(n))*f),0===p&&(h+=(p=vs(n))*p),h<s&&(h=Math.sqrt(s*h)));do{t.data!==e&&(d=o[t.data.index]*r/h,e.vx+=f*d,e.vy+=p*d)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,u()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:ys(+t),u(),c):i},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}().strength(-1)).alpha(1).restart())},[g,m,i,_,l,c,u,f,p,d,k,M,y,v,$,x,w,r,o,(t,e)=>k(e,t),(t,e)=>k(e,t),t=>M(t),t=>M(t)]}class Qs extends at{constructor(t){super(),st(this,t,Js,Zs,i,{strokeWidth:0,stroke:1,xStrength:12,yStrength:13,collideStrength:14,currentStep:15})}}const ta=new Map([["fL","Far Left"],["L","Left"],["C","Center"],["AW","Anti-woke"],["R","Right"],["fR","Far Right"]]),ea=new Map([["Ext URL","External URL"],["HP","Homepage"],["Other","Other"],["Search","Search"],["User/Channel","User or Channel"],["Video","Video"]]),na=new Map([["fL","#336084"],["L","#98BBD7"],["C","#A9A9A9"],["AW","#C19AC1"],["R","#CF6363"],["fR","#AC3535"]]),ra=new Map([["Ext URL","#FFA10A"],["HP","#FFE0AD"],["Other","#FFD085"],["Search","#FFC05C"],["User/Channel","#FFB133"],["Video","#E08A00"]]);function oa(t,e,n){const r=t.slice();return r[5]=e[n],r}function ia(t){let e,n,r,o,i,s=ta.get(t[5])+"";return{c(){e=x("div"),n=x("span"),r=_(s),i=w(),C(n,"class","label svelte-ggv53i"),C(n,"style",o=`--left: ${t[1](t[5])}px; --color: ${na.get(t[5])}`),C(e,"class","label-group")},m(t,o){y(t,e,o),m(e,n),m(n,r),m(e,i)},p(t,e){1&e&&s!==(s=ta.get(t[5])+"")&&T(r,s),3&e&&o!==(o=`--left: ${t[1](t[5])}px; --color: ${na.get(t[5])}`)&&C(n,"style",o)},d(t){t&&v(e)}}}function sa(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=ia(oa(e,r,t));return{c(){n=x("div");for(let t=0;t<o.length;t+=1)o[t].c();C(n,"class","label-container svelte-ggv53i")},m(t,e){y(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(3&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const s=oa(t,r,i);o[i]?o[i].p(s,e):(o[i]=ia(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&v(n),$(o,t)}}}function aa(t,e,n){let r,o;const{xScale:i,zDomain:s,zScale:l}=U("LayerCake");return a(t,i,(t=>n(1,o=t))),a(t,s,(t=>n(0,r=t))),[r,o,i,s]}class la extends at{constructor(t){super(),st(this,t,aa,sa,i,{})}}const ca=t=>({detail:1&t}),ua=t=>({detail:t[0].detail});function fa(t){let e,n;const r=t[3].default,o=l(r,t,t[2],ua);return{c(){e=x("div"),o&&o.c(),C(e,"class","tooltip svelte-d10pnr"),N(e,"top",t[0].detail.e.layerY+t[1]+"px"),N(e,"left",t[0].detail.e.layerX+"px")},m(t,r){y(t,e,r),o&&o.m(e,null),n=!0},p(t,i){o&&o.p&&(!n||5&i)&&f(o,r,t,t[2],n?u(r,t[2],i,ca):p(t[2]),ua),(!n||3&i)&&N(e,"top",t[0].detail.e.layerY+t[1]+"px"),(!n||1&i)&&N(e,"left",t[0].detail.e.layerX+"px")},i(t){n||(tt(o,t),n=!0)},o(t){et(o,t),n=!1},d(t){t&&v(e),o&&o.d(t)}}}function pa(t){let e,n,r=t[0].detail&&fa(t);return{c(){r&&r.c(),e=k()},m(t,o){r&&r.m(t,o),y(t,e,o),n=!0},p(t,[n]){t[0].detail?r?(r.p(t,n),1&n&&tt(r,1)):(r=fa(t),r.c(),tt(r,1),r.m(e.parentNode,e)):r&&(J(),et(r,1,1,(()=>{r=null})),Q())},i(t){n||(tt(r),n=!0)},o(t){et(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function da(t,e,n){let{$$slots:r={},$$scope:o}=e,{evt:i={}}=e,{offset:s=-35}=e;return t.$$set=t=>{"evt"in t&&n(0,i=t.evt),"offset"in t&&n(1,s=t.offset),"$$scope"in t&&n(2,o=t.$$scope)},[i,s,o,r]}class ha extends at{constructor(t){super(),st(this,t,da,pa,i,{evt:0,offset:1})}}function ga(t){const e={...t[15].props};t[16]=e}function ma(t,e,n){const r=t.slice();r[17]=e[n];const o=r[17].replace(/^\w/,(t=>t.toUpperCase())).replace("_"," ");r[18]=o;const i=r[16][r[17]];return r[19]=i,r}function ya(t){let e,n;return e=new Qs({props:{strokeWidth:0,xStrength:.1,yStrength:.05,collideStrength:1,currentStep:t[1]}}),e.$on("mousemove",t[13]),e.$on("mouseout",t[14]),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.currentStep=t[1]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function va(t){let e,n;return e=new la({}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function $a(t){let e,n;return e=new ha({props:{evt:t[11],$$slots:{default:[_a,({detail:t})=>({15:t}),({detail:t})=>t?32768:0]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};2048&n&&(r.evt=t[11]),4227072&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function xa(t){let e,n,r,o,i,s,a=t[19].toLocaleString()+"";return{c(){e=x("div"),n=x("span"),r=_(t[18]),o=_(":"),i=w(),s=_(a),C(e,"class","row")},m(t,a){y(t,e,a),m(e,n),m(n,r),m(n,o),m(e,i),m(e,s)},p(t,e){32768&e&&a!==(a=t[19].toLocaleString()+"")&&T(s,a)},d(t){t&&v(e)}}}function ba(t){let e,n=t[19]&&xa(t);return{c(){n&&n.c(),e=k()},m(t,r){n&&n.m(t,r),y(t,e,r)},p(t,r){t[19]?n?n.p(t,r):(n=xa(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&v(e)}}}function _a(t){let e;ga(t);let n,r,o,i,s,a,l=t[16].channel_name+"",c=ta.get(t[16].cluster)+"",u=["total_videos","subscribers"],f=[];for(let e=0;e<2;e+=1)f[e]=ba(ma(t,u,e));return{c(){e=x("div"),n=_(l),r=w(),o=x("div"),i=_(c),s=w();for(let t=0;t<2;t+=1)f[t].c();a=k(),C(e,"class","channel-label svelte-szz4gu"),C(o,"class","cluster-label svelte-szz4gu"),N(o,"--color",na.get(t[16].cluster))},m(t,l){y(t,e,l),m(e,n),y(t,r,l),y(t,o,l),m(o,i),y(t,s,l);for(let e=0;e<2;e+=1)f[e].m(t,l);y(t,a,l)},p(t,e){if(ga(t),32768&e&&l!==(l=t[16].channel_name+"")&&T(n,l),32768&e&&c!==(c=ta.get(t[16].cluster)+"")&&T(i,c),32768&e&&N(o,"--color",na.get(t[16].cluster)),32768&e){let n;for(u=["total_videos","subscribers"],n=0;n<2;n+=1){const r=ma(t,u,n);f[n]?f[n].p(r,e):(f[n]=ba(r),f[n].c(),f[n].m(a.parentNode,a))}for(;n<2;n+=1)f[n].d(1)}},d(t){t&&v(e),t&&v(r),t&&v(o),t&&v(s),$(f,t),t&&v(a)}}}function wa(t){let e,n,r,o=2===t[1]&&va(),i=!0!==t[12]&&3===t[1]&&$a(t);return{c(){o&&o.c(),e=w(),i&&i.c(),n=k()},m(t,s){o&&o.m(t,s),y(t,e,s),i&&i.m(t,s),y(t,n,s),r=!0},p(t,r){2===t[1]?o?2&r&&tt(o,1):(o=va(),o.c(),tt(o,1),o.m(e.parentNode,e)):o&&(J(),et(o,1,1,(()=>{o=null})),Q()),!0!==t[12]&&3===t[1]?i?(i.p(t,r),4098&r&&tt(i,1)):(i=$a(t),i.c(),tt(i,1),i.m(n.parentNode,n)):i&&(J(),et(i,1,1,(()=>{i=null})),Q())},i(t){r||(tt(o),tt(i),r=!0)},o(t){et(o),et(i),r=!1},d(t){o&&o.d(t),t&&v(e),i&&i.d(t),t&&v(n)}}}function ka(t){let e,n,r,o;return e=new as({props:{$$slots:{default:[ya]},$$scope:{ctx:t}}}),r=new ts({props:{pointerEvents:!1,$$slots:{default:[wa]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};4200450&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};4200450&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function Ma(t){let e,n,r;return n=new Vi({props:{x:t[2],xScale:t[3],xDomain:t[4],z:t[5],zScale:t[6],zDomain:t[7],zRange:t[8],r:t[9],rRange:t[10],data:t[0],$$slots:{default:[ka]},$$scope:{ctx:t}}}),{c(){e=x("div"),nt(n.$$.fragment),C(e,"class","chart beeswarm-chart svelte-szz4gu")},m(t,o){y(t,e,o),rt(n,e,null),r=!0},p(t,[e]){const r={};4&e&&(r.x=t[2]),8&e&&(r.xScale=t[3]),16&e&&(r.xDomain=t[4]),32&e&&(r.z=t[5]),64&e&&(r.zScale=t[6]),128&e&&(r.zDomain=t[7]),256&e&&(r.zRange=t[8]),512&e&&(r.r=t[9]),1024&e&&(r.rRange=t[10]),1&e&&(r.data=t[0]),4200450&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(tt(n.$$.fragment,t),r=!0)},o(t){et(n.$$.fragment,t),r=!1},d(t){t&&v(e),ot(n)}}}function Ca(t,e,n){let r,{data:o}=e,{currentStep:i=0}=e,{xKey:s="channel"}=e,{xScale:a=Ln()}=e,{xDomain:l=[null,null]}=e,{zKey:c="cluster"}=e,{zScale:u=ue()}=e,{zDomain:f=Array.from(new Set(o.map((t=>t.cluster))))}=e,{zRange:p=f.map((t=>na.get(t)))}=e,{rKey:d="subscribers"}=e,{rRange:h=[5,28]}=e,g=!0;return t.$$set=t=>{"data"in t&&n(0,o=t.data),"currentStep"in t&&n(1,i=t.currentStep),"xKey"in t&&n(2,s=t.xKey),"xScale"in t&&n(3,a=t.xScale),"xDomain"in t&&n(4,l=t.xDomain),"zKey"in t&&n(5,c=t.zKey),"zScale"in t&&n(6,u=t.zScale),"zDomain"in t&&n(7,f=t.zDomain),"zRange"in t&&n(8,p=t.zRange),"rKey"in t&&n(9,d=t.rKey),"rRange"in t&&n(10,h=t.rRange)},[o,i,s,a,l,c,u,f,p,d,h,r,g,t=>n(11,r=n(12,g=t)),()=>n(12,g=!0)]}class Ta extends at{constructor(t){super(),st(this,t,Ca,Ma,i,{data:0,currentStep:1,xKey:2,xScale:3,xDomain:4,zKey:5,zScale:6,zDomain:7,zRange:8,rKey:9,rRange:10})}}function Na(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function za(t){let e,n;return e=new Ta({props:{currentStep:t[1],xKey:t[2],xScale:t[3],xDomain:t[4],data:t[0]}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.currentStep=t[1]),4&n&&(r.xKey=t[2]),8&n&&(r.xScale=t[3]),16&n&&(r.xDomain=t[4]),1&n&&(r.data=t[0]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Sa(t){let e,n,r,o=t[9]+"";return{c(){e=x("div"),n=x("div"),r=w(),C(n,"class","step-content svelte-ccug5c"),C(e,"class","step svelte-ccug5c"),A(e,"active",t[1]===t[11])},m(t,i){y(t,e,i),m(e,n),n.innerHTML=o,m(e,r)},p(t,n){2&n&&A(e,"active",t[1]===t[11])},d(t){t&&v(e)}}}function Da(t){let e,n=t[5],r=[];for(let e=0;e<n.length;e+=1)r[e]=Sa(Na(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=k()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);y(t,e,n)},p(t,o){if(34&o){let i;for(n=t[5],i=0;i<n.length;i+=1){const s=Na(t,n,i);r[i]?r[i].p(s,o):(r[i]=Sa(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){$(r,t),t&&v(e)}}}function ja(t){let e,n,r,o,i,s=t[0]&&t[0].length&&za(t);function a(e){t[6](e)}let l={$$slots:{default:[Da]},$$scope:{ctx:t}};return void 0!==t[1]&&(l.value=t[1]),r=new wi({props:l}),Y.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(r,"value",a))),{c(){e=x("div"),s&&s.c(),n=w(),nt(r.$$.fragment),C(e,"class","scroller-wrapper svelte-ccug5c")},m(t,o){y(t,e,o),s&&s.m(e,null),m(e,n),rt(r,e,null),i=!0},p(t,[i]){t[0]&&t[0].length?s?(s.p(t,i),1&i&&tt(s,1)):(s=za(t),s.c(),tt(s,1),s.m(e,n)):s&&(J(),et(s,1,1,(()=>{s=null})),Q());const a={};var l;4098&i&&(a.$$scope={dirty:i,ctx:t}),!o&&2&i&&(o=!0,a.value=t[1],l=()=>o=!1,q.push(l)),r.$set(a)},i(t){i||(tt(s),tt(r.$$.fragment,t),i=!0)},o(t){et(s),et(r.$$.fragment,t),i=!1},d(t){t&&v(e),s&&s.d(),ot(r)}}}function Aa(t,e,n){let r,o;let i="channel",s=Ln(),a=[null,null];const l=ue().domain(["fL","L","C","AW","R","fR"]).range([0,1,2,3,4,5]),c=(u="cluster",f=l,function(t,e){return f(t[u])-f(e[u])});var u,f;return R((async()=>{const t=await Yt("assets/data/channels_top250.csv",Et);n(0,r=t),r.sort(c),n(0,r=r.map(((t,e)=>Object.assign(Object.assign({},t),{channel:e}))))})),t.$$.update=()=>{3&t.$$.dirty&&(0==o||(1==o?(n(2,i="subscribers"),n(3,s=Hn()),n(4,a=[null,null])):2==o?(n(2,i="cluster"),n(3,s=fe()),n(4,a=["fL","L","C","AW","R","fR"])):3==o&&(n(2,i="index"),n(3,s=Ln()),n(4,a=[null,null]),n(0,r=r.map(((t,e)=>Object.assign(Object.assign({},t),{index:e})))))))},[r,o,i,s,a,["<p>Here are the top 200 YouTube channels we monitor.</p>","<p>Organized by their size.</p>","<p>Clustered together</p>","<p>Explore the data before we dive deeper into the politics of YouTube.</p>"],function(t){o=t,n(1,o)}]}class La extends at{constructor(t){super(),st(this,t,Aa,ja,i,{})}}function Ea(t){let e,n,r,o,i,s,a,l,c;return n=new ht({props:{title:t[0]}}),o=new yt({props:{text:t[1]}}),s=new Ct({props:{authors:t[2]}}),l=new La({}),{c(){e=x("main"),nt(n.$$.fragment),r=w(),nt(o.$$.fragment),i=w(),nt(s.$$.fragment),a=w(),nt(l.$$.fragment),C(e,"class","svelte-1wkni80")},m(t,u){y(t,e,u),rt(n,e,null),m(e,r),rt(o,e,null),m(e,i),rt(s,e,null),m(e,a),rt(l,e,null),c=!0},p(t,[e]){const r={};1&e&&(r.title=t[0]),n.$set(r);const i={};2&e&&(i.text=t[1]),o.$set(i);const a={};4&e&&(a.authors=t[2]),s.$set(a)},i(t){c||(tt(n.$$.fragment,t),tt(o.$$.fragment,t),tt(s.$$.fragment,t),tt(l.$$.fragment,t),c=!0)},o(t){et(n.$$.fragment,t),et(o.$$.fragment,t),et(s.$$.fragment,t),et(l.$$.fragment,t),c=!1},d(t){t&&v(e),ot(n),ot(o),ot(s),ot(l)}}}function Ra(t,e,n){let{title:r}=e,{text:o="Lorem ipsum dolor sit, amet consectetur adipisicing elit. Commodi consequatur inventore exercitationem ex perferendis provident, earum cumque maiores quam quidem labore, mollitia odit eaque laborum?"}=e,{authors:i}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title),"text"in t&&n(1,o=t.text),"authors"in t&&n(2,i=t.authors)},[r,o,i]}class Ka extends at{constructor(t){super(),st(this,t,Ra,Ea,i,{title:0,text:1,authors:2})}}function Ua(t,e={}){let n;const r=r=>{const o=r[0].isIntersecting?"enter":"exit";"enter"===o&&t.dispatchEvent(new CustomEvent(o)),"enter"===o&&e.once&&n.disconnect()},o=({root:e,top:o,bottom:i})=>{const s={root:e,rootMargin:`${o?-1*o:0}px 0px ${i?-1*i:0}px 0px`};n&&n.disconnect(),n=new IntersectionObserver(r,s),n.observe(t)};return o(e),{update(t){o(t)},destroy(){n&&n.disconnect()}}}const Pa=Math.PI,Ya=2*Pa,Fa=1e-6,qa=Ya-Fa;function Ha(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Oa(){return new Ha}function Ia(t){return function(){return t}}function Wa(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ga(t){this._context=t}function Xa(t){return new Ga(t)}function Va(t){return t[0]}function Ba(t){return t[1]}function Za(t,e){var n=Ia(!0),r=null,o=Xa,i=null;function s(s){var a,l,c,u=(s=Wa(s)).length,f=!1;for(null==r&&(i=o(c=Oa())),a=0;a<=u;++a)!(a<u&&n(l=s[a],a,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(l,a,s),+e(l,a,s));if(c)return i=null,c+""||null}return t="function"==typeof t?t:void 0===t?Va:Ia(t),e="function"==typeof e?e:void 0===e?Ba:Ia(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:Ia(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Ia(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ia(!!t),s):n},s.curve=function(t){return arguments.length?(o=t,null!=r&&(i=o(r)),s):o},s.context=function(t){return arguments.length?(null==t?r=i=null:i=o(r=t),s):r},s}function Ja(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Qa(t){this._context=t}function tl(t){return new Qa(t)}function el(t,e){if((o=t.length)>1)for(var n,r,o,i=1,s=t[e[0]],a=s.length;i<o;++i)for(r=s,s=t[e[i]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function nl(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rl(t,e){return t[e]}function ol(t){const e=[];return e.key=t,e}function il(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function sl(t){let e,n,r,o;return{c(){e=b("path"),C(e,"class",n=d(`path-line path-${t[10][0]}`)+" svelte-1415x4j"),C(e,"d",r=t[1](t[10][1])),C(e,"stroke",o=t[3](t[10][1][0]))},m(t,n){y(t,e,n)},p(t,i){4&i&&n!==(n=d(`path-line path-${t[10][0]}`)+" svelte-1415x4j")&&C(e,"class",n),6&i&&r!==(r=t[1](t[10][1]))&&C(e,"d",r),12&i&&o!==(o=t[3](t[10][1][0]))&&C(e,"stroke",o)},d(t){t&&v(e)}}}function al(e){let n,r,o=e[2],i=[];for(let t=0;t<o.length;t+=1)i[t]=sl(il(e,o,t));return{c(){n=b("g");for(let t=0;t<i.length;t+=1)i[t].c();C(n,"class",r=d(`line-group line-group-${e[0]}`)+" svelte-1415x4j")},m(t,e){y(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(14&e){let r;for(o=t[2],r=0;r<o.length;r+=1){const s=il(t,o,r);i[r]?i[r].p(s,e):(i[r]=sl(s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}1&e&&r!==(r=d(`line-group line-group-${t[0]}`)+" svelte-1415x4j")&&C(n,"class",r)},i:t,o:t,d(t){t&&v(n),$(i,t)}}}function ll(t,e,n){let r,o,i,s,l;const{data:c,xGet:u,yGet:f,zGet:p}=U("LayerCake");a(t,c,(t=>n(2,s=t))),a(t,u,(t=>n(9,i=t))),a(t,f,(t=>n(8,o=t))),a(t,p,(t=>n(3,l=t)));let{activeChart:d}=e;return t.$$set=t=>{"activeChart"in t&&n(0,d=t.activeChart)},t.$$.update=()=>{768&t.$$.dirty&&n(1,r=Za().x((t=>i(t))).y((t=>o(t))).curve(tl))},[d,r,s,l,c,u,f,p,o,i]}Ha.prototype=Oa.prototype={constructor:Ha,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(t,e,n,r,o){t=+t,e=+e,n=+n,r=+r,o=+o;var i=this._x1,s=this._y1,a=n-t,l=r-e,c=i-t,u=s-e,f=c*c+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Fa)if(Math.abs(u*a-l*c)>Fa&&o){var p=n-i,d=r-s,h=a*a+l*l,g=p*p+d*d,m=Math.sqrt(h),y=Math.sqrt(f),v=o*Math.tan((Pa-Math.acos((h+f-g)/(2*m*y)))/2),$=v/y,x=v/m;Math.abs($-1)>Fa&&(this._+="L"+(t+$*c)+","+(e+$*u)),this._+="A"+o+","+o+",0,0,"+ +(u*p>c*d)+","+(this._x1=t+x*a)+","+(this._y1=e+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,o,i){t=+t,e=+e,i=!!i;var s=(n=+n)*Math.cos(r),a=n*Math.sin(r),l=t+s,c=e+a,u=1^i,f=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Fa||Math.abs(this._y1-c)>Fa)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%Ya+Ya),f>qa?this._+="A"+n+","+n+",0,1,"+u+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>Fa&&(this._+="A"+n+","+n+",0,"+ +(f>=Pa)+","+u+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Ga.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ja(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ja(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};class cl extends at{constructor(t){super(),st(this,t,ll,al,i,{activeChart:0})}}function ul(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function fl(t){let e,n;return{c(){e=b("line"),C(e,"class","gridline svelte-11s23aw"),C(e,"y1",n=-1*t[11]),C(e,"y2","0"),C(e,"x1","0"),C(e,"x2","0")},m(t,n){y(t,e,n)},p(t,r){2048&r&&n!==(n=-1*t[11])&&C(e,"y1",n)},d(t){t&&v(e)}}}function pl(t){let e,n,r;return{c(){e=b("line"),C(e,"class","tick-mark svelte-11s23aw"),C(e,"y1",0),C(e,"y2",6),C(e,"x1",n=t[5]||t[7]?t[8].bandwidth()/2:0),C(e,"x2",r=t[5]||t[7]?t[8].bandwidth()/2:0)},m(t,n){y(t,e,n)},p(t,o){416&o&&n!==(n=t[5]||t[7]?t[8].bandwidth()/2:0)&&C(e,"x1",n),416&o&&r!==(r=t[5]||t[7]?t[8].bandwidth()/2:0)&&C(e,"x2",r)},d(t){t&&v(e)}}}function dl(t){let e,n,r,o,i,s,a,l,c=t[4](t[19])+"",u=!1!==t[0]&&fl(t),f=!0===t[1]&&pl(t);return{c(){e=b("g"),u&&u.c(),n=k(),f&&f.c(),r=b("text"),o=_(c),C(r,"x",i=t[5]||t[7]?t[8].bandwidth()/2:0),C(r,"y",t[6]),C(r,"dx",""),C(r,"dy",""),C(r,"text-anchor",s=t[17](t[21])),C(r,"class","svelte-11s23aw"),C(e,"class",a="tick tick-"+t[21]+" svelte-11s23aw"),C(e,"transform",l="translate("+t[8](t[19])+","+t[10][0]+")")},m(t,i){y(t,e,i),u&&u.m(e,null),m(e,n),f&&f.m(e,null),m(e,r),m(r,o)},p(t,s){!1!==t[0]?u?u.p(t,s):(u=fl(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!0===t[1]?f?f.p(t,s):(f=pl(t),f.c(),f.m(e,r)):f&&(f.d(1),f=null),528&s&&c!==(c=t[4](t[19])+"")&&T(o,c),416&s&&i!==(i=t[5]||t[7]?t[8].bandwidth()/2:0)&&C(r,"x",i),64&s&&C(r,"y",t[6]),1792&s&&l!==(l="translate("+t[8](t[19])+","+t[10][0]+")")&&C(e,"transform",l)},d(t){t&&v(e),u&&u.d(),f&&f.d()}}}function hl(t){let e,n,r;return{c(){e=b("line"),C(e,"class","baseline svelte-11s23aw"),C(e,"y1",n=t[11]+.5),C(e,"y2",r=t[11]+.5),C(e,"x1","0"),C(e,"x2",t[12])},m(t,n){y(t,e,n)},p(t,o){2048&o&&n!==(n=t[11]+.5)&&C(e,"y1",n),2048&o&&r!==(r=t[11]+.5)&&C(e,"y2",r),4096&o&&C(e,"x2",t[12])},d(t){t&&v(e)}}}function gl(e){let n,r,o=e[9],i=[];for(let t=0;t<o.length;t+=1)i[t]=dl(ul(e,o,t));let s=!0===e[2]&&hl(e);return{c(){n=b("g");for(let t=0;t<i.length;t+=1)i[t].c();r=k(),s&&s.c(),C(n,"class","axis x-axis svelte-11s23aw"),A(n,"snapTicks",e[3])},m(t,e){y(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null);m(n,r),s&&s.m(n,null)},p(t,[e]){if(135155&e){let s;for(o=t[9],s=0;s<o.length;s+=1){const a=ul(t,o,s);i[s]?i[s].p(a,e):(i[s]=dl(a),i[s].c(),i[s].m(n,r))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}!0===t[2]?s?s.p(t,e):(s=hl(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),8&e&&A(n,"snapTicks",t[3])},i:t,o:t,d(t){t&&v(n),$(i,t),s&&s.d()}}}function ml(t,e,n){let r,o,i,s,l,c;const{width:u,height:f,xScale:p,yRange:d}=U("LayerCake");a(t,u,(t=>n(12,c=t))),a(t,f,(t=>n(11,l=t))),a(t,p,(t=>n(8,i=t))),a(t,d,(t=>n(10,s=t)));let{gridlines:h=!0}=e,{tickMarks:g=!1}=e,{baseline:m=!1}=e,{snapTicks:y=!1}=e,{formatTick:v=(t=>t)}=e,{ticks:$}=e,{xTick:x=0}=e,{yTick:b=16}=e;return t.$$set=t=>{"gridlines"in t&&n(0,h=t.gridlines),"tickMarks"in t&&n(1,g=t.tickMarks),"baseline"in t&&n(2,m=t.baseline),"snapTicks"in t&&n(3,y=t.snapTicks),"formatTick"in t&&n(4,v=t.formatTick),"ticks"in t&&n(18,$=t.ticks),"xTick"in t&&n(5,x=t.xTick),"yTick"in t&&n(6,b=t.yTick)},t.$$.update=()=>{256&t.$$.dirty&&n(7,r="function"==typeof i.bandwidth),262528&t.$$.dirty&&n(9,o=Array.isArray($)?$:r?i.domain():"function"==typeof $?$(i.ticks()):i.ticks($))},[h,g,m,y,v,x,b,r,i,o,s,l,c,u,f,p,d,function(t){if(!0===y){if(0===t)return"start";if(t===o.length-1)return"end"}return"middle"},$]}class yl extends at{constructor(t){super(),st(this,t,ml,gl,i,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function vl(t,e,n){const r=t.slice();return r[17]=e[n],r}function $l(t){let e,n,r;return{c(){e=b("line"),C(e,"class","gridline svelte-6edweo"),C(e,"x2","100%"),C(e,"y1",n=t[4]+(t[8]?t[9].bandwidth()/2:0)),C(e,"y2",r=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,n){y(t,e,n)},p(t,o){784&o&&n!==(n=t[4]+(t[8]?t[9].bandwidth()/2:0))&&C(e,"y1",n),784&o&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&C(e,"y2",r)},d(t){t&&v(e)}}}function xl(t){let e,n,r,o;return{c(){e=b("line"),C(e,"class","tick-mark svelte-6edweo"),C(e,"x1","0"),C(e,"x2",n=t[8]?-6:6),C(e,"y1",r=t[4]+(t[8]?t[9].bandwidth()/2:0)),C(e,"y2",o=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,n){y(t,e,n)},p(t,i){256&i&&n!==(n=t[8]?-6:6)&&C(e,"x2",n),784&i&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&C(e,"y1",r),784&i&&o!==(o=t[4]+(t[8]?t[9].bandwidth()/2:0))&&C(e,"y2",o)},d(t){t&&v(e)}}}function bl(t){let e,n,r,o,i,s,a,l,c,u=t[2](t[17])+"",f=!1!==t[0]&&$l(t),p=!0===t[1]&&xl(t);return{c(){e=b("g"),f&&f.c(),n=k(),p&&p.c(),r=b("text"),o=_(u),C(r,"x",t[3]),C(r,"y",i=t[4]+(t[8]?t[9].bandwidth()/2:0)),C(r,"dx",s=t[8]?-9:t[5]),C(r,"dy",a=t[8]?4:t[6]),N(r,"text-anchor",t[8]?"end":t[7]),C(r,"class","svelte-6edweo"),C(e,"class",l="tick tick-"+t[17]+" svelte-6edweo"),C(e,"transform",c="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")},m(t,i){y(t,e,i),f&&f.m(e,null),m(e,n),p&&p.m(e,null),m(e,r),m(r,o)},p(t,d){!1!==t[0]?f?f.p(t,d):(f=$l(t),f.c(),f.m(e,n)):f&&(f.d(1),f=null),!0===t[1]?p?p.p(t,d):(p=xl(t),p.c(),p.m(e,r)):p&&(p.d(1),p=null),1028&d&&u!==(u=t[2](t[17])+"")&&T(o,u),8&d&&C(r,"x",t[3]),784&d&&i!==(i=t[4]+(t[8]?t[9].bandwidth()/2:0))&&C(r,"y",i),288&d&&s!==(s=t[8]?-9:t[5])&&C(r,"dx",s),320&d&&a!==(a=t[8]?4:t[6])&&C(r,"dy",a),384&d&&N(r,"text-anchor",t[8]?"end":t[7]),1024&d&&l!==(l="tick tick-"+t[17]+" svelte-6edweo")&&C(e,"class",l),7936&d&&c!==(c="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")&&C(e,"transform",c)},d(t){t&&v(e),f&&f.d(),p&&p.d()}}}function _l(e){let n,r,o=e[10],i=[];for(let t=0;t<o.length;t+=1)i[t]=bl(vl(e,o,t));return{c(){n=b("g");for(let t=0;t<i.length;t+=1)i[t].c();C(n,"class","axis y-axis"),C(n,"transform",r="translate("+-e[11].left+", 0)")},m(t,e){y(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(8191&e){let r;for(o=t[10],r=0;r<o.length;r+=1){const s=vl(t,o,r);i[r]?i[r].p(s,e):(i[r]=bl(s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}2048&e&&r!==(r="translate("+-t[11].left+", 0)")&&C(n,"transform",r)},i:t,o:t,d(t){t&&v(n),$(i,t)}}}function wl(t,e,n){let r,o,i,s,l;const{padding:c,xRange:u,yScale:f}=U("LayerCake");a(t,c,(t=>n(11,s=t))),a(t,u,(t=>n(12,l=t))),a(t,f,(t=>n(9,i=t)));let{gridlines:p=!0}=e,{tickMarks:d=!1}=e,{formatTick:h=(t=>t)}=e,{ticks:g=4}=e,{xTick:m=0}=e,{yTick:y=0}=e,{dxTick:v=0}=e,{dyTick:$=-4}=e,{textAnchor:x="start"}=e;return t.$$set=t=>{"gridlines"in t&&n(0,p=t.gridlines),"tickMarks"in t&&n(1,d=t.tickMarks),"formatTick"in t&&n(2,h=t.formatTick),"ticks"in t&&n(16,g=t.ticks),"xTick"in t&&n(3,m=t.xTick),"yTick"in t&&n(4,y=t.yTick),"dxTick"in t&&n(5,v=t.dxTick),"dyTick"in t&&n(6,$=t.dyTick),"textAnchor"in t&&n(7,x=t.textAnchor)},t.$$.update=()=>{512&t.$$.dirty&&n(8,r="function"==typeof i.bandwidth),66304&t.$$.dirty&&n(10,o=Array.isArray(g)?g:r?i.domain():"function"==typeof g?g(i.ticks()):i.ticks(g))},[p,d,h,m,y,v,$,x,r,i,o,s,l,c,u,f,g]}class kl extends at{constructor(t){super(),st(this,t,wl,_l,i,{gridlines:0,tickMarks:1,formatTick:2,ticks:16,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7})}}const Ml=t=>({x:10&t,y:9&t,found:8&t,visible:4&t,e:16&t}),Cl=t=>({x:t[1](t[3])||0,y:t[0](t[3])||0,found:t[3],visible:t[2],e:t[4]});function Tl(t){let e,n,o,i,s;const a=t[21].default,c=l(a,t,t[20],Cl);return{c(){e=x("div"),n=w(),c&&c.c(),C(e,"class","bg svelte-x8at0i")},m(r,a){y(r,e,a),y(r,n,a),c&&c.m(r,a),o=!0,i||(s=[M(e,"mousemove",t[10]),M(e,"mouseout",t[22]),M(e,"blur",t[23])],i=!0)},p(t,[e]){c&&c.p&&(!o||1048607&e)&&f(c,a,t,t[20],o?u(a,t[20],e,Ml):p(t[20]),Cl)},i(t){o||(tt(c,t),o=!0)},o(t){et(c,t),o=!1},d(t){t&&v(e),t&&v(n),c&&c.d(t),i=!1,r(s)}}}function Nl(t,e,n){let r,o,i,s,l,c,u,f,{$$slots:p={},$$scope:d}=e;const{data:h,xGet:g,yGet:m,width:y,height:v}=U("LayerCake");a(t,h,(t=>n(15,s=t))),a(t,g,(t=>n(18,u=t))),a(t,m,(t=>n(19,f=t))),a(t,y,(t=>n(17,c=t))),a(t,v,(t=>n(16,l=t)));let $=!1,x={},b={},{x:_="x"}=e,{y:w="y"}=e,{searchRadius:k}=e,{dataset:M}=e;return t.$$set=t=>{"x"in t&&n(11,_=t.x),"y"in t&&n(12,w=t.y),"searchRadius"in t&&n(13,k=t.searchRadius),"dataset"in t&&n(14,M=t.dataset),"$$scope"in t&&n(20,d=t.$$scope)},t.$$.update=()=>{788480&t.$$.dirty&&n(1,r="x"===_?u:f),790528&t.$$.dirty&&n(0,o="y"===w?f:u),245763&t.$$.dirty&&(i=ds().extent([[-1,-1],[c+1,l+1]]).x(r).y(o).addAll(M||s))},[o,r,$,x,b,h,g,m,y,v,function(t){n(4,b=t);const e=`layer${_.toUpperCase()}`,r=`layer${w.toUpperCase()}`;n(3,x=i.find(t[e],t[r],k)||{}),n(2,$=Object.keys(x).length>0)},_,w,k,M,s,l,c,u,f,d,p,()=>{n(2,$=!1),n(3,x={})},()=>{n(2,$=!1),n(3,x={})}]}class zl extends at{constructor(t){super(),st(this,t,Nl,Tl,i,{x:11,y:12,searchRadius:13,dataset:14})}}function Sl(t){const e=t[11](t[21]);t[23]=e}function Dl(t,e,n){const r=t.slice();return r[24]=e[n],r}function jl(t){let e,n,r,o,i,s,a=t[0](t[21][t[4].x])+"",l=t[23],c=[];for(let e=0;e<l.length;e+=1)c[e]=Al(Dl(t,l,e));return{c(){e=x("div"),n=w(),r=x("div"),o=x("div"),i=_(a),s=w();for(let t=0;t<c.length;t+=1)c[t].c();N(e,"left",t[12]+"px"),C(e,"class","line svelte-o1blw1"),C(o,"class","title svelte-o1blw1"),C(r,"class","tooltip svelte-o1blw1"),N(r,"width",Rl+"px"),N(r,"display",t[20]?"block":"none"),N(r,"left",Math.min(Math.max(t[10],t[12]),t[6]-t[10])+"px")},m(t,a){y(t,e,a),y(t,n,a),y(t,r,a),m(r,o),m(o,i),m(r,s);for(let t=0;t<c.length;t+=1)c[t].m(r,null)},p(t,n){if(4096&n&&N(e,"left",t[12]+"px"),2097169&n&&a!==(a=t[0](t[21][t[4].x])+"")&&T(i,a),2099206&n){let e;for(l=t[23],e=0;e<l.length;e+=1){const o=Dl(t,l,e);c[e]?c[e].p(o,n):(c[e]=Al(o),c[e].c(),c[e].m(r,null))}for(;e<c.length;e+=1)c[e].d(1);c.length=l.length}1048576&n&&N(r,"display",t[20]?"block":"none"),4160&n&&N(r,"left",Math.min(Math.max(t[10],t[12]),t[6]-t[10])+"px")},d(t){t&&v(e),t&&v(n),t&&v(r),$(c,t)}}}function Al(t){let e,n,r,o,i,s,a,l=t[2](t[24].label)+"",c=t[1](t[24].value)+"";return{c(){e=x("div"),n=x("span"),r=_(l),o=_(":"),i=w(),s=_(c),a=w(),C(n,"class","key svelte-o1blw1"),N(n,"--color",na.get(t[24].label)),C(e,"class","row")},m(t,l){y(t,e,l),m(e,n),m(n,r),m(n,o),m(e,i),m(e,s),m(e,a)},p(t,e){2097156&e&&l!==(l=t[2](t[24].label)+"")&&T(r,l),2097152&e&&N(n,"--color",na.get(t[24].label)),2097154&e&&c!==(c=t[1](t[24].value)+"")&&T(s,c)},d(t){t&&v(e)}}}function Ll(t){let e;Sl(t);let n=!0===t[20]&&jl(t);return{c(){n&&n.c(),e=k()},m(t,r){n&&n.m(t,r),y(t,e,r)},p(t,r){Sl(t),!0===t[20]?n?n.p(t,r):(n=jl(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&v(e)}}}function El(t){let e,n;return e=new zl({props:{dataset:t[3]||t[5],y:"x",$$slots:{default:[Ll,({x:t,y:e,visible:n,found:r,e:o})=>({12:t,19:e,20:n,21:r,22:o}),({x:t,y:e,visible:n,found:r,e:o})=>(t?4096:0)|(e?524288:0)|(n?1048576:0)|(r?2097152:0)|(o?4194304:0)]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,[n]){const r={};40&n&&(r.dataset=t[3]||t[5]),137367639&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}const Rl=150;function Kl(t,e,n){let r,o,i,s,l;const{data:c,width:u,yScale:f,config:p,x:d}=U("LayerCake");a(t,c,(t=>n(5,s=t))),a(t,u,(t=>n(6,l=t))),a(t,p,(t=>n(4,o=t))),a(t,d,(t=>n(14,i=t)));const h=Tn(","),g=t=>t.replace(/^\w/,(t=>t.toUpperCase()));let{formatTitle:m=(t=>t)}=e,{formatValue:y=(t=>isNaN(+t)?t:h(t))}=e,{formatKey:v=(t=>g(t))}=e,{offset:$=-20}=e,{dataset:x}=e;const b=Rl/2;return t.$$set=t=>{"formatTitle"in t&&n(0,m=t.formatTitle),"formatValue"in t&&n(1,y=t.formatValue),"formatKey"in t&&n(2,v=t.formatKey),"offset"in t&&n(13,$=t.offset),"dataset"in t&&n(3,x=t.dataset)},t.$$.update=()=>{16392&t.$$.dirty&&(r=Zt(x,i))},[m,y,v,x,o,s,l,c,u,p,b,function(t){if(t&&Object.keys(t).length){return r.get(t[o.x]).map((t=>({label:t[o.z],value:t[o.y]}))).sort(((t,e)=>e.value-t.value))}return[]},d,$,i]}class Ul extends at{constructor(t){super(),st(this,t,Kl,El,i,{formatTitle:0,formatValue:1,formatKey:2,offset:13,dataset:3})}}function Pl(e){let n,r,o,i,s,a,l,c,u,f,p;return{c(){n=x("div"),r=x("span"),o=_(e[0]),i=w(),s=x("a"),a=_("Download data "),l=b("svg"),c=b("path"),u=b("polyline"),f=b("line"),C(r,"class","caption-text svelte-1m1lkwz"),C(c,"d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"),C(u,"points","7 10 12 15 17 10"),C(f,"x1","12"),C(f,"y1","15"),C(f,"x2","12"),C(f,"y2","3"),C(l,"xmlns","http://www.w3.org/2000/svg"),C(l,"width","24"),C(l,"height","24"),C(l,"viewBox","0 0 24 24"),C(l,"fill","none"),C(l,"stroke","currentColor"),C(l,"stroke-width","2"),C(l,"stroke-linecap","round"),C(l,"stroke-linejoin","round"),C(l,"class","feather feather-download svelte-1m1lkwz"),C(s,"class","download-button svelte-1m1lkwz"),C(s,"href",e[1]),C(s,"download",""),C(n,"class",p="caption caption-"+e[2]+" svelte-1m1lkwz")},m(t,e){y(t,n,e),m(n,r),m(r,o),m(n,i),m(n,s),m(s,a),m(s,l),m(l,c),m(l,u),m(l,f)},p(t,[e]){1&e&&T(o,t[0]),2&e&&C(s,"href",t[1]),4&e&&p!==(p="caption caption-"+t[2]+" svelte-1m1lkwz")&&C(n,"class",p)},i:t,o:t,d(t){t&&v(n)}}}function Yl(t,e,n){let{caption:r}=e,{url:o}=e,{type:i}=e;return t.$$set=t=>{"caption"in t&&n(0,r=t.caption),"url"in t&&n(1,o=t.url),"type"in t&&n(2,i=t.type)},[r,o,i]}class Fl extends at{constructor(t){super(),st(this,t,Yl,Pl,i,{caption:0,url:1,type:2})}}function ql(t){let e,n,r,o,i,s;return e=new yl({props:{gridlines:!1,ticks:3,formatTick:t[9],snapTicks:!1,tickMarks:!1}}),r=new kl({props:{ticks:4,formatTick:t[10]}}),i=new cl({props:{activeChart:t[1]}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment),o=w(),nt(i.$$.fragment)},m(t,a){rt(e,t,a),y(t,n,a),rt(r,t,a),y(t,o,a),rt(i,t,a),s=!0},p(t,n){const o={};512&n&&(o.formatTick=t[9]),e.$set(o);const s={};1024&n&&(s.formatTick=t[10]),r.$set(s);const a={};2&n&&(a.activeChart=t[1]),i.$set(a)},i(t){s||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),tt(i.$$.fragment,t),s=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),et(i.$$.fragment,t),s=!1},d(t){ot(e,t),t&&v(n),ot(r,t),t&&v(o),ot(i,t)}}}function Hl(t){let e,n;return e=new Ul({props:{dataset:t[2],formatTitle:t[9],formatKey:t[15],formatValue:t[10]}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.dataset=t[2]),512&n&&(r.formatTitle=t[9]),1024&n&&(r.formatValue=t[10]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Ol(t){let e,n,r,o;return e=new as({props:{$$slots:{default:[ql]},$$scope:{ctx:t}}}),r=new ts({props:{$$slots:{default:[Hl]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};67074&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};67076&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function Il(t){let e,n;return e=new Fl({props:{caption:t[0],url:t[3],type:12===t[12]?"split-cols":"single-cols"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.caption=t[0]),8&n&&(r.url=t[3]),4096&n&&(r.type=12===t[12]?"split-cols":"single-cols"),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Wl(t){let e,n,r,o,i;n=new Vi({props:{padding:{top:20,right:10,bottom:20,left:45},flatData:t[2],data:t[4],x:t[5],xScale:"date"===t[5]?xi():Ln(),y:t[6],yDomain:t[8],yNice:!0,z:t[7],zScale:ue(),zDomain:t[13],zRange:t[14],$$slots:{default:[Ol]},$$scope:{ctx:t}}});let s=t[11]&&Il(t);return{c(){e=x("div"),nt(n.$$.fragment),r=w(),s&&s.c(),o=k(),C(e,"class","chart line-chart")},m(t,a){y(t,e,a),rt(n,e,null),y(t,r,a),s&&s.m(t,a),y(t,o,a),i=!0},p(t,[e]){const r={};4&e&&(r.flatData=t[2]),16&e&&(r.data=t[4]),32&e&&(r.x=t[5]),32&e&&(r.xScale="date"===t[5]?xi():Ln()),64&e&&(r.y=t[6]),256&e&&(r.yDomain=t[8]),128&e&&(r.z=t[7]),67078&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),t[11]?s?(s.p(t,e),2048&e&&tt(s,1)):(s=Il(t),s.c(),tt(s,1),s.m(o.parentNode,o)):s&&(J(),et(s,1,1,(()=>{s=null})),Q())},i(t){i||(tt(n.$$.fragment,t),tt(s),i=!0)},o(t){et(n.$$.fragment,t),et(s),i=!1},d(t){t&&v(e),ot(n),t&&v(r),s&&s.d(t),t&&v(o)}}}function Gl(t,e,n){let{caption:r}=e,{activeChart:o}=e,{data:i}=e,{url:s}=e,{groupedData:a}=e,{xKey:l}=e,{yKey:c}=e,{zKey:u}=e,{yDomain:f=[0,null]}=e,{formatTickX:p}=e,{formatTickY:d=(t=>t.toFixed(0))}=e,{includeCaption:h=!0}=e,{spanCol:g}=e,m=Array.from(na).map((t=>t[0])),y=Array.from(na).map((t=>t[1]));return t.$$set=t=>{"caption"in t&&n(0,r=t.caption),"activeChart"in t&&n(1,o=t.activeChart),"data"in t&&n(2,i=t.data),"url"in t&&n(3,s=t.url),"groupedData"in t&&n(4,a=t.groupedData),"xKey"in t&&n(5,l=t.xKey),"yKey"in t&&n(6,c=t.yKey),"zKey"in t&&n(7,u=t.zKey),"yDomain"in t&&n(8,f=t.yDomain),"formatTickX"in t&&n(9,p=t.formatTickX),"formatTickY"in t&&n(10,d=t.formatTickY),"includeCaption"in t&&n(11,h=t.includeCaption),"spanCol"in t&&n(12,g=t.spanCol)},[r,o,i,s,a,l,c,u,f,p,d,h,g,m,y,t=>ta.get(t)]}class Xl extends at{constructor(t){super(),st(this,t,Gl,Wl,i,{caption:0,activeChart:1,data:2,url:3,groupedData:4,xKey:5,yKey:6,zKey:7,yDomain:8,formatTickX:9,formatTickY:10,includeCaption:11,spanCol:12})}}function Vl(t,e,n=null){return e.reduce(((e,r)=>{const o=Number.isInteger(n)||null!==n?t.filter((t=>t[n]===r)):t.filter((t=>t===r));return o.length&&o.forEach((t=>e.push(t))),e}),[])}const Bl=["fL","L","C","AW","R","fR"];function Zl(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Jl(t,e,n){const r=t.slice();return r[11]=e[n],r[10]=n,r}function Ql(t){let e,n,r,o,i,s,a,l,c,u,f=Array.isArray(t[0])&&t[0].length>=2,p=f&&tc(t),h=Vl(t[5].map(oc),Bl),g=[];for(let e=0;e<h.length;e+=1)g[e]=nc(Zl(t,h,e));return a=new Xl({props:{data:t[2],url:t[4],groupedData:t[5],xKey:t[3].xKey,yKey:t[3].yKey,zKey:t[3].zKey,activeChart:t[4],includeCaption:t[3].includeCaption,caption:t[3].caption,formatTickX:t[3].formatTickX,formatTickY:t[3].formatTickY,spanCol:t[1]}}),{c(){e=x("h3"),n=_("YouTube consumption:\n        "),p&&p.c(),r=w(),o=x("div");for(let t=0;t<g.length;t+=1)g[t].c();i=w(),s=x("div"),nt(a.$$.fragment),C(e,"class","chart-title svelte-1pnva5p"),C(o,"class","legend-container svelte-1pnva5p"),C(s,"class",l=d("chart-wrapper "+(12===t[1]?"split-cols":"single-cols"))+" svelte-1pnva5p"),C(s,"style",c=`--spanCol: ${t[1]}`)},m(t,l){y(t,e,l),m(e,n),p&&p.m(e,null),y(t,r,l),y(t,o,l);for(let t=0;t<g.length;t+=1)g[t].m(o,null);y(t,i,l),y(t,s,l),rt(a,s,null),u=!0},p(t,n){if(1&n&&(f=Array.isArray(t[0])&&t[0].length>=2),f?p?p.p(t,n):(p=tc(t),p.c(),p.m(e,null)):p&&(p.d(1),p=null),32&n){let e;for(h=Vl(t[5].map(oc),Bl),e=0;e<h.length;e+=1){const r=Zl(t,h,e);g[e]?g[e].p(r,n):(g[e]=nc(r),g[e].c(),g[e].m(o,null))}for(;e<g.length;e+=1)g[e].d(1);g.length=h.length}const r={};4&n&&(r.data=t[2]),16&n&&(r.url=t[4]),32&n&&(r.groupedData=t[5]),8&n&&(r.xKey=t[3].xKey),8&n&&(r.yKey=t[3].yKey),8&n&&(r.zKey=t[3].zKey),16&n&&(r.activeChart=t[4]),8&n&&(r.includeCaption=t[3].includeCaption),8&n&&(r.caption=t[3].caption),8&n&&(r.formatTickX=t[3].formatTickX),8&n&&(r.formatTickY=t[3].formatTickY),2&n&&(r.spanCol=t[1]),a.$set(r),(!u||2&n&&l!==(l=d("chart-wrapper "+(12===t[1]?"split-cols":"single-cols"))+" svelte-1pnva5p"))&&C(s,"class",l),(!u||2&n&&c!==(c=`--spanCol: ${t[1]}`))&&C(s,"style",c)},i(t){u||(tt(a.$$.fragment,t),u=!0)},o(t){et(a.$$.fragment,t),u=!1},d(t){t&&v(e),p&&p.d(),t&&v(r),t&&v(o),$(g,t),t&&v(i),t&&v(s),ot(a)}}}function tc(t){let e,n,r,o=t[0],i=[];for(let e=0;e<o.length;e+=1)i[e]=ec(Jl(t,o,e));return{c(){e=x("select");for(let t=0;t<i.length;t+=1)i[t].c();C(e,"type","select"),void 0===t[4]&&I((()=>t[7].call(e)))},m(o,s){y(o,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);z(e,t[4]),n||(r=M(e,"change",t[7]),n=!0)},p(t,n){if(1&n){let r;for(o=t[0],r=0;r<o.length;r+=1){const s=Jl(t,o,r);i[r]?i[r].p(s,n):(i[r]=ec(s),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}17&n&&z(e,t[4])},d(t){t&&v(e),$(i,t),n=!1,r()}}}function ec(t){let e,n,r,o=t[11].description+"";return{c(){e=x("option"),n=_(o),e.__value=r=t[11].url,e.value=e.__value},m(t,r){y(t,e,r),m(e,n)},p(t,i){1&i&&o!==(o=t[11].description+"")&&T(n,o),1&i&&r!==(r=t[11].url)&&(e.__value=r,e.value=e.__value)},d(t){t&&v(e)}}}function nc(t){let e,n,r,o,i,s=ta.get(t[8])+"";return{c(){e=x("div"),n=x("span"),r=_(s),i=w(),C(n,"class","legend-label svelte-1pnva5p"),C(n,"style",o=`--color: ${na.get(t[8])}`),C(e,"class","legend-group svelte-1pnva5p")},m(t,o){y(t,e,o),m(e,n),m(n,r),m(e,i)},p(t,e){32&e&&s!==(s=ta.get(t[8])+"")&&T(r,s),32&e&&o!==(o=`--color: ${na.get(t[8])}`)&&C(n,"style",o)},d(t){t&&v(e)}}}function rc(t){let e,n,r=t[4]&&t[3]&&Ql(t);return{c(){r&&r.c(),e=k()},m(t,o){r&&r.m(t,o),y(t,e,o),n=!0},p(t,[n]){t[4]&&t[3]?r?(r.p(t,n),24&n&&tt(r,1)):(r=Ql(t),r.c(),tt(r,1),r.m(e.parentNode,e)):r&&(J(),et(r,1,1,(()=>{r=null})),Q())},i(t){n||(tt(r),n=!0)},o(t){et(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}const oc=t=>t[0];function ic(t,e,n){let r,o,i,s,{config:a}=e,{spanCol:l=12}=e,c={};return R((async()=>{(Array.isArray(a)?a:[a]).map((async(t,e)=>{const r=await Yt(t.url,Et);n(6,c[t.url]=r.map((t=>Object.assign(Object.assign({},t),{date:new Date(t.year,t.month,1)}))),c),0===e&&(n(4,s=t.url),n(3,i=t))}))})),t.$$set=t=>{"config"in t&&n(0,a=t.config),"spanCol"in t&&n(1,l=t.spanCol)},t.$$.update=()=>{80&t.$$.dirty&&n(2,o=c?c[s]:[]),17&t.$$.dirty&&n(3,i=Array.isArray(a)?a.filter((t=>t.url===s))[0]:a),12&t.$$.dirty&&n(5,r=o?Jt(o,(t=>t[i.zKey])):[])},[a,l,o,i,s,r,c,function(){s=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(4,s),n(0,a)}]}class sc extends at{constructor(t){super(),st(this,t,ic,rc,i,{config:0,spanCol:1})}}var ac="Youtube Politics",lc={copy:[{type:"text",value:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Excepturi temporibus[1] architecto reprehenderit ipsum harum repellendus consequatur magnam numquam quos dicta sunt cupiditate unde, aperiam[2] delectus debitis ab corrupti hic praesentium?"},{type:"text",value:"Iusto minus quae temporibus deleniti vel exercitationem, repellat recusandae quam totam laboriosam!"}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}]},cc={copy:[{type:"text",value:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Excepturi temporibus architecto reprehenderit ipsum harum repellendus consequatur magnam numquam quos dicta sunt cupiditate unde, aperiam delectus debitis ab corrupti hic praesentium?"},{type:"text",value:"Cupiditate unde, aperiam delectus debitis ab corrupti hic praesentium?"},{type:"text",value:"Reprehenderit ipsum harum repellendus consequatur magnam. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Excepturi temporibus. Prem ipsum dolor sit, amet consectetur adipisicing elit. Excepturi temporibus architecto architecto."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for"},{type:"text",value:"Democracy, 2015"}]};function uc(t,e,n){const r=t.slice();return r[3]=e[n],r}function fc(t,e,n){const r=t.slice();return r[3]=e[n],r[7]=n,r}function pc(e){let n;return{c(){n=x("div"),C(n,"class","chart-placeholder svelte-fjbk1c")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function dc(e){let n,r;return n=new sc({props:{config:[{url:"assets/data/fig3a_smoothed.csv",description:"Median video duration",type:"line",xKey:"date",yKey:"median_duration",zKey:"label",includeCaption:!0,caption:"Median monthly video consumption (minutes) across different channel categories. Lines show the 3-month rolling average.",formatTickX:Jr("%b %Y"),formatTickY:yc},{url:"assets/data/fig3b_smoothed.csv",description:"Median user consumption duration",type:"line",xKey:"date",yKey:"median_user_watchtime",zKey:"label",includeCaption:!0,caption:"Median monthly user consumption (minutes) within each community. Lines show the 3-month rolling average.",formatTickX:Jr("%b %Y"),formatTickY:vc}]}}),{c(){nt(n.$$.fragment)},m(t,e){rt(n,t,e),r=!0},p:t,i(t){r||(tt(n.$$.fragment,t),r=!0)},o(t){et(n.$$.fragment,t),r=!1},d(t){ot(n,t)}}}function hc(e){let n,r,o,i=e[3].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function gc(e){let n,r,o,i=e[3].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function mc(t){let e,n,i,s,a,l,c,u,f,p,d,h,b;const _=[dc,pc],k=[];function T(t,e){return t[1]?0:1}s=T(t),a=k[s]=_[s](t);let N=lc.copy,z=[];for(let e=0;e<N.length;e+=1)z[e]=hc(fc(t,N,e));let S=lc.references,D=[];for(let e=0;e<S.length;e+=1)D[e]=gc(uc(t,S,e));return{c(){e=x("div"),n=x("h2"),n.textContent="Section 1 title",i=w(),a.c(),l=w(),c=x("div");for(let t=0;t<z.length;t+=1)z[t].c();u=w(),f=x("div");for(let t=0;t<D.length;t+=1)D[t].c();C(n,"class","section-title svelte-fjbk1c"),C(c,"class","copy svelte-fjbk1c"),C(f,"class","references svelte-fjbk1c"),C(e,"class","section section-1 svelte-fjbk1c")},m(r,o){y(r,e,o),m(e,n),m(e,i),k[s].m(e,null),m(e,l),m(e,c);for(let t=0;t<z.length;t+=1)z[t].m(c,null);m(e,u),m(e,f);for(let t=0;t<D.length;t+=1)D[t].m(f,null);d=!0,h||(b=[g(p=Ua.call(null,e,{once:t[0]})),M(e,"enter",t[2])],h=!0)},p(t,[n]){let r=s;if(s=T(t),s===r?k[s].p(t,n):(J(),et(k[r],1,1,(()=>{k[r]=null})),Q(),a=k[s],a?a.p(t,n):(a=k[s]=_[s](t),a.c()),tt(a,1),a.m(e,l)),0&n){let e;for(N=lc.copy,e=0;e<N.length;e+=1){const r=fc(t,N,e);z[e]?z[e].p(r,n):(z[e]=hc(r),z[e].c(),z[e].m(c,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=N.length}if(0&n){let e;for(S=lc.references,e=0;e<S.length;e+=1){const r=uc(t,S,e);D[e]?D[e].p(r,n):(D[e]=gc(r),D[e].c(),D[e].m(f,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=S.length}p&&o(p.update)&&1&n&&p.update.call(null,{once:t[0]})},i(t){d||(tt(a),d=!0)},o(t){et(a),d=!1},d(t){t&&v(e),k[s].d(),$(z,t),$(D,t),h=!1,r(b)}}}const yc=t=>t.toFixed(0),vc=t=>t.toFixed(0);function $c(t,e,n){let r=!1,{once:o}=e;return t.$$set=t=>{"once"in t&&n(0,o=t.once)},[o,r,()=>n(1,r=!0)]}class xc extends at{constructor(t){super(),st(this,t,$c,mc,i,{once:0})}}function bc(t,e,n){const r=t.slice();return r[5]=e[n],r}function _c(t,e,n){const r=t.slice();return r[5]=e[n],r[9]=n,r}function wc(e){let n;return{c(){n=x("div"),C(n,"class","chart-placeholder svelte-1ujva5")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function kc(e){let n,r;return n=new sc({props:{config:[{url:"assets/data/fig2a_ledwich.csv",description:"User share",type:"line",xKey:"date",yKey:"user_percent",zKey:"label",includeCaption:!0,caption:"Percent of users falling into the six political categories.",formatTickX:Jr("%b %Y"),formatTickY:e[2]},{url:"assets/data/fig2b_ledwich.csv",description:"Total consumption share",type:"line",xKey:"date",yKey:"percentage_duration",zKey:"label",includeCaption:!0,caption:"Consumption share of the six political channel categories.",formatTickX:Jr("%b %Y"),formatTickY:e[3]}]}}),{c(){nt(n.$$.fragment)},m(t,e){rt(n,t,e),r=!0},p:t,i(t){r||(tt(n.$$.fragment,t),r=!0)},o(t){et(n.$$.fragment,t),r=!1},d(t){ot(n,t)}}}function Mc(e){let n,r,o,i=e[5].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Cc(e){let n,r,o,i=e[5].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Tc(t){let e,n,i,s,a,l,c,u,f,p,d;const h=[kc,wc],b=[];function _(t,e){return t[1]?0:1}n=_(t),i=b[n]=h[n](t);let k=cc.copy,T=[];for(let e=0;e<k.length;e+=1)T[e]=Mc(_c(t,k,e));let N=cc.references,z=[];for(let e=0;e<N.length;e+=1)z[e]=Cc(bc(t,N,e));return{c(){e=x("div"),i.c(),s=w(),a=x("div");for(let t=0;t<T.length;t+=1)T[t].c();l=w(),c=x("div");for(let t=0;t<z.length;t+=1)z[t].c();C(a,"class","copy svelte-1ujva5"),C(c,"class","references svelte-1ujva5"),C(e,"class","section section-2 svelte-1ujva5")},m(r,o){y(r,e,o),b[n].m(e,null),m(e,s),m(e,a);for(let t=0;t<T.length;t+=1)T[t].m(a,null);m(e,l),m(e,c);for(let t=0;t<z.length;t+=1)z[t].m(c,null);f=!0,p||(d=[g(u=Ua.call(null,e,{once:t[0]})),M(e,"enter",t[4])],p=!0)},p(t,[r]){let l=n;if(n=_(t),n===l?b[n].p(t,r):(J(),et(b[l],1,1,(()=>{b[l]=null})),Q(),i=b[n],i?i.p(t,r):(i=b[n]=h[n](t),i.c()),tt(i,1),i.m(e,s)),0&r){let e;for(k=cc.copy,e=0;e<k.length;e+=1){const n=_c(t,k,e);T[e]?T[e].p(n,r):(T[e]=Mc(n),T[e].c(),T[e].m(a,null))}for(;e<T.length;e+=1)T[e].d(1);T.length=k.length}if(0&r){let e;for(N=cc.references,e=0;e<N.length;e+=1){const n=bc(t,N,e);z[e]?z[e].p(n,r):(z[e]=Cc(n),z[e].c(),z[e].m(c,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=N.length}u&&o(u.update)&&1&r&&u.update.call(null,{once:t[0]})},i(t){f||(tt(i),f=!0)},o(t){et(i),f=!1},d(t){t&&v(e),b[n].d(),$(T,t),$(z,t),p=!1,r(d)}}}function Nc(t,e,n){let r=!1,{once:o}=e;return t.$$set=t=>{"once"in t&&n(0,o=t.once)},[o,r,t=>Tn(".1%")(t).replace(/[.,]0+/,""),t=>Tn(".2%")(t).replace(/[.,]0+/,""),()=>n(1,r=!0)]}class zc extends at{constructor(t){super(),st(this,t,Nc,Tc,i,{once:0})}}function Sc(t,e,n){const r=t.slice();return r[19]=e[n],r}function Dc(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function jc(t){let e,n,o,i,s,a,l,c;function u(...e){return t[13](t[19],t[22],...e)}function f(...e){return t[14](t[22],...e)}return{c(){e=b("rect"),C(e,"class","group-rect svelte-yc7lmv"),C(e,"data-id",t[24]),C(e,"x",n=t[0](t[22])[0]),C(e,"y",o=t[3](t[22])),C(e,"height",i=t[4].bandwidth()),C(e,"width",s=t[1](t[22])),C(e,"fill",a=t[5](t[19])),C(e,"stroke","white")},m(n,r){y(n,e,r),l||(c=[M(e,"mouseover",u),M(e,"focus",f),M(e,"mouseout",t[15]),M(e,"blur",t[16])],l=!0)},p(r,l){t=r,5&l&&n!==(n=t[0](t[22])[0])&&C(e,"x",n),12&l&&o!==(o=t[3](t[22]))&&C(e,"y",o),16&l&&i!==(i=t[4].bandwidth())&&C(e,"height",i),6&l&&s!==(s=t[1](t[22]))&&C(e,"width",s),36&l&&a!==(a=t[5](t[19]))&&C(e,"fill",a)},d(t){t&&v(e),l=!1,r(c)}}}function Ac(t){let e,n,r=t[19],o=[];for(let e=0;e<r.length;e+=1)o[e]=jc(Dc(t,r,e));return{c(){e=b("g");for(let t=0;t<o.length;t+=1)o[t].c();C(e,"class",n=d(`series-group series-${t[19].key}`)+" svelte-yc7lmv")},m(t,n){y(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,i){if(6207&i){let n;for(r=t[19],n=0;n<r.length;n+=1){const s=Dc(t,r,n);o[n]?o[n].p(s,i):(o[n]=jc(s),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=r.length}4&i&&n!==(n=d(`series-group series-${t[19].key}`)+" svelte-yc7lmv")&&C(e,"class",n)},d(t){t&&v(e),$(o,t)}}}function Lc(e){let n,r=e[2],o=[];for(let t=0;t<r.length;t+=1)o[t]=Ac(Sc(e,r,t));return{c(){n=b("g");for(let t=0;t<o.length;t+=1)o[t].c();C(n,"class","bar-group")},m(t,e){y(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(6207&e){let i;for(r=t[2],i=0;i<r.length;i+=1){const s=Sc(t,r,i);o[i]?o[i].p(s,e):(o[i]=Ac(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&v(n),$(o,t)}}}function Ec(t,e,n){let r,o,i,s,l,c;const{data:u,xGet:f,yGet:p,zGet:d,yScale:h,zScale:g}=U("LayerCake");a(t,u,(t=>n(2,i=t))),a(t,f,(t=>n(0,o=t))),a(t,p,(t=>n(3,s=t))),a(t,d,(t=>n(5,c=t))),a(t,h,(t=>n(4,l=t)));const m=K();function y(t,e){m("mousemove",{e:t,props:e}),document.querySelectorAll(".group-rect").forEach((e=>{e!==t.target?e.classList.add("inactive"):e.classList.add("active")}))}function v(t){m("mouseout"),document.querySelectorAll(".group-rect").forEach((t=>t.classList.remove("inactive"))),t.target.classList.remove("active")}return t.$$.update=()=>{1&t.$$.dirty&&n(1,r=t=>{const e=o(t);return e[1]-e[0]})},[o,r,i,s,l,c,u,f,p,d,h,y,v,(t,e,n)=>y(n,{key:t.key,...e.data}),(t,e)=>y(e,t),t=>v(t),t=>v(t)]}class Rc extends at{constructor(t){super(),st(this,t,Ec,Lc,i,{})}}const Kc=t=>Tn(`.${t}~%`),Uc=Tn(",.0s"),Pc=Tn(",.0f");function Yc(t,e,n){const r=t.slice();r[29]=e[n];const o=r[28][r[28].key];return r[30]=o,r}function Fc(t,e,n){const r=t.slice();r[29]=e[n];const o=r[28][r[28].key];return r[30]=o,r}function qc(t,e,n){const r=t.slice();return r[35]=e[n],r[37]=n,r}function Hc(t){let e,n,r,o,i,s=t[7].get(t[35])+"";return{c(){e=x("div"),n=x("span"),r=_(s),i=w(),C(n,"class","legend-label svelte-13righf"),C(n,"style",o=`--color: ${t[9].get(t[35])}`),C(e,"class","legend-group svelte-13righf")},m(t,o){y(t,e,o),m(e,n),m(n,r),m(e,i)},p(t,e){129&e[0]&&s!==(s=t[7].get(t[35])+"")&&T(r,s),513&e[0]&&o!==(o=`--color: ${t[9].get(t[35])}`)&&C(n,"style",o)},d(t){t&&v(e)}}}function Oc(t){let e,n,r,o,i,s;return e=new yl({props:{gridlines:!1,ticks:3,snapTicks:!0,tickMarks:!0}}),r=new kl({props:{gridlines:!1,formatTick:t[21]}}),i=new Rc({}),i.$on("mousemove",t[22]),i.$on("mouseout",t[23]),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment),o=w(),nt(i.$$.fragment)},m(t,a){rt(e,t,a),y(t,n,a),rt(r,t,a),y(t,o,a),rt(i,t,a),s=!0},p(t,e){const n={};64&e[0]&&(n.formatTick=t[21]),r.$set(n)},i(t){s||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),tt(i.$$.fragment,t),s=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),et(i.$$.fragment,t),s=!1},d(t){ot(e,t),t&&v(n),ot(r,t),t&&v(o),ot(i,t)}}}function Ic(t){let e,n;return e=new ha({props:{evt:t[15],offset:-10,$$slots:{default:[Bc,({detail:t})=>({27:t}),({detail:t})=>[t?134217728:0]]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};32768&n[0]&&(r.evt=t[15]),134235104&n[0]|128&n[1]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Wc(t){let e,n,r,o,i,s,a,l,c,u,f,p,d=t[6].get(t[28].cluster)+"",h=t[7].get(t[28].key)+"",g=["value"],b=[];for(let e=0;e<1;e+=1)b[e]=Xc(Yc(t,g,e));return{c(){e=x("div"),n=x("p"),r=_("Community: "),o=x("span"),i=_(d),s=w(),a=x("p"),l=_("Content: "),c=x("span"),u=_(h),f=w();for(let t=0;t<1;t+=1)b[t].c();p=k(),C(o,"class","cluster-label svelte-13righf"),N(o,"--color",t[8].get(t[28].cluster)),C(c,"class","cluster-label svelte-13righf"),N(c,"--color",t[9].get(t[28].key))},m(t,d){y(t,e,d),m(e,n),m(n,r),m(n,o),m(o,i),m(e,s),m(e,a),m(a,l),m(a,c),m(c,u),y(t,f,d);for(let e=0;e<1;e+=1)b[e].m(t,d);y(t,p,d)},p(t,e){if(134217792&e[0]&&d!==(d=t[6].get(t[28].cluster)+"")&&T(i,d),134217984&e[0]&&N(o,"--color",t[8].get(t[28].cluster)),134217856&e[0]&&h!==(h=t[7].get(t[28].key)+"")&&T(u,h),134218240&e[0]&&N(c,"--color",t[9].get(t[28].key)),134217760&e[0]){let n;for(g=["value"],n=0;n<1;n+=1){const r=Yc(t,g,n);b[n]?b[n].p(r,e):(b[n]=Xc(r),b[n].c(),b[n].m(p.parentNode,p))}for(;n<1;n+=1)b[n].d(1)}},d(t){t&&v(e),t&&v(f),$(b,t),t&&v(p)}}}function Gc(t){let e,n,r,o,i,s,a,l,c=t[7].get(t[28].key)+"",u=t[6].get(t[28].cluster)+"",f=["value"],p=[];for(let e=0;e<1;e+=1)p[e]=Vc(Fc(t,f,e));return{c(){e=x("div"),n=x("span"),r=_(c),o=_(" ➞\n\t\t\t\t\t\t\t\t"),i=x("span"),s=_(u),a=w();for(let t=0;t<1;t+=1)p[t].c();l=k(),C(n,"class","cluster-label svelte-13righf"),N(n,"--color",t[9].get(t[28].key)),C(i,"class","cluster-label svelte-13righf"),N(i,"--color",t[8].get(t[28].cluster))},m(t,c){y(t,e,c),m(e,n),m(n,r),m(e,o),m(e,i),m(i,s),y(t,a,c);for(let e=0;e<1;e+=1)p[e].m(t,c);y(t,l,c)},p(t,e){if(134217856&e[0]&&c!==(c=t[7].get(t[28].key)+"")&&T(r,c),134218240&e[0]&&N(n,"--color",t[9].get(t[28].key)),134217792&e[0]&&u!==(u=t[6].get(t[28].cluster)+"")&&T(s,u),134217984&e[0]&&N(i,"--color",t[8].get(t[28].cluster)),134217760&e[0]){let n;for(f=["value"],n=0;n<1;n+=1){const r=Fc(t,f,n);p[n]?p[n].p(r,e):(p[n]=Vc(r),p[n].c(),p[n].m(l.parentNode,l))}for(;n<1;n+=1)p[n].d(1)}},d(t){t&&v(e),t&&v(a),$(p,t),t&&v(l)}}}function Xc(t){let e,n,r,o=t[5](t[30])+"";return{c(){e=x("div"),n=_("Share: "),r=_(o),C(e,"class","row")},m(t,o){y(t,e,o),m(e,n),m(e,r)},p(t,e){134217760&e[0]&&o!==(o=t[5](t[30])+"")&&T(r,o)},d(t){t&&v(e)}}}function Vc(t){let e,n,r=t[5](t[30])+"";return{c(){e=x("div"),n=_(r),C(e,"class","row")},m(t,r){y(t,e,r),m(e,n)},p(t,e){134217760&e[0]&&r!==(r=t[5](t[30])+"")&&T(n,r)},d(t){t&&v(e)}}}function Bc(t){let e;function n(t,e){return"arrow"===t[14]?Gc:Wc}function r(t,e){return e===Gc?function(t){const e=t.slice(),n={...e[27].props};return e[28]=n,e}(t):function(t){const e=t.slice(),n={...e[27].props};return e[28]=n,e}(t)}let o=n(t),i=o(r(t,o));return{c(){i.c(),e=k()},m(t,n){i.m(t,n),y(t,e,n)},p(t,s){o===(o=n(t))&&i?i.p(r(t,o),s):(i.d(1),i=o(r(t,o)),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&v(e)}}}function Zc(t){let e,n,r=!0!==t[16]&&Ic(t);return{c(){r&&r.c(),e=k()},m(t,o){r&&r.m(t,o),y(t,e,o),n=!0},p(t,n){!0!==t[16]?r?(r.p(t,n),65536&n[0]&&tt(r,1)):(r=Ic(t),r.c(),tt(r,1),r.m(e.parentNode,e)):r&&(J(),et(r,1,1,(()=>{r=null})),Q())},i(t){n||(tt(r),n=!0)},o(t){et(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function Jc(t){let e,n,r,o;return e=new as({props:{$$slots:{default:[Oc]},$$scope:{ctx:t}}}),r=new ts({props:{pointerEvents:!1,$$slots:{default:[Zc]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};98368&n[0]|128&n[1]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};115680&n[0]|128&n[1]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function Qc(t){let e,n;return e=new Fl({props:{caption:t[10],url:t[1],type:12===t[12]?"split-cols":"single-cols"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};1024&n[0]&&(r.caption=t[10]),2&n[0]&&(r.url=t[1]),4096&n[0]&&(r.type=12===t[12]?"split-cols":"single-cols"),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function tu(t){let e,n,r,o,i,s,a,l,c,u,f=t[0].columns.filter(eu),p=[];for(let e=0;e<f.length;e+=1)p[e]=Hc(qc(t,f,e));i=new Vi({props:{padding:{top:0,right:0,bottom:15,left:45},flatData:ls(t[17]),data:t[17],x:t[3],y:t[24],yScale:fe().paddingInner([.35]).paddingOuter([.01]).round(!0),yDomain:t[18],z:t[4],zScale:ue(),zDomain:t[18],zRange:t[19],$$slots:{default:[Jc]},$$scope:{ctx:t}}});let h=t[11]&&Qc(t);return{c(){e=x("div");for(let t=0;t<p.length;t+=1)p[t].c();n=w(),r=x("div"),o=x("div"),nt(i.$$.fragment),a=w(),h&&h.c(),C(e,"class","legend-container svelte-13righf"),C(o,"class",s=d(`chart stacked-bar-chart ${t[13]}`)+" svelte-13righf"),C(r,"class",l=d("chart-wrapper "+(12===t[12]?"split-cols":"single-cols"))+" svelte-13righf"),C(r,"style",c=`--spanCol: ${t[12]}`)},m(t,s){y(t,e,s);for(let t=0;t<p.length;t+=1)p[t].m(e,null);y(t,n,s),y(t,r,s),m(r,o),rt(i,o,null),m(r,a),h&&h.m(r,null),u=!0},p(t,n){if(641&n[0]){let r;for(f=t[0].columns.filter(eu),r=0;r<f.length;r+=1){const o=qc(t,f,r);p[r]?p[r].p(o,n):(p[r]=Hc(o),p[r].c(),p[r].m(e,null))}for(;r<p.length;r+=1)p[r].d(1);p.length=f.length}const a={};8&n[0]&&(a.x=t[3]),4&n[0]&&(a.y=t[24]),16&n[0]&&(a.z=t[4]),115680&n[0]|128&n[1]&&(a.$$scope={dirty:n,ctx:t}),i.$set(a),(!u||8192&n[0]&&s!==(s=d(`chart stacked-bar-chart ${t[13]}`)+" svelte-13righf"))&&C(o,"class",s),t[11]?h?(h.p(t,n),2048&n[0]&&tt(h,1)):(h=Qc(t),h.c(),tt(h,1),h.m(r,null)):h&&(J(),et(h,1,1,(()=>{h=null})),Q()),(!u||4096&n[0]&&l!==(l=d("chart-wrapper "+(12===t[12]?"split-cols":"single-cols"))+" svelte-13righf"))&&C(r,"class",l),(!u||4096&n[0]&&c!==(c=`--spanCol: ${t[12]}`))&&C(r,"style",c)},i(t){u||(tt(i.$$.fragment,t),tt(h),u=!0)},o(t){et(i.$$.fragment,t),et(h),u=!1},d(t){t&&v(e),$(p,t),t&&v(n),t&&v(r),ot(i),h&&h.d()}}}const eu=t=>"cluster"!==t;function nu(t,e,n){let{data:r}=e,{url:o}=e,{yKey:i}=e,{xKey:s}=e,{zKey:a}=e,{formatter:l=Kc(0)}=e,{clusterLabelMap:c=ta}=e,{keyLabelMap:u=ta}=e,{clusterColorMap:f=na}=e,{keyColorMap:p=na}=e,{caption:d="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=e,{includeCaption:h=!0}=e,{spanCol:g=12}=e,{customClass:m="chart-large"}=e,{tooltipType:y="arrow"}=e,{showLegend:v=!1}=e;const $=r.columns.filter((t=>t!==i)),x=function(){var t=Ia([]),e=nl,n=el,r=rl;function o(o){var i,s,a=Array.from(t.apply(this,arguments),ol),l=a.length,c=-1;for(const t of o)for(i=0,++c;i<l;++i)(a[i][c]=[0,+r(t,a[i].key,c,o)]).data=t;for(i=0,s=Wa(e(a));i<l;++i)a[s[i]].index=i;return n(a,s),a}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:Ia(Array.from(e)),o):t},o.value=function(t){return arguments.length?(r="function"==typeof t?t:Ia(+t),o):r},o.order=function(t){return arguments.length?(e=null==t?nl:"function"==typeof t?t:Ia(Array.from(t)),o):e},o.offset=function(t){return arguments.length?(n=null==t?el:t,o):n},o}().keys($),b=x(r);let _,w=Vl(r.map((t=>t[i])),Bl),k=Array.from(p).filter((t=>$.includes(t[0]))).map((t=>t[1])),M=!0;return t.$$set=t=>{"data"in t&&n(0,r=t.data),"url"in t&&n(1,o=t.url),"yKey"in t&&n(2,i=t.yKey),"xKey"in t&&n(3,s=t.xKey),"zKey"in t&&n(4,a=t.zKey),"formatter"in t&&n(5,l=t.formatter),"clusterLabelMap"in t&&n(6,c=t.clusterLabelMap),"keyLabelMap"in t&&n(7,u=t.keyLabelMap),"clusterColorMap"in t&&n(8,f=t.clusterColorMap),"keyColorMap"in t&&n(9,p=t.keyColorMap),"caption"in t&&n(10,d=t.caption),"includeCaption"in t&&n(11,h=t.includeCaption),"spanCol"in t&&n(12,g=t.spanCol),"customClass"in t&&n(13,m=t.customClass),"tooltipType"in t&&n(14,y=t.tooltipType),"showLegend"in t&&n(20,v=t.showLegend)},[r,o,i,s,a,l,c,u,f,p,d,h,g,m,y,_,M,b,w,k,v,t=>c.get(t),t=>n(15,_=n(16,M=t)),()=>n(16,M=!0),t=>t.data[i]]}class ru extends at{constructor(t){super(),st(this,t,nu,tu,i,{data:0,url:1,yKey:2,xKey:3,zKey:4,formatter:5,clusterLabelMap:6,keyLabelMap:7,clusterColorMap:8,keyColorMap:9,caption:10,includeCaption:11,spanCol:12,customClass:13,tooltipType:14,showLegend:20},null,[-1,-1])}}function ou(){var t={},e=24,n=8,r=[1,1],o=[],i=[];function s(){function t(t,e){return t.source.x-e.source.x}function e(t,e){return t.target.x-e.target.x}o.forEach((function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)})),o.forEach((function(t){var e=0,n=0;t.sourceLinks.forEach((function(t){t.sy=e,e+=t.dy})),t.targetLinks.forEach((function(t){t.ty=n,n+=t.dy}))}))}function a(t){return t.y+t.dy/2}function l(t){return t.value}return t.nodeWidth=function(n){return arguments.length?(e=+n,t):e},t.nodePadding=function(e){return arguments.length?(n=+e,t):n},t.nodes=function(e){return arguments.length?(o=e,t):o},t.links=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(r=e,t):r},t.layout=function(c){return o.forEach((function(t){t.sourceLinks=[],t.targetLinks=[]})),i.forEach((function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=o[t.source]),"number"==typeof n&&(n=t.target=o[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})),o.forEach((function(t){t.value=Math.max(ae(t.sourceLinks,l),ae(t.targetLinks,l))})),function(){var t,n=o,i=0;for(;n.length;)t=[],n.forEach((function(e){e.y=i,e.sourceLinks.forEach((function(e){t.indexOf(e.target)<0&&t.push(e.target)}))})),n=t,++i;(function(t){o.forEach((function(e){e.sourceLinks.length||(e.y=t-1)}))})(i),s=(r[1]-e)/(i-1),o.forEach((function(t){t.y*=s}));var s}(),function(t){var e=Jt(o,(function(t){return t.y})).map((function(t){return t[1]})),s=(r[0]-(e[0].length-1)*n)/ae(e[0],l);e.forEach((function(t){t.forEach((function(t,e){t.x=e,t.dy=t.value*s}))})),i.forEach((function(t){t.dy=t.value*s})),p();for(var c=1;t>0;--t)u(c),p(),f(c*=.99),p();function u(t){function n(t){return a(t.source)*t.value}e.forEach((function(e,r){e.forEach((function(e){if(e.targetLinks.length){var r=ae(e.targetLinks,n)/ae(e.targetLinks,l);e.x+=(r-a(e))*t}}))}))}function f(t){function n(t){return a(t.target)*t.value}e.slice().reverse().forEach((function(e){e.forEach((function(e){if(e.sourceLinks.length){var r=ae(e.sourceLinks,n)/ae(e.sourceLinks,l);e.x+=(r-a(e))*t}}))}))}function p(){e.forEach((function(t){var e,o,i,s=0,a=t.length;for(t.sort(d),i=0;i<a;++i)(o=s-(e=t[i]).x)>0&&(e.x+=o),s=e.x+e.dy+n;if((o=s-n-r[0])>0)for(s=e.x-=o,i=a-2;i>=0;--i)(o=(e=t[i]).x+e.dy+n-s)>0&&(e.x-=o),s=e.x}))}function d(t,e){return e.x-t.x}}(c),s(),t},t.relayout=function(){return s(),t},t.link=function(){var t=.5;function n(n){var r=n.source.x+n.sy+n.dy/2,o=n.target.x+n.ty+n.dy/2,i=n.source.y+e,s=n.target.y,a=tn(i,s);return"M"+r+","+i+"C"+r+","+a(t)+" "+o+","+a(1-t)+" "+o+","+s}return n.curvature=function(e){return arguments.length?(t=+e,n):t},n},t}function iu(t,e,n){const r=t.slice();r[26]=e[n],r[30]=n;const o=r[26].id.split("_");return r[27]=o[0],r[28]=o[1],r}function su(t,e,n){const r=t.slice();return r[26]=e[n],r}function au(t){let e,n,o,i,s;function a(...e){return t[21](t[26],...e)}function l(...e){return t[22](t[26],...e)}return{c(){e=b("path"),C(e,"class","link svelte-1eqkavw"),C(e,"stroke-width",n=t[26].dy),C(e,"d",o=t[6](t[26])),N(e,"--color",t[0](t[26].sourceName))},m(n,r){y(n,e,r),i||(s=[M(e,"mouseover",a),M(e,"focus",l),M(e,"mouseout",t[23]),M(e,"blur",t[24])],i=!0)},p(r,i){t=r,128&i[0]&&n!==(n=t[26].dy)&&C(e,"stroke-width",n),192&i[0]&&o!==(o=t[6](t[26]))&&C(e,"d",o),129&i[0]&&N(e,"--color",t[0](t[26].sourceName))},d(t){t&&v(e),i=!1,r(s)}}}function lu(t){let e,n,r,o,i,s,a,l,c,u,f,p,h,g=t[2](t[28])+"";return{c(){e=b("g"),n=b("rect"),c=b("text"),u=_(g),C(n,"class",r=d(`node node-${t[27]}`)+" svelte-1eqkavw"),C(n,"x",o=t[26].x),C(n,"y",i=t[26].y+("source"===t[27]?t[4].nodeWidth()-7.5:0)),C(n,"height",s=7.5),C(n,"width",a=t[26].dy),C(n,"fill",l=t[1](t[28])),C(c,"class","label svelte-1eqkavw"),C(c,"x",f=t[26].x+t[26].dy/2),C(c,"y",p=t[26].y+("source"===t[27]?-2.5:2.5)),C(c,"dy",h=t[4].nodeWidth()/2+t[5]/2-2),N(c,"fill",t[3](t[26])),N(c,"font-size",t[5]+"px"),C(e,"class","node-group")},m(t,r){y(t,e,r),m(e,n),m(e,c),m(c,u)},p(t,e){256&e[0]&&r!==(r=d(`node node-${t[27]}`)+" svelte-1eqkavw")&&C(n,"class",r),256&e[0]&&o!==(o=t[26].x)&&C(n,"x",o),272&e[0]&&i!==(i=t[26].y+("source"===t[27]?t[4].nodeWidth()-7.5:0))&&C(n,"y",i),256&e[0]&&a!==(a=t[26].dy)&&C(n,"width",a),258&e[0]&&l!==(l=t[1](t[28]))&&C(n,"fill",l),260&e[0]&&g!==(g=t[2](t[28])+"")&&T(u,g),256&e[0]&&f!==(f=t[26].x+t[26].dy/2)&&C(c,"x",f),256&e[0]&&p!==(p=t[26].y+("source"===t[27]?-2.5:2.5))&&C(c,"y",p),48&e[0]&&h!==(h=t[4].nodeWidth()/2+t[5]/2-2)&&C(c,"dy",h),264&e[0]&&N(c,"fill",t[3](t[26])),32&e[0]&&N(c,"font-size",t[5]+"px")},d(t){t&&v(e)}}}function cu(e){let n,r,o,i=e[7],s=[];for(let t=0;t<i.length;t+=1)s[t]=au(su(e,i,t));let a=e[8],l=[];for(let t=0;t<a.length;t+=1)l[t]=lu(iu(e,a,t));return{c(){n=b("g"),r=b("g");for(let t=0;t<s.length;t+=1)s[t].c();o=b("g");for(let t=0;t<l.length;t+=1)l[t].c();C(r,"class","link-group"),C(o,"class","rect-group"),C(n,"class","sankey-layer")},m(t,e){y(t,n,e),m(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);m(n,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null)},p(t,e){if(12481&e[0]){let n;for(i=t[7],n=0;n<i.length;n+=1){const o=su(t,i,n);s[n]?s[n].p(o,e):(s[n]=au(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}if(318&e[0]){let n;for(a=t[8],n=0;n<a.length;n+=1){const r=iu(t,a,n);l[n]?l[n].p(r,e):(l[n]=lu(r),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=a.length}},i:t,o:t,d(t){t&&v(n),$(s,t),$(l,t)}}}function uu(t,e,n){let r,o,i,s,l,c,u,f;const{data:p,width:d,height:h}=U("LayerCake");a(t,p,(t=>n(19,u=t))),a(t,d,(t=>n(18,c=t))),a(t,h,(t=>n(20,f=t)));let{colorLinks:g=(t=>"rgba(0, 0, 0, .2)")}=e,{colorNodes:m=(t=>"#333")}=e,{labelNodes:y=(t=>t)}=e,{colorText:v=(t=>"#263238")}=e,{nodeWidth:$=5}=e,{nodePadding:x=10}=e,{linkSort:b=null}=e,{nodeId:_=(t=>t.id)}=e;const w=K();function k(t,e){w("mousemove",{e:t,props:e}),document.querySelectorAll(".link").forEach((e=>{e!==t.target?e.classList.add("inactive"):e.classList.add("active")}))}function M(t){w("mouseout"),document.querySelectorAll(".link").forEach((t=>t.classList.remove("inactive"))),t.target.classList.remove("active")}return t.$$set=t=>{"colorLinks"in t&&n(0,g=t.colorLinks),"colorNodes"in t&&n(1,m=t.colorNodes),"labelNodes"in t&&n(2,y=t.labelNodes),"colorText"in t&&n(3,v=t.colorText),"nodeWidth"in t&&n(14,$=t.nodeWidth),"nodePadding"in t&&n(15,x=t.nodePadding),"linkSort"in t&&n(16,b=t.linkSort),"nodeId"in t&&n(17,_=t.nodeId)},t.$$.update=()=>{1835008&t.$$.dirty[0]&&n(4,r=ou().nodeWidth(25).nodePadding(5).size([c,f]).nodes(u.nodes).links(u.links).layout(0)),16&t.$$.dirty[0]&&n(8,o=r.nodes()),16&t.$$.dirty[0]&&n(7,i=r.links()),16&t.$$.dirty[0]&&n(6,s=r.link()),262144&t.$$.dirty[0]&&n(5,l=c<=320?8:12)},[g,m,y,v,r,l,s,i,o,p,d,h,k,M,$,x,b,_,c,u,f,(t,e)=>k(e,t),(t,e)=>k(e,t),t=>M(t),t=>M(t)]}class fu extends at{constructor(t){super(),st(this,t,uu,cu,i,{colorLinks:0,colorNodes:1,labelNodes:2,colorText:3,nodeWidth:14,nodePadding:15,linkSort:16,nodeId:17},null,[-1,-1])}}function pu(e){let n,r,o,i,s;return{c(){n=x("div"),r=_(e[0]),o=w(),i=x("div"),s=_(e[1]),C(n,"class","sankey-label source svelte-1xhqv90"),N(n,"--padding-top","-"+e[2].top+"px"),C(i,"class","sankey-label target svelte-1xhqv90"),N(i,"--padding-bottom","-"+e[2].bottom+"px")},m(t,e){y(t,n,e),m(n,r),y(t,o,e),y(t,i,e),m(i,s)},p(t,[e]){1&e&&T(r,t[0]),4&e&&N(n,"--padding-top","-"+t[2].top+"px"),2&e&&T(s,t[1]),4&e&&N(i,"--padding-bottom","-"+t[2].bottom+"px")},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(i)}}}function du(t,e,n){let r,{source:o}=e,{target:i}=e;const{width:s,padding:l}=U("LayerCake");return a(t,l,(t=>n(2,r=t))),t.$$set=t=>{"source"in t&&n(0,o=t.source),"target"in t&&n(1,i=t.target)},[o,i,r,l]}class hu extends at{constructor(t){super(),st(this,t,du,pu,i,{source:0,target:1})}}function gu(t){const e={...t[16].props};t[17]=e}function mu(t,e,n){const r=t.slice();r[18]=e[n];const o=r[17][r[18]];return r[19]=o,r}function yu(e){let n,r,o,i,s,a,l;return a=new fu({props:{colorNodes:e[11],labelNodes:e[12],colorLinks:e[13]}}),a.$on("mousemove",e[14]),a.$on("mouseout",e[15]),{c(){n=b("defs"),r=b("linearGradient"),o=b("stop"),i=b("stop"),s=w(),nt(a.$$.fragment),C(o,"offset","0"),C(o,"stop-color","var(--color-source)"),C(i,"offset","100%"),C(i,"stop-color","var(--color-target)"),C(r,"id","gradient"),C(r,"gradientTransform","rotate(90)")},m(t,e){y(t,n,e),m(n,r),m(r,o),m(r,i),y(t,s,e),rt(a,t,e),l=!0},p:t,i(t){l||(tt(a.$$.fragment,t),l=!0)},o(t){et(a.$$.fragment,t),l=!1},d(t){t&&v(n),t&&v(s),ot(a,t)}}}function vu(t){let e,n;return e=new ha({props:{evt:t[9],offset:-10,$$slots:{default:[xu,({detail:t})=>({16:t}),({detail:t})=>t?65536:0]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};512&n&&(r.evt=t[9]),4259848&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function $u(t){let e,n,r=t[3](t[19])+"";return{c(){e=x("div"),n=_(r),C(e,"class","row")},m(t,r){y(t,e,r),m(e,n)},p(t,e){65544&e&&r!==(r=t[3](t[19])+"")&&T(n,r)},d(t){t&&v(e)}}}function xu(t){let e,n;gu(t);let r,o,i,s,a,l,c=ta.get(t[17].sourceName)+"",u=ta.get(t[17].targetName)+"",f=["value"],p=[];for(let e=0;e<1;e+=1)p[e]=$u(mu(t,f,e));return{c(){e=x("div"),n=x("span"),r=_(c),o=_(" ➞\n                            "),i=x("span"),s=_(u),a=w();for(let t=0;t<1;t+=1)p[t].c();l=k(),C(n,"class","cluster-label svelte-13lgr7s"),N(n,"--color",na.get(t[17].sourceName)),C(i,"class","cluster-label svelte-13lgr7s"),N(i,"--color",na.get(t[17].targetName))},m(t,c){y(t,e,c),m(e,n),m(n,r),m(e,o),m(e,i),m(i,s),y(t,a,c);for(let e=0;e<1;e+=1)p[e].m(t,c);y(t,l,c)},p(t,e){if(gu(t),65536&e&&c!==(c=ta.get(t[17].sourceName)+"")&&T(r,c),65536&e&&N(n,"--color",na.get(t[17].sourceName)),65536&e&&u!==(u=ta.get(t[17].targetName)+"")&&T(s,u),65536&e&&N(i,"--color",na.get(t[17].targetName)),65544&e){let n;for(f=["value"],n=0;n<1;n+=1){const r=mu(t,f,n);p[n]?p[n].p(r,e):(p[n]=$u(r),p[n].c(),p[n].m(l.parentNode,l))}for(;n<1;n+=1)p[n].d(1)}},d(t){t&&v(e),t&&v(a),$(p,t),t&&v(l)}}}function bu(t){let e,n,r,o;e=new hu({props:{source:t[7],target:t[8]}});let i=!0!==t[10]&&vu(t);return{c(){nt(e.$$.fragment),n=w(),i&&i.c(),r=k()},m(t,s){rt(e,t,s),y(t,n,s),i&&i.m(t,s),y(t,r,s),o=!0},p(t,n){const o={};128&n&&(o.source=t[7]),256&n&&(o.target=t[8]),e.$set(o),!0!==t[10]?i?(i.p(t,n),1024&n&&tt(i,1)):(i=vu(t),i.c(),tt(i,1),i.m(r.parentNode,r)):i&&(J(),et(i,1,1,(()=>{i=null})),Q())},i(t){o||(tt(e.$$.fragment,t),tt(i),o=!0)},o(t){et(e.$$.fragment,t),et(i),o=!1},d(t){ot(e,t),t&&v(n),i&&i.d(t),t&&v(r)}}}function _u(t){let e,n,r,o;return e=new as({props:{$$slots:{default:[yu]},$$scope:{ctx:t}}}),r=new ts({props:{pointerEvents:!1,$$slots:{default:[bu]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};4195840&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};4196232&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function wu(t){let e,n;return e=new Fl({props:{caption:t[4],url:t[2],type:12===t[6]?"split-cols":"single-cols"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};16&n&&(r.caption=t[4]),4&n&&(r.url=t[2]),64&n&&(r.type=12===t[6]?"split-cols":"single-cols"),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function ku(t){let e,n,r,o,i,s,a;r=new Vi({props:{data:{nodes:t[0],links:t[1]},padding:{top:30,bottom:30},position:"relative",$$slots:{default:[_u]},$$scope:{ctx:t}}});let l=t[5]&&wu(t);return{c(){e=x("div"),n=x("div"),nt(r.$$.fragment),o=w(),l&&l.c(),C(n,"class","chart sankey-diagram"),C(e,"class",i=d("chart-wrapper "+(12===t[6]?"split-cols":"single-cols"))+" svelte-13lgr7s"),C(e,"style",s=`--spanCol: ${t[6]}`)},m(t,i){y(t,e,i),m(e,n),rt(r,n,null),m(e,o),l&&l.m(e,null),a=!0},p(t,[n]){const o={};3&n&&(o.data={nodes:t[0],links:t[1]}),4196232&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o),t[5]?l?(l.p(t,n),32&n&&tt(l,1)):(l=wu(t),l.c(),tt(l,1),l.m(e,null)):l&&(J(),et(l,1,1,(()=>{l=null})),Q()),(!a||64&n&&i!==(i=d("chart-wrapper "+(12===t[6]?"split-cols":"single-cols"))+" svelte-13lgr7s"))&&C(e,"class",i),(!a||64&n&&s!==(s=`--spanCol: ${t[6]}`))&&C(e,"style",s)},i(t){a||(tt(r.$$.fragment,t),tt(l),a=!0)},o(t){et(r.$$.fragment,t),et(l),a=!1},d(t){t&&v(e),ot(r),l&&l.d()}}}function Mu(t,e,n){let r,{nodes:o}=e,{links:i}=e,{url:s}=e,{formatter:a=Kc(0)}=e,{caption:l="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=e,{includeCaption:c=!0}=e,{spanCol:u=12}=e,{sourceLabel:f="Source"}=e,{targetLabel:p="Target"}=e,d=!0;return t.$$set=t=>{"nodes"in t&&n(0,o=t.nodes),"links"in t&&n(1,i=t.links),"url"in t&&n(2,s=t.url),"formatter"in t&&n(3,a=t.formatter),"caption"in t&&n(4,l=t.caption),"includeCaption"in t&&n(5,c=t.includeCaption),"spanCol"in t&&n(6,u=t.spanCol),"sourceLabel"in t&&n(7,f=t.sourceLabel),"targetLabel"in t&&n(8,p=t.targetLabel)},[o,i,s,a,l,c,u,f,p,r,d,t=>na.get(t),t=>ta.get(t),t=>na.get(t),t=>n(9,r=n(10,d=t)),()=>n(10,d=!0)]}class Cu extends at{constructor(t){super(),st(this,t,Mu,ku,i,{nodes:0,links:1,url:2,formatter:3,caption:4,includeCaption:5,spanCol:6,sourceLabel:7,targetLabel:8})}}function Tu(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Nu(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function zu(e){let n;return{c(){n=x("div"),C(n,"class","chart-placeholder svelte-1kekzne")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function Su(t){let e,n;return e=new ru({props:{data:t[2],yKey:Eu,xKey:t[3],zKey:Ru,formatter:Kc(2),url:Lu,spanCol:12,customClass:"chart-medium",tooltipType:"community",caption:"The archetypes of news consumption behavior on YouTube for each political category."}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.data=t[2]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Du(e){let n,r,o,i=e[5].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function ju(e){let n,r,o,i=e[5].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Au(t){let e,n,i,s,a,l,c,u,f,p,d,h,b;const _=[Su,zu],k=[];function T(t,e){return t[1]&&t[2]?0:1}s=T(t),a=k[s]=_[s](t);let N=cc.copy,z=[];for(let e=0;e<N.length;e+=1)z[e]=Du(Nu(t,N,e));let S=cc.references,D=[];for(let e=0;e<S.length;e+=1)D[e]=ju(Tu(t,S,e));return{c(){e=x("div"),n=x("h2"),n.textContent="Subtitle 1",i=w(),a.c(),l=w(),c=x("div");for(let t=0;t<z.length;t+=1)z[t].c();u=w(),f=x("div");for(let t=0;t<D.length;t+=1)D[t].c();C(n,"class","section-title svelte-1kekzne"),C(c,"class","copy svelte-1kekzne"),C(f,"class","references svelte-1kekzne"),C(e,"class","section section-3 svelte-1kekzne")},m(r,o){y(r,e,o),m(e,n),m(e,i),k[s].m(e,null),m(e,l),m(e,c);for(let t=0;t<z.length;t+=1)z[t].m(c,null);m(e,u),m(e,f);for(let t=0;t<D.length;t+=1)D[t].m(f,null);d=!0,h||(b=[g(p=Ua.call(null,e,{once:t[0]})),M(e,"enter",t[4])],h=!0)},p(t,[n]){let r=s;if(s=T(t),s===r?k[s].p(t,n):(J(),et(k[r],1,1,(()=>{k[r]=null})),Q(),a=k[s],a?a.p(t,n):(a=k[s]=_[s](t),a.c()),tt(a,1),a.m(e,l)),0&n){let e;for(N=cc.copy,e=0;e<N.length;e+=1){const r=Nu(t,N,e);z[e]?z[e].p(r,n):(z[e]=Du(r),z[e].c(),z[e].m(c,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=N.length}if(0&n){let e;for(S=cc.references,e=0;e<S.length;e+=1){const r=Tu(t,S,e);D[e]?D[e].p(r,n):(D[e]=ju(r),D[e].c(),D[e].m(f,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=S.length}p&&o(p.update)&&1&n&&p.update.call(null,{once:t[0]})},i(t){d||(tt(a),d=!0)},o(t){et(a),d=!1},d(t){t&&v(e),k[s].d(),$(z,t),$(D,t),h=!1,r(b)}}}let Lu="assets/data/fig1_pnas_mean.csv",Eu="cluster",Ru="key";function Ku(t,e,n){let r,o=!1,{once:i}=e;R((async()=>{const t=await Yt(Lu,Et);n(2,r=t)}));return t.$$set=t=>{"once"in t&&n(0,i=t.once)},[i,o,r,[0,1],()=>n(1,o=!0)]}class Uu extends at{constructor(t){super(),st(this,t,Ku,Au,i,{once:0})}}function Pu(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Yu(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Fu(e){let n;return{c(){n=x("div"),C(n,"class","chart-placeholder svelte-m0y2zp")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function qu(t){let e,n;return e=new Cu({props:{nodes:t[3],links:t[4],url:Wu,sourceLabel:"Month",targetLabel:"Month + 1",caption:"Probability of flow from categories between months. Each month, users may not fall into any of these communities, if they are not among “news consumers” in that particular month."}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.nodes=t[3]),16&n&&(r.links=t[4]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Hu(e){let n,r,o,i=e[9].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Ou(e){let n,r,o,i=e[9].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Iu(t){let e,n,i,s,a,l,c,u,f,p,d,h,b;const _=[qu,Fu],k=[];function T(t,e){return t[1]&&t[2]?0:1}s=T(t),a=k[s]=_[s](t);let N=cc.copy,z=[];for(let e=0;e<N.length;e+=1)z[e]=Hu(Yu(t,N,e));let S=cc.references,D=[];for(let e=0;e<S.length;e+=1)D[e]=Ou(Pu(t,S,e));return{c(){e=x("div"),n=x("h2"),n.textContent="Subtitle 2",i=w(),a.c(),l=w(),c=x("div");for(let t=0;t<z.length;t+=1)z[t].c();u=w(),f=x("div");for(let t=0;t<D.length;t+=1)D[t].c();C(n,"class","section-title svelte-m0y2zp"),C(c,"class","copy svelte-m0y2zp"),C(f,"class","references svelte-m0y2zp"),C(e,"class","section section-4 svelte-m0y2zp")},m(r,o){y(r,e,o),m(e,n),m(e,i),k[s].m(e,null),m(e,l),m(e,c);for(let t=0;t<z.length;t+=1)z[t].m(c,null);m(e,u),m(e,f);for(let t=0;t<D.length;t+=1)D[t].m(f,null);d=!0,h||(b=[g(p=Ua.call(null,e,{once:t[0]})),M(e,"enter",t[5])],h=!0)},p(t,[n]){let r=s;if(s=T(t),s===r?k[s].p(t,n):(J(),et(k[r],1,1,(()=>{k[r]=null})),Q(),a=k[s],a?a.p(t,n):(a=k[s]=_[s](t),a.c()),tt(a,1),a.m(e,l)),0&n){let e;for(N=cc.copy,e=0;e<N.length;e+=1){const r=Yu(t,N,e);z[e]?z[e].p(r,n):(z[e]=Hu(r),z[e].c(),z[e].m(c,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=N.length}if(0&n){let e;for(S=cc.references,e=0;e<S.length;e+=1){const r=Pu(t,S,e);D[e]?D[e].p(r,n):(D[e]=Ou(r),D[e].c(),D[e].m(f,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=S.length}p&&o(p.update)&&1&n&&p.update.call(null,{once:t[0]})},i(t){d||(tt(a),d=!0)},o(t){et(a),d=!1},d(t){t&&v(e),k[s].d(),$(z,t),$(D,t),h=!1,r(b)}}}let Wu="assets/data/fig4.csv";function Gu(t,e,n){let r,o,i,s,a=!1,{once:l}=e;R((async()=>{const t=await Yt(Wu,Et);n(2,r=Vl(t,["fR","R","AW","C","L","fL"],"from")),s=Vl(t.columns,["fR","R","AW","C","L","fL"]),n(3,o=[...r.map((t=>({id:`source_${t.from}`}))),...s.map((t=>({id:`target_${t}`})))]),n(4,i=ls(r.map(((t,e)=>s.map(((n,r)=>({sourceName:t.from,targetName:n,source:e,target:r+6,value:t[n]})))))))}));return t.$$set=t=>{"once"in t&&n(0,l=t.once)},[l,a,r,o,i,()=>n(1,a=!0)]}class Xu extends at{constructor(t){super(),st(this,t,Gu,Iu,i,{once:0})}}function Vu(t,e,n){const r=t.slice();r[22]=e[n],r[25]=n;const o=function(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}(r[22][1],r[1]).map(r[2]);return r[23]=o,r}function Bu(t,e,n){const r=t.slice();return r[26]=e[n],r[28]=n,r}function Zu(t){let e,n,o,i,s,a,l;function c(...e){return t[17](t[26],...e)}function u(...e){return t[18](t[26],...e)}return{c(){e=b("circle"),C(e,"class","range-circle svelte-7jp4oc"),C(e,"cx",n=t[5](t[26])),C(e,"cy",o=t[4](t[26])),C(e,"r",i=t[14](t[26].scenario)),C(e,"fill",s=t[6](t[26]))},m(n,r){y(n,e,r),a||(l=[M(e,"mouseover",c),M(e,"focus",u),M(e,"mouseout",t[19]),M(e,"blur",t[20])],a=!0)},p(r,a){t=r,33&a&&n!==(n=t[5](t[26]))&&C(e,"cx",n),17&a&&o!==(o=t[4](t[26]))&&C(e,"cy",o),1&a&&i!==(i=t[14](t[26].scenario))&&C(e,"r",i),65&a&&s!==(s=t[6](t[26]))&&C(e,"fill",s)},d(t){t&&v(e),a=!1,r(l)}}}function Ju(t){let e,n,r,o,i,s,a,l,c,u=t[22][1],f=[];for(let e=0;e<u.length;e+=1)f[e]=Zu(Bu(t,u,e));return{c(){e=b("g"),n=b("line");for(let t=0;t<f.length;t+=1)f[t].c();C(n,"x1",r=t[23][0]),C(n,"x2",o=t[23][1]),C(n,"y1",i=t[4](t[22][1][0])),C(n,"y2",s=t[4](t[22][1][0])),C(n,"stroke","gainsboro"),C(n,"stroke-width",a=2*t[14](2)),C(e,"class",l=d(`range-group range-group-${t[22][0]}`)+" svelte-7jp4oc"),C(e,"transform",c=`translate(0, ${t[3].bandwidth()/2})`)},m(t,r){y(t,e,r),m(e,n);for(let t=0;t<f.length;t+=1)f[t].m(e,null)},p(t,a){if(7&a&&r!==(r=t[23][0])&&C(n,"x1",r),7&a&&o!==(o=t[23][1])&&C(n,"x2",o),17&a&&i!==(i=t[4](t[22][1][0]))&&C(n,"y1",i),17&a&&s!==(s=t[4](t[22][1][0]))&&C(n,"y2",s),114801&a){let n;for(u=t[22][1],n=0;n<u.length;n+=1){const r=Bu(t,u,n);f[n]?f[n].p(r,a):(f[n]=Zu(r),f[n].c(),f[n].m(e,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}1&a&&l!==(l=d(`range-group range-group-${t[22][0]}`)+" svelte-7jp4oc")&&C(e,"class",l),8&a&&c!==(c=`translate(0, ${t[3].bandwidth()/2})`)&&C(e,"transform",c)},d(t){t&&v(e),$(f,t)}}}function Qu(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=Ju(Vu(e,r,t));return{c(){n=b("g");for(let t=0;t<o.length;t+=1)o[t].c();C(n,"class",d("vis-group")+" svelte-7jp4oc")},m(t,e){y(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(114815&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const s=Vu(t,r,i);o[i]?o[i].p(s,e):(o[i]=Ju(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&v(n),$(o,t)}}}function tf(t,e,n){let r,o,i,s,l,c,u;const{data:f,xGet:p,yGet:d,zGet:h,xScale:g,x:m,yScale:y}=U("LayerCake");a(t,f,(t=>n(0,r=t))),a(t,p,(t=>n(5,c=t))),a(t,d,(t=>n(4,l=t))),a(t,h,(t=>n(6,u=t))),a(t,g,(t=>n(2,i=t))),a(t,m,(t=>n(1,o=t))),a(t,y,(t=>n(3,s=t)));const v=Xn().exponent(.5).domain([2,4]).range([4,7]),$=K();function x(t,e){$("mousemove",{e:t,props:e}),document.querySelectorAll(".range-circle").forEach((e=>{e!==t.target?e.classList.add("inactive"):e.classList.add("active")}))}function b(t){$("mouseout"),document.querySelectorAll(".range-circle").forEach((t=>t.classList.remove("inactive"))),t.target.classList.remove("active")}return[r,o,i,s,l,c,u,f,p,d,h,g,m,y,v,x,b,(t,e)=>x(e,t),(t,e)=>x(e,t),t=>b(t),t=>b(t)]}class ef extends at{constructor(t){super(),st(this,t,tf,Qu,i,{})}}function nf(t){const e={...t[16].props};t[17]=e}function rf(t,e,n){const r=t.slice();r[18]=e[n];const o=r[17][r[18]];return r[19]=o,r}function of(e){let n,r,o,i,s,a;return n=new yl({props:{gridlines:!1,ticks:3,snapTicks:!1,tickMarks:!0}}),o=new kl({props:{gridlines:!1,formatTick:e[13]}}),s=new ef({}),s.$on("mousemove",e[14]),s.$on("mouseout",e[15]),{c(){nt(n.$$.fragment),r=w(),nt(o.$$.fragment),i=w(),nt(s.$$.fragment)},m(t,e){rt(n,t,e),y(t,r,e),rt(o,t,e),y(t,i,e),rt(s,t,e),a=!0},p:t,i(t){a||(tt(n.$$.fragment,t),tt(o.$$.fragment,t),tt(s.$$.fragment,t),a=!0)},o(t){et(n.$$.fragment,t),et(o.$$.fragment,t),et(s.$$.fragment,t),a=!1},d(t){ot(n,t),t&&v(r),ot(o,t),t&&v(i),ot(s,t)}}}function sf(t){let e,n;return e=new ha({props:{evt:t[9],offset:-15,$$slots:{default:[lf,({detail:t})=>({16:t}),({detail:t})=>t?65536:0]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};512&n&&(r.evt=t[9]),4260096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function af(t){let e,n,r,o=t[8](t[19])+"";return{c(){e=x("div"),n=_("Difference in consumption: "),r=_(o),C(e,"class","row")},m(t,o){y(t,e,o),m(e,n),m(e,r)},p(t,e){65792&e&&o!==(o=t[8](t[19])+"")&&T(r,o)},d(t){t&&v(e)}}}function lf(t){let e,n;nf(t);let r,o,i,s,a,l,c,u,f=ta.get(t[17].cluster)+"",p=t[17].scenario+"",d=["mean"],h=[];for(let e=0;e<1;e+=1)h[e]=af(rf(t,d,e));return{c(){e=x("div"),n=x("span"),r=_(f),o=w(),i=x("div"),s=_("Burst length: "),a=_(p),l=_(" videos"),c=w();for(let t=0;t<1;t+=1)h[t].c();u=k(),C(n,"class","cluster-label svelte-1sfmu5q"),N(n,"--color",na.get(t[17].cluster)),C(i,"class","row")},m(t,f){y(t,e,f),m(e,n),m(n,r),y(t,o,f),y(t,i,f),m(i,s),m(i,a),m(i,l),y(t,c,f);for(let e=0;e<1;e+=1)h[e].m(t,f);y(t,u,f)},p(t,e){if(nf(t),65536&e&&f!==(f=ta.get(t[17].cluster)+"")&&T(r,f),65536&e&&N(n,"--color",na.get(t[17].cluster)),65536&e&&p!==(p=t[17].scenario+"")&&T(a,p),65792&e){let n;for(d=["mean"],n=0;n<1;n+=1){const r=rf(t,d,n);h[n]?h[n].p(r,e):(h[n]=af(r),h[n].c(),h[n].m(u.parentNode,u))}for(;n<1;n+=1)h[n].d(1)}},d(t){t&&v(e),t&&v(o),t&&v(i),t&&v(c),$(h,t),t&&v(u)}}}function cf(t){let e,n,r=!0!==t[10]&&sf(t);return{c(){r&&r.c(),e=k()},m(t,o){r&&r.m(t,o),y(t,e,o),n=!0},p(t,n){!0!==t[10]?r?(r.p(t,n),1024&n&&tt(r,1)):(r=sf(t),r.c(),tt(r,1),r.m(e.parentNode,e)):r&&(J(),et(r,1,1,(()=>{r=null})),Q())},i(t){n||(tt(r),n=!0)},o(t){et(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function uf(t){let e,n,r,o;return e=new as({props:{$$slots:{default:[of]},$$scope:{ctx:t}}}),r=new ts({props:{pointerEvents:!1,$$slots:{default:[cf]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};4195840&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};4196096&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function ff(t){let e,n;return e=new Fl({props:{caption:t[0],url:t[4],type:"single-cols"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.caption=t[0]),16&n&&(r.url=t[4]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function pf(t){let e,n,r,o,i;r=new Vi({props:{padding:{top:0,right:10,bottom:20,left:45},flatData:t[2],data:Array.from(t[3]),x:t[5],xNice:!0,y:t[6],yScale:fe(),yDomain:t[11],z:t[7],zScale:ue(),zDomain:t[11],zRange:t[12],$$slots:{default:[uf]},$$scope:{ctx:t}}});let s=t[1]&&ff(t);return{c(){e=x("div"),n=x("div"),nt(r.$$.fragment),o=w(),s&&s.c(),C(n,"class","chart range-plot"),C(e,"class","chart-wrapper svelte-1sfmu5q")},m(t,a){y(t,e,a),m(e,n),rt(r,n,null),m(e,o),s&&s.m(e,null),i=!0},p(t,[n]){const o={};4&n&&(o.flatData=t[2]),8&n&&(o.data=Array.from(t[3])),32&n&&(o.x=t[5]),64&n&&(o.y=t[6]),128&n&&(o.z=t[7]),4196096&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o),t[1]?s?(s.p(t,n),2&n&&tt(s,1)):(s=ff(t),s.c(),tt(s,1),s.m(e,null)):s&&(J(),et(s,1,1,(()=>{s=null})),Q())},i(t){i||(tt(r.$$.fragment,t),tt(s),i=!0)},o(t){et(r.$$.fragment,t),et(s),i=!1},d(t){t&&v(e),ot(r),s&&s.d()}}}function df(t,e,n){let r,{caption:o="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=e,{includeCaption:i=!0}=e,{data:s}=e,{groupedData:a}=e,{url:l}=e,{xKey:c}=e,{yKey:u}=e,{zKey:f}=e,{formatter:p=Kc(0)}=e,d=Array.from(a).map((t=>t[0])),h=d.map((t=>na.get(t))),g=!0;return t.$$set=t=>{"caption"in t&&n(0,o=t.caption),"includeCaption"in t&&n(1,i=t.includeCaption),"data"in t&&n(2,s=t.data),"groupedData"in t&&n(3,a=t.groupedData),"url"in t&&n(4,l=t.url),"xKey"in t&&n(5,c=t.xKey),"yKey"in t&&n(6,u=t.yKey),"zKey"in t&&n(7,f=t.zKey),"formatter"in t&&n(8,p=t.formatter)},[o,i,s,a,l,c,u,f,p,r,g,d,h,t=>ta.get(t),t=>n(9,r=n(10,g=t)),()=>n(10,g=!0)]}class hf extends at{constructor(t){super(),st(this,t,df,pf,i,{caption:0,includeCaption:1,data:2,groupedData:3,url:4,xKey:5,yKey:6,zKey:7,formatter:8})}}function gf(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function mf(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function yf(e){let n;return{c(){n=x("div"),C(n,"class","chart-placeholder svelte-cjebcy")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function vf(t){let e,n;return e=new hf({props:{data:t[2],groupedData:t[3],yKey:Tf,xKey:Cf,zKey:Nf,formatter:zf,url:kf,caption:"Difference in means of daily consumption change, in the event of bursty consumption from a specific political category. Individuals are assigned either to bursty consumption group in the event of watching 2 to 4 videos, or to a control group, if none of their sessions has more than one video from the same category in their lifetime. The exposure can be driven by user, recommendation, or external sources."}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.data=t[2]),8&n&&(r.groupedData=t[3]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function $f(e){let n;return{c(){n=x("div"),C(n,"class","chart-placeholder svelte-cjebcy")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function xf(t){let e,n;return e=new Cu({props:{nodes:t[5],links:t[6],formatter:t[7],url:Mf,spanCol:6,sourceLabel:"YouTube",targetLabel:"News media",caption:"Risk ratio of consumption of polical content on YouTube from news content of politcal categories on the web."}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.nodes=t[5]),64&n&&(r.links=t[6]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function bf(e){let n,r,o,i=e[10].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function _f(e){let n,r,o,i=e[10].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function wf(t){let e,n,i,s,a,l,c,u,f,p,d,h,b,_;const k=[vf,yf],T=[];function N(t,e){return t[1]&&t[2]?0:1}n=N(t),i=T[n]=k[n](t);const z=[xf,$f],S=[];function D(t,e){return t[1]&&t[4]?0:1}a=D(t),l=S[a]=z[a](t);let j=cc.copy,A=[];for(let e=0;e<j.length;e+=1)A[e]=bf(mf(t,j,e));let L=cc.references,E=[];for(let e=0;e<L.length;e+=1)E[e]=_f(gf(t,L,e));return{c(){e=x("div"),i.c(),s=w(),l.c(),c=w(),u=x("div");for(let t=0;t<A.length;t+=1)A[t].c();f=w(),p=x("div");for(let t=0;t<E.length;t+=1)E[t].c();C(u,"class","copy svelte-cjebcy"),C(p,"class","references svelte-cjebcy"),C(e,"class","section section-5 svelte-cjebcy")},m(r,o){y(r,e,o),T[n].m(e,null),m(e,s),S[a].m(e,null),m(e,c),m(e,u);for(let t=0;t<A.length;t+=1)A[t].m(u,null);m(e,f),m(e,p);for(let t=0;t<E.length;t+=1)E[t].m(p,null);h=!0,b||(_=[g(d=Ua.call(null,e,{once:t[0]})),M(e,"enter",t[8])],b=!0)},p(t,[r]){let f=n;n=N(t),n===f?T[n].p(t,r):(J(),et(T[f],1,1,(()=>{T[f]=null})),Q(),i=T[n],i?i.p(t,r):(i=T[n]=k[n](t),i.c()),tt(i,1),i.m(e,s));let h=a;if(a=D(t),a===h?S[a].p(t,r):(J(),et(S[h],1,1,(()=>{S[h]=null})),Q(),l=S[a],l?l.p(t,r):(l=S[a]=z[a](t),l.c()),tt(l,1),l.m(e,c)),0&r){let e;for(j=cc.copy,e=0;e<j.length;e+=1){const n=mf(t,j,e);A[e]?A[e].p(n,r):(A[e]=bf(n),A[e].c(),A[e].m(u,null))}for(;e<A.length;e+=1)A[e].d(1);A.length=j.length}if(0&r){let e;for(L=cc.references,e=0;e<L.length;e+=1){const n=gf(t,L,e);E[e]?E[e].p(n,r):(E[e]=_f(n),E[e].c(),E[e].m(p,null))}for(;e<E.length;e+=1)E[e].d(1);E.length=L.length}d&&o(d.update)&&1&r&&d.update.call(null,{once:t[0]})},i(t){h||(tt(i),tt(l),h=!0)},o(t){et(i),et(l),h=!1},d(t){t&&v(e),T[n].d(),S[a].d(),$(A,t),$(E,t),b=!1,r(_)}}}const kf="assets/data/fig5.csv",Mf="assets/data/fig6.csv";let Cf="mean",Tf="cluster",Nf="cluster";const zf=t=>t.toFixed(2);function Sf(t,e,n){let r,o,i,s,a,l,c=!1,{once:u}=e;R((async()=>{const t=await Yt(kf,Et);n(2,r=t),n(3,o=Zt(r,(t=>t[Tf])));const e=await Yt(Mf,Et);n(4,i=e),l=Vl(i.columns,["fR","R","C","L","fL"]),n(5,s=[...i.map((t=>({id:`source_${t.from}`}))),...l.map((t=>({id:`target_${t}`})))]),n(6,a=ls(i.map(((t,e)=>l.map(((n,r)=>({sourceName:t.from,targetName:n,source:e,target:r+6,value:t[n]})))))))}));return t.$$set=t=>{"once"in t&&n(0,u=t.once)},[u,c,r,o,i,s,a,t=>1===t?"Just as likely as average user":t>1?`More likely to consume than average user. Probability: ${t}`:`Less likely to consume than average user. Probability: ${t}`,()=>n(1,c=!0)]}class Df extends at{constructor(t){super(),st(this,t,Sf,wf,i,{once:0})}}function jf(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Af(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Lf(e){let n;return{c(){n=x("div"),C(n,"class","chart-placeholder svelte-cjebcy")},m(t,e){y(t,n,e)},i:t,o:t,d(t){t&&v(n)}}}function Ef(t){let e,n;return e=new sc({props:{config:[{url:"assets/data/fig7a.csv",description:"Fraction of videos by session length",type:"line",xKey:"index",yKey:"fraction",zKey:"cluster",formatTickX:Of,formatTickY:If,includeCaption:!0,caption:"Mean fractions of videos as a function of normalized relative indices across session definitions for each political category, for sessions with length 20 or more videos."},{url:"assets/data/fig7b.csv",description:"Frequency by session length",type:"line",xKey:"length",yKey:"mean",zKey:"cluster",formatTickX:Wf,formatTickY:Gf,includeCaption:!0,caption:"Average fraction of videos of a political category by numbers of videos in sessions. Sessions are between 10 and 60 minutes. Sessions with more than 30 videos (2% of sessions) were dropped."}],spanCol:6}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Rf(e){let n;return{c(){n=x("div"),C(n,"class","chart-placeholder svelte-cjebcy")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function Kf(t){let e,n;return e=new ru({props:{data:t[2],yKey:qf,xKey:t[3],zKey:Hf,formatter:Kc(2),keyColorMap:ra,keyLabelMap:ea,url:Ff,spanCol:6,caption:"Distribution of the entry points of videos within each political category"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.data=t[2]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Uf(e){let n,r,o,i=e[5].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Pf(e){let n,r,o,i=e[5].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Yf(t){let e,n,i,s,a,l,c,u,f,p,d,h,b,_;const k=[Ef,Lf],T=[];function N(t,e){return t[1]?0:1}n=N(t),i=T[n]=k[n](t);const z=[Kf,Rf],S=[];function D(t,e){return t[1]&&t[2]?0:1}a=D(t),l=S[a]=z[a](t);let j=cc.copy,A=[];for(let e=0;e<j.length;e+=1)A[e]=Uf(Af(t,j,e));let L=cc.references,E=[];for(let e=0;e<L.length;e+=1)E[e]=Pf(jf(t,L,e));return{c(){e=x("div"),i.c(),s=w(),l.c(),c=w(),u=x("div");for(let t=0;t<A.length;t+=1)A[t].c();f=w(),p=x("div");for(let t=0;t<E.length;t+=1)E[t].c();C(u,"class","copy svelte-cjebcy"),C(p,"class","references svelte-cjebcy"),C(e,"class","section section-5 svelte-cjebcy")},m(r,o){y(r,e,o),T[n].m(e,null),m(e,s),S[a].m(e,null),m(e,c),m(e,u);for(let t=0;t<A.length;t+=1)A[t].m(u,null);m(e,f),m(e,p);for(let t=0;t<E.length;t+=1)E[t].m(p,null);h=!0,b||(_=[g(d=Ua.call(null,e,{once:t[0]})),M(e,"enter",t[4])],b=!0)},p(t,[r]){let f=n;n=N(t),n!==f&&(J(),et(T[f],1,1,(()=>{T[f]=null})),Q(),i=T[n],i||(i=T[n]=k[n](t),i.c()),tt(i,1),i.m(e,s));let h=a;if(a=D(t),a===h?S[a].p(t,r):(J(),et(S[h],1,1,(()=>{S[h]=null})),Q(),l=S[a],l?l.p(t,r):(l=S[a]=z[a](t),l.c()),tt(l,1),l.m(e,c)),0&r){let e;for(j=cc.copy,e=0;e<j.length;e+=1){const n=Af(t,j,e);A[e]?A[e].p(n,r):(A[e]=Uf(n),A[e].c(),A[e].m(u,null))}for(;e<A.length;e+=1)A[e].d(1);A.length=j.length}if(0&r){let e;for(L=cc.references,e=0;e<L.length;e+=1){const n=jf(t,L,e);E[e]?E[e].p(n,r):(E[e]=Pf(n),E[e].c(),E[e].m(p,null))}for(;e<E.length;e+=1)E[e].d(1);E.length=L.length}d&&o(d.update)&&1&r&&d.update.call(null,{once:t[0]})},i(t){h||(tt(i),tt(l),h=!0)},o(t){et(i),et(l),h=!1},d(t){t&&v(e),T[n].d(),S[a].d(),$(A,t),$(E,t),b=!1,r(_)}}}let Ff="assets/data/table2.csv",qf="cluster",Hf="key";const Of=t=>t,If=t=>t.toFixed(2),Wf=t=>t,Gf=t=>t.toFixed(2);function Xf(t,e,n){let r,o=!1,{once:i}=e;R((async()=>{const t=await Yt(Ff,Et);n(2,r=t)}));return t.$$set=t=>{"once"in t&&n(0,i=t.once)},[i,o,r,[0,1],()=>n(1,o=!0)]}class Vf extends at{constructor(t){super(),st(this,t,Xf,Yf,i,{once:0})}}function Bf(e){let n,r;return{c(){n=b("path"),C(n,"class","path-line svelte-1i6lrw3"),C(n,"d",r=e[1](e[2])),C(n,"stroke",e[0])},m(t,e){y(t,n,e)},p(t,[e]){6&e&&r!==(r=t[1](t[2]))&&C(n,"d",r),1&e&&C(n,"stroke",t[0])},i:t,o:t,d(t){t&&v(n)}}}function Zf(t,e,n){let r,o,i,s;const{data:l,xGet:c,yGet:u}=U("LayerCake");a(t,l,(t=>n(2,s=t))),a(t,c,(t=>n(7,i=t))),a(t,u,(t=>n(6,o=t)));let{stroke:f="#ab00d6"}=e;return t.$$set=t=>{"stroke"in t&&n(0,f=t.stroke)},t.$$.update=()=>{192&t.$$.dirty&&n(1,r=Za().x((t=>i(t))).y((t=>o(t))).curve(tl))},[f,r,s,l,c,u,o,i]}class Jf extends at{constructor(t){super(),st(this,t,Zf,Bf,i,{stroke:0})}}function Qf(t){const e=t[17];t[19]=e}function tp(t){let e,n,r,o,i,s,a,l,c=t[0](t[19][t[5].x])+"",u=t[1](t[19][t[5].y])+"";return{c(){e=x("div"),n=w(),r=x("div"),o=x("div"),i=_(c),s=w(),a=x("div"),l=_(u),N(e,"left",t[14]+"px"),C(e,"class","line svelte-o1blw1"),C(o,"class","title svelte-o1blw1"),C(a,"class","row"),C(r,"class","tooltip svelte-o1blw1"),N(r,"width",rp+"px"),N(r,"display",t[16]?"block":"none"),N(r,"left",Math.min(Math.max(t[9],t[14]),t[4]-t[9])+"px")},m(t,c){y(t,e,c),y(t,n,c),y(t,r,c),m(r,o),m(o,i),m(r,s),m(r,a),m(a,l)},p(t,n){16384&n&&N(e,"left",t[14]+"px"),131105&n&&c!==(c=t[0](t[19][t[5].x])+"")&&T(i,c),131106&n&&u!==(u=t[1](t[19][t[5].y])+"")&&T(l,u),65536&n&&N(r,"display",t[16]?"block":"none"),16400&n&&N(r,"left",Math.min(Math.max(t[9],t[14]),t[4]-t[9])+"px")},d(t){t&&v(e),t&&v(n),t&&v(r)}}}function ep(t){let e;Qf(t);let n=!0===t[16]&&tp(t);return{c(){n&&n.c(),e=k()},m(t,r){n&&n.m(t,r),y(t,e,r)},p(t,r){Qf(t),!0===t[16]?n?n.p(t,r):(n=tp(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&v(e)}}}function np(t){let e,n;return e=new zl({props:{dataset:t[2]||t[3],y:"x",$$slots:{default:[ep,({x:t,y:e,visible:n,found:r,e:o})=>({14:t,15:e,16:n,17:r,18:o}),({x:t,y:e,visible:n,found:r,e:o})=>(t?16384:0)|(e?32768:0)|(n?65536:0)|(r?131072:0)|(o?262144:0)]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,[n]){const r={};12&n&&(r.dataset=t[2]||t[3]),1261619&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}const rp=150;function op(t,e,n){let r,o,i;const{data:s,width:l,config:c}=U("LayerCake");a(t,s,(t=>n(3,r=t))),a(t,l,(t=>n(4,o=t))),a(t,c,(t=>n(5,i=t)));const u=Tn(","),f=t=>t.replace(/^\w/,(t=>t.toUpperCase()));let{formatTitle:p=(t=>t)}=e,{formatValue:d=(t=>isNaN(+t)?t:u(t))}=e,{formatKey:h=(t=>f(t))}=e,{offset:g=-20}=e,{dataset:m}=e;const y=rp/2;return t.$$set=t=>{"formatTitle"in t&&n(0,p=t.formatTitle),"formatValue"in t&&n(1,d=t.formatValue),"formatKey"in t&&n(10,h=t.formatKey),"offset"in t&&n(11,g=t.offset),"dataset"in t&&n(2,m=t.dataset)},[p,d,m,r,o,i,s,l,c,y,h,g]}class ip extends at{constructor(t){super(),st(this,t,op,np,i,{formatTitle:0,formatValue:1,formatKey:10,offset:11,dataset:2})}}function sp(t){let e,n,r,o,i,s;return e=new yl({props:{gridlines:!1,ticks:8,formatTick:t[6],snapTicks:!1,tickMarks:!1}}),r=new kl({props:{ticks:4,formatTick:t[7]}}),i=new Jf({props:{stroke:t[10]}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment),o=w(),nt(i.$$.fragment)},m(t,a){rt(e,t,a),y(t,n,a),rt(r,t,a),y(t,o,a),rt(i,t,a),s=!0},p(t,n){const o={};64&n&&(o.formatTick=t[6]),e.$set(o);const s={};128&n&&(s.formatTick=t[7]),r.$set(s);const a={};1024&n&&(a.stroke=t[10]),i.$set(a)},i(t){s||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),tt(i.$$.fragment,t),s=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),et(i.$$.fragment,t),s=!1},d(t){ot(e,t),t&&v(n),ot(r,t),t&&v(o),ot(i,t)}}}function ap(t){let e,n;return e=new ip({props:{dataset:t[1],formatTitle:t[6],formatKey:t[11],formatValue:Pc}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.dataset=t[1]),64&n&&(r.formatTitle=t[6]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function lp(t){let e,n,r,o;return e=new as({props:{$$slots:{default:[sp]},$$scope:{ctx:t}}}),r=new ts({props:{$$slots:{default:[ap]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};5312&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};4162&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function cp(t){let e,n;return e=new Fl({props:{caption:t[0],url:t[2],type:12===t[9]?"split-cols":"single-cols"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.caption=t[0]),4&n&&(r.url=t[2]),512&n&&(r.type=12===t[9]?"split-cols":"single-cols"),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function up(t){let e,n,r,o,i,s,a;r=new Vi({props:{padding:{top:20,right:10,bottom:20,left:45},data:t[1],x:t[3],xScale:"date"===t[3]?xi():Ln(),y:t[4],yDomain:t[5],yNice:!0,$$slots:{default:[lp]},$$scope:{ctx:t}}});let l=t[8]&&cp(t);return{c(){e=x("div"),n=x("div"),nt(r.$$.fragment),o=w(),l&&l.c(),C(n,"class","chart line-chart"),C(e,"class",i=d("chart-wrapper "+(12===t[9]?"split-cols":"single-cols"))+" svelte-1c7of4m"),C(e,"style",s=`--spanCol: ${t[9]}`)},m(t,i){y(t,e,i),m(e,n),rt(r,n,null),m(e,o),l&&l.m(e,null),a=!0},p(t,[n]){const o={};2&n&&(o.data=t[1]),8&n&&(o.x=t[3]),8&n&&(o.xScale="date"===t[3]?xi():Ln()),16&n&&(o.y=t[4]),32&n&&(o.yDomain=t[5]),5314&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o),t[8]?l?(l.p(t,n),256&n&&tt(l,1)):(l=cp(t),l.c(),tt(l,1),l.m(e,null)):l&&(J(),et(l,1,1,(()=>{l=null})),Q()),(!a||512&n&&i!==(i=d("chart-wrapper "+(12===t[9]?"split-cols":"single-cols"))+" svelte-1c7of4m"))&&C(e,"class",i),(!a||512&n&&s!==(s=`--spanCol: ${t[9]}`))&&C(e,"style",s)},i(t){a||(tt(r.$$.fragment,t),tt(l),a=!0)},o(t){et(r.$$.fragment,t),et(l),a=!1},d(t){t&&v(e),ot(r),l&&l.d()}}}function fp(t,e,n){let{caption:r}=e,{data:o}=e,{url:i}=e,{xKey:s}=e,{yKey:a}=e,{yDomain:l=[0,null]}=e,{formatTickX:c}=e,{formatTickY:u=(t=>t.toFixed(0))}=e,{includeCaption:f=!0}=e,{spanCol:p}=e,{stroke:d}=e;return t.$$set=t=>{"caption"in t&&n(0,r=t.caption),"data"in t&&n(1,o=t.data),"url"in t&&n(2,i=t.url),"xKey"in t&&n(3,s=t.xKey),"yKey"in t&&n(4,a=t.yKey),"yDomain"in t&&n(5,l=t.yDomain),"formatTickX"in t&&n(6,c=t.formatTickX),"formatTickY"in t&&n(7,u=t.formatTickY),"includeCaption"in t&&n(8,f=t.includeCaption),"spanCol"in t&&n(9,p=t.spanCol),"stroke"in t&&n(10,d=t.stroke)},[r,o,i,s,a,l,c,u,f,p,d,t=>ta.get(t)]}class pp extends at{constructor(t){super(),st(this,t,fp,up,i,{caption:0,data:1,url:2,xKey:3,yKey:4,yDomain:5,formatTickX:6,formatTickY:7,includeCaption:8,spanCol:9,stroke:10})}}function dp(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function hp(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function gp(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function mp(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function yp(e){let n;return{c(){n=x("div"),C(n,"class","chart-placeholder svelte-1vxijr7")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function vp(t){let e,n;return e=new pp({props:{data:t[2],url:kp,xKey:Mp,yKey:Cp,formatTickX:Jr("%b %Y"),formatTickY:Uc,caption:"Montly videos crawled.",spanCol:12,stroke:"#E08A00"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.data=t[2]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function $p(e){let n,r,o=e[4].value+"";return{c(){n=x("p"),r=_(o),C(n,"class","svelte-1vxijr7")},m(t,e){y(t,n,e),m(n,r)},p:t,d(t){t&&v(n)}}}function xp(e){let n,r,o=e[4].value+"";return{c(){n=x("p"),r=_(o),C(n,"class","svelte-1vxijr7")},m(t,e){y(t,n,e),m(n,r)},p:t,d(t){t&&v(n)}}}function bp(e){let n,r,o,i=e[4].value+"";return{c(){n=x("p"),r=_(i),o=w(),C(n,"class","svelte-1vxijr7")},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function _p(e){let n,r,o,i=e[4].value+"";return{c(){n=x("p"),r=_(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function wp(t){let e,n,i,s,a,l,c,u,f,p,d,h,b,_,k,T;const N=[vp,yp],z=[];function S(t,e){return t[1]?0:1}a=S(t),l=z[a]=N[a](t);let D=cc.copy,j=[];for(let e=0;e<D.length;e+=1)j[e]=$p(mp(t,D,e));let A=cc.copy,L=[];for(let e=0;e<A.length;e+=1)L[e]=xp(gp(t,A,e));let E=cc.copy,R=[];for(let e=0;e<E.length;e+=1)R[e]=bp(hp(t,E,e));let K=cc.references,U=[];for(let e=0;e<K.length;e+=1)U[e]=_p(dp(t,K,e));return{c(){e=x("main"),n=x("div"),i=x("h2"),i.textContent="Supplementary information appendix",s=w(),l.c(),c=w(),u=x("div");for(let t=0;t<j.length;t+=1)j[t].c();f=w();for(let t=0;t<L.length;t+=1)L[t].c();p=w();for(let t=0;t<R.length;t+=1)R[t].c();d=w(),h=x("div");for(let t=0;t<U.length;t+=1)U[t].c();C(i,"class","section-title svelte-1vxijr7"),C(u,"class","copy svelte-1vxijr7"),C(h,"class","references svelte-1vxijr7"),C(n,"class","section section-supplementary svelte-1vxijr7"),C(e,"class","supplementary svelte-1vxijr7")},m(r,o){y(r,e,o),m(e,n),m(n,i),m(n,s),z[a].m(n,null),m(n,c),m(n,u);for(let t=0;t<j.length;t+=1)j[t].m(u,null);m(u,f);for(let t=0;t<L.length;t+=1)L[t].m(u,null);m(u,p);for(let t=0;t<R.length;t+=1)R[t].m(u,null);m(n,d),m(n,h);for(let t=0;t<U.length;t+=1)U[t].m(h,null);_=!0,k||(T=[g(b=Ua.call(null,n,{once:t[0]})),M(n,"enter",t[3])],k=!0)},p(t,[e]){let r=a;if(a=S(t),a===r?z[a].p(t,e):(J(),et(z[r],1,1,(()=>{z[r]=null})),Q(),l=z[a],l?l.p(t,e):(l=z[a]=N[a](t),l.c()),tt(l,1),l.m(n,c)),0&e){let n;for(D=cc.copy,n=0;n<D.length;n+=1){const r=mp(t,D,n);j[n]?j[n].p(r,e):(j[n]=$p(r),j[n].c(),j[n].m(u,f))}for(;n<j.length;n+=1)j[n].d(1);j.length=D.length}if(0&e){let n;for(A=cc.copy,n=0;n<A.length;n+=1){const r=gp(t,A,n);L[n]?L[n].p(r,e):(L[n]=xp(r),L[n].c(),L[n].m(u,p))}for(;n<L.length;n+=1)L[n].d(1);L.length=A.length}if(0&e){let n;for(E=cc.copy,n=0;n<E.length;n+=1){const r=hp(t,E,n);R[n]?R[n].p(r,e):(R[n]=bp(r),R[n].c(),R[n].m(u,null))}for(;n<R.length;n+=1)R[n].d(1);R.length=E.length}if(0&e){let n;for(K=cc.references,n=0;n<K.length;n+=1){const r=dp(t,K,n);U[n]?U[n].p(r,e):(U[n]=_p(r),U[n].c(),U[n].m(h,null))}for(;n<U.length;n+=1)U[n].d(1);U.length=K.length}b&&o(b.update)&&1&e&&b.update.call(null,{once:t[0]})},i(t){_||(tt(l),_=!0)},o(t){et(l),_=!1},d(t){t&&v(e),z[a].d(),$(j,t),$(L,t),$(R,t),$(U,t),k=!1,r(T)}}}let kp="assets/data/video_count.csv",Mp="date",Cp="count";function Tp(t,e,n){let r,o=!1,{once:i}=e;R((async()=>{const t=await Yt(kp,Et);n(2,r=t)}));return t.$$set=t=>{"once"in t&&n(0,i=t.once)},[i,o,r,()=>n(1,o=!0)]}class Np extends at{constructor(t){super(),st(this,t,Tp,wp,i,{once:0})}}function zp(t){let e,n,r,o,i,s,a,l,c,u,f,p,d,h,g,m,$,x,b,_;return e=new ct({}),r=new Ka({props:{title:t[0],authors:t[1]}}),i=new xc({props:{once:!0}}),a=new zc({props:{once:!0}}),c=new Uu({props:{once:!0}}),f=new Xu({props:{once:!0}}),d=new Df({props:{once:!0}}),g=new Vf({props:{once:!0}}),$=new Np({props:{once:!0}}),b=new ft({}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment),o=w(),nt(i.$$.fragment),s=w(),nt(a.$$.fragment),l=w(),nt(c.$$.fragment),u=w(),nt(f.$$.fragment),p=w(),nt(d.$$.fragment),h=w(),nt(g.$$.fragment),m=w(),nt($.$$.fragment),x=w(),nt(b.$$.fragment)},m(t,v){rt(e,t,v),y(t,n,v),rt(r,t,v),y(t,o,v),rt(i,t,v),y(t,s,v),rt(a,t,v),y(t,l,v),rt(c,t,v),y(t,u,v),rt(f,t,v),y(t,p,v),rt(d,t,v),y(t,h,v),rt(g,t,v),y(t,m,v),rt($,t,v),y(t,x,v),rt(b,t,v),_=!0},p(t,[e]){const n={};1&e&&(n.title=t[0]),2&e&&(n.authors=t[1]),r.$set(n)},i(t){_||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),tt(i.$$.fragment,t),tt(a.$$.fragment,t),tt(c.$$.fragment,t),tt(f.$$.fragment,t),tt(d.$$.fragment,t),tt(g.$$.fragment,t),tt($.$$.fragment,t),tt(b.$$.fragment,t),_=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),et(i.$$.fragment,t),et(a.$$.fragment,t),et(c.$$.fragment,t),et(f.$$.fragment,t),et(d.$$.fragment,t),et(g.$$.fragment,t),et($.$$.fragment,t),et(b.$$.fragment,t),_=!1},d(t){ot(e,t),t&&v(n),ot(r,t),t&&v(o),ot(i,t),t&&v(s),ot(a,t),t&&v(l),ot(c,t),t&&v(u),ot(f,t),t&&v(p),ot(d,t),t&&v(h),ot(g,t),t&&v(m),ot($,t),t&&v(x),ot(b,t)}}}function Sp(t,e,n){let{title:r="Your title goes here"}=e,{authors:o}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title),"authors"in t&&n(1,o=t.authors)},[r,o]}return new class extends at{constructor(t){super(),st(this,t,Sp,zp,i,{title:0,authors:1})}}({target:document.body,props:{title:ac,authors:[{name:"Homa Hosseinmardia",detail:["Department of Computer and Information Science, University of Pennsylvania, Philadelphia, PA 19104","homahm@seas.upenn.edu"]},{name:"Amir Ghasemian",detail:["Department of Statistics, Harvard University, Cambridge, MA 02138","Department of Statistical Science, Fox School of Business, Temple University, Philadelphia, PA 19122"]},{name:"Aaron Clauset",detail:["Department of Computer Science, University of Colorado Boulder, Boulder, CO 80309","BioFrontiers Institute, University of Colorado Boulder, Boulder, CO 80303","Santa Fe Institute, Santa Fe, NM 87501"]},{name:"Markus Mobius",detail:["Microsoft Research New England, Cambridge, MA 02142"]},{name:"David M. Rothschildh",detail:["Microsoft Research New York, New York, NY 10012"]},{name:"Duncan J. Watts",detail:["Department of Computer and Information Science, University of Pennsylvania, Philadelphia, PA 19104","The Annenberg School of Communication, University of Pennsylvania, Philadelphia, PA 19104","Operations, Information, and Decisions Department, University of Pennsylvania, Philadelphia, PA 19104","djwatts@seas.upenn.edu"]}]}})}();
//# sourceMappingURL=bundle.js.map
