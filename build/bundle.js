var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(t,e,n){t.$$.on_destroy.push(s(e,n))}function l(t,e,n,r){if(t){const o=c(t,e,n,r);return t[0](o)}}function c(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function u(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function f(t,e,n,r,o,i){if(o){const s=c(e,n,r,i);t.p(s,o)}}function p(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function d(t){return null==t?"":t}function h(t,e,n){return t.set(n),e}function g(e){return e&&o(e.destroy)?e.destroy:t}function m(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function _(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function w(){return b(" ")}function k(){return b("")}function M(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function T(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function N(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function z(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}let S,D;function A(){if(void 0===S){S=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){S=!0}}return S}function L(t,e,n){t.classList[n?"add":"remove"](e)}function E(t){D=t}function R(){if(!D)throw new Error("Function called outside component initialization");return D}function j(t){R().$$.on_mount.push(t)}function K(){const t=R();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,i)})),!i.defaultPrevented}return!0}}function q(t){return R().$$.context.get(t)}const U=[],P=[],Y=[],F=[],H=Promise.resolve();let I=!1;function O(t){Y.push(t)}const W=new Set;let G=0;function X(){const t=D;do{for(;G<U.length;){const t=U[G];G++,E(t),V(t.$$)}for(E(null),U.length=0,G=0;P.length;)P.pop()();for(let t=0;t<Y.length;t+=1){const e=Y[t];W.has(e)||(W.add(e),e())}Y.length=0}while(U.length);for(;F.length;)F.pop()();I=!1,W.clear(),E(t)}function V(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const B=new Set;let Z;function J(){Z={r:0,c:[],p:Z}}function Q(){Z.r||r(Z.c),Z=Z.p}function tt(t,e){t&&t.i&&(B.delete(t),t.i(e))}function et(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),Z.c.push((()=>{B.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function nt(t){t&&t.c()}function rt(t,n,i,s){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=t.$$;a&&a.m(n,i),s||O((()=>{const n=l.map(e).filter(o);c?c.push(...n):r(n),t.$$.on_mount=[]})),u.forEach(O)}function ot(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(U.push(t),I||(I=!0,H.then(X)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function st(e,o,i,s,a,l,c,u=[-1]){const f=D;E(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||f.$$.root};c&&c(p.root);let d=!1;if(p.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),d&&it(e,t)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(v)}else p.fragment&&p.fragment.c();o.intro&&tt(e.$$.fragment),rt(e,o.target,o.anchor,o.customElement),X()}E(f)}class at{$destroy(){ot(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function lt(e){let n;return{c(){n=x("header"),n.innerHTML='<div class="container clearfix et_menu_container svelte-vklvp2"><div class="logo_container svelte-vklvp2"><a class="logo_anchor svelte-vklvp2" href="https://css.seas.upenn.edu/"><img class="logo_img svelte-vklvp2" src="https://css.seas.upenn.edu/wp-content/uploads/2021/09/WEBSITE-LOGO.png" alt="Computational Social Science Lab" id="logo"/></a></div> \n        <div id="et-top-navigation"><nav id="top-menu-nav"><ul id="top-menu" class="nav svelte-vklvp2"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2731 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/about/">About</a> \n                        <ul class="sub-menu svelte-vklvp2"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1554 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/about/lab/">The Lab</a></li> \n                            <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2232 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/about/community/">CSS Community</a></li></ul></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1747 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/people/">People</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-37 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/research/">Research</a> \n                        <ul class="sub-menu svelte-vklvp2"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-735 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/project/penn-map/">PennMAP</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-292 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/project/virtual-lab/">Group Dynamics</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-291 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/project/covid-philadelphia/">COVID-Philadelphia</a></li> \n                            <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-377 svelte-vklvp2"><a class="sub-menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/project/common-sense/">Common Sense</a></li></ul></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-344 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/partnerships/">Partners</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-58 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/publications/">Publications</a></li> \n                    <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-105 svelte-vklvp2"><a class="menu-item-anchor svelte-vklvp2" href="https://css.seas.upenn.edu/blog-news-events/">News</a></li></ul></nav></div></div>',T(n,"id","main-header"),T(n,"data-height-onload","84"),T(n,"data-height-loaded","true"),T(n,"data-fixed-height-onload","84"),N(n,"top","0px"),T(n,"class","svelte-vklvp2")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class ct extends at{constructor(t){super(),st(this,t,null,lt,i,{})}}function ut(e){let n;return{c(){n=x("footer"),n.innerHTML='<div class="et_builder_inner_content et_pb_gutters3"><div class="et_pb_section et_pb_section_0_tb_footer et_pb_with_background et_section_regular et_pb_section--with-menu svelte-1c0s089"><div class="et_pb_row et_pb_row_0_tb_footer et_pb_row--with-menu et_pb_row_4col svelte-1c0s089" style="z-index: 3;"><div class="et_pb_column et_pb_column_1_4 et_pb_column_0_tb_footer global-footer-column-1 et_pb_css_mix_blend_mode_passthrough svelte-1c0s089"><div class="et_pb_module et_pb_image et_pb_image_0_tb_footer et_pb_image_sticky svelte-1c0s089"><a href="https://www.seas.upenn.edu/" target="_blank" class="svelte-1c0s089"><span class="et_pb_image_wrap  svelte-1c0s089"><img loading="lazy" width="480" height="123" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-1-seas-300x77.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3438 svelte-1c0s089"/></span></a></div> \n                    <div class="et_pb_module et_pb_image et_pb_image_1_tb_footer et_pb_image_sticky svelte-1c0s089"><a href="https://www.asc.upenn.edu/" target="_blank" class="svelte-1c0s089"><span class="et_pb_image_wrap  svelte-1c0s089"><img loading="lazy" width="480" height="123" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-2-asc-300x77.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3440 svelte-1c0s089"/></span></a></div> \n                    <div class="et_pb_module et_pb_image et_pb_image_2_tb_footer et_pb_image_sticky svelte-1c0s089"><a href="https://www.wharton.upenn.edu/" target="_blank" class="svelte-1c0s089"><span class="et_pb_image_wrap  svelte-1c0s089"><img loading="lazy" width="480" height="111" src="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton.png" alt="Penn Engineering" title="Penn Engineering" srcset="https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton.png 480w, https://css.seas.upenn.edu/wp-content/uploads/2022/04/newfooter-3-wharton-300x69.png 300w" sizes="(max-width: 480px) 100vw, 480px" class="wp-image-3439 svelte-1c0s089"/></span></a></div></div> \n\n            <div class="et_pb_column et_pb_column_1_4 et_pb_column_1_tb_footer global-footer-column-2 et_pb_css_mix_blend_mode_passthrough et_pb_column--with-menu svelte-1c0s089"><div class="et_pb_module et_pb_text et_pb_text_0_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-1c0s089"><div class="et_pb_text_inner svelte-1c0s089"><h2 class="svelte-1c0s089">Navigate</h2></div></div> \n                <div class="et_pb_module et_pb_divider et_pb_divider_0_tb_footer et_pb_divider_position_ et_pb_space svelte-1c0s089"><div class="et_pb_divider_internal svelte-1c0s089"></div></div> \n                <div class="et_pb_module et_pb_menu et_pb_menu_0_tb_footer footer-vertical-menu et_pb_bg_layout_light et_pb_text_align_left et_dropdown_animation_fade et_pb_menu--without-logo et_pb_menu--style-left_aligned svelte-1c0s089"><div class="et_pb_menu_inner_container clearfix"><div class="et_pb_menu__wrap"><div class="et_pb_menu__menu svelte-1c0s089"><nav class="et-menu-nav svelte-1c0s089"><ul id="menu-footer-menu-new" class="et-menu nav svelte-1c0s089"><li id="menu-item-3425" class="et_pb_menu_page_id-2233 menu-item menu-item-type-post_type menu-item-object-page menu-item-3425 svelte-1c0s089"><a href="https://css.seas.upenn.edu/about/" class="svelte-1c0s089">About</a></li> \n                                        <li id="menu-item-3426" class="et_pb_menu_page_id-1732 menu-item menu-item-type-post_type menu-item-object-page menu-item-3426 svelte-1c0s089"><a href="https://css.seas.upenn.edu/people/" class="svelte-1c0s089">People</a></li> \n                                        <li id="menu-item-3430" class="et_pb_menu_page_id-22 menu-item menu-item-type-post_type menu-item-object-page menu-item-3430 svelte-1c0s089"><a href="https://css.seas.upenn.edu/research/" class="svelte-1c0s089">Research</a></li> \n                                        <li id="menu-item-3428" class="et_pb_menu_page_id-65 menu-item menu-item-type-post_type menu-item-object-page menu-item-3428 svelte-1c0s089"><a href="https://css.seas.upenn.edu/partnerships/" class="svelte-1c0s089">Partners</a></li> \n                                        <li id="menu-item-3429" class="et_pb_menu_page_id-52 menu-item menu-item-type-post_type menu-item-object-page menu-item-3429 svelte-1c0s089"><a href="https://css.seas.upenn.edu/publications/" class="svelte-1c0s089">Publications</a></li> \n                                        <li id="menu-item-3427" class="et_pb_menu_page_id-92 menu-item menu-item-type-post_type menu-item-object-page menu-item-3427 svelte-1c0s089"><a href="https://css.seas.upenn.edu/blog-news-events/" class="svelte-1c0s089">News</a></li></ul></nav></div></div></div></div></div> \n    \n    <div class="et_pb_column et_pb_column_1_4 et_pb_column_2_tb_footer global-footer-column-3 et_pb_css_mix_blend_mode_passthrough svelte-1c0s089"><div class="et_pb_module et_pb_text et_pb_text_1_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-1c0s089"><div class="et_pb_text_inner svelte-1c0s089"><h2 class="svelte-1c0s089">Contact</h2></div></div> \n        <div class="et_pb_module et_pb_divider et_pb_divider_1_tb_footer et_pb_divider_position_ et_pb_space svelte-1c0s089"><div class="et_pb_divider_internal svelte-1c0s089"></div></div> \n        <div class="et_pb_module et_pb_text et_pb_text_2_tb_footer et_pb_text_align_left et_pb_bg_layout_light svelte-1c0s089"><div class="et_pb_text_inner svelte-1c0s089"><p class="svelte-1c0s089">3401 Walnut Street<br/>Suite 417B<br/>Philadelphia PA, 19104</p> \n                <p class="svelte-1c0s089">CSSLab@seas.upenn.edu</p> \n                <p class="svelte-1c0s089">(215) 573-7098</p></div></div></div></div> \n    <div class="et_pb_row et_pb_row_1_tb_footer et_pb_equal_columns svelte-1c0s089"><div class="et_pb_column et_pb_column_4_4 et_pb_column_4_tb_footer et_pb_css_mix_blend_mode_passthrough et-last-child"><div class="et_pb_module et_pb_text et_pb_text_4_tb_footer et_pb_text_align_left et_pb_bg_layout_light"><div class="et_pb_text_inner svelte-1c0s089"><p style="text-align: center;" class="svelte-1c0s089"><a href="https://www.upenn.edu/" class="svelte-1c0s089">Penn Homepage</a> \n                        <a href="https://www.upenn.edu/about/disclaimer" class="svelte-1c0s089">Disclaimer</a> \n                        <a href="https://www.publicsafety.upenn.edu/contact/" class="svelte-1c0s089">Emergency Services</a> \n                        <a href="https://www.upenn.edu/about/privacy-policy" class="svelte-1c0s089">Privacy Policy</a> \n                        <a href="https://accessibility.web-resources.upenn.edu/get-help" class="svelte-1c0s089">Report Accessibility Issues and Get Help</a> \n                        <a href="https://www.upenn.edu/about/report-copyright-infringement" class="svelte-1c0s089">Report Copyright Infringement</a></p></div></div> \n            <div class="et_pb_module et_pb_text et_pb_text_5_tb_footer et_pb_text_align_left et_pb_bg_layout_light"><div class="et_pb_text_inner svelte-1c0s089"><p style="text-align: center;" class="svelte-1c0s089"><em><strong></strong></em></p> \n                    <p style="text-align: center;" class="svelte-1c0s089"><em><a href="https://css.seas.upenn.edu/research-assistant-positions/" class="svelte-1c0s089"><strong>Interested in working at the CSSLab?</strong> Click here to view opportunities for Penn students</a></em></p></div></div></div></div></div></div>',T(n,"class","et-l et-l--footer svelte-1c0s089")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}class ft extends at{constructor(t){super(),st(this,t,null,ut,i,{})}}function pt(e){let n,r;return{c(){n=x("h1"),r=b(e[0]),T(n,"class","svelte-8vtzvs")},m(t,e){y(t,n,e),m(n,r)},p(t,[e]){1&e&&C(r,t[0])},i:t,o:t,d(t){t&&v(n)}}}function dt(t,e,n){let{title:r}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title)},[r]}class ht extends at{constructor(t){super(),st(this,t,dt,pt,i,{title:0})}}function gt(e){let n,r;return{c(){n=x("p"),r=b(e[0]),T(n,"class","svelte-1pqfof3")},m(t,e){y(t,n,e),m(n,r)},p(t,[e]){1&e&&C(r,t[0])},i:t,o:t,d(t){t&&v(n)}}}function mt(t,e,n){let{text:r}=e;return t.$$set=t=>{"text"in t&&n(0,r=t.text)},[r]}class yt extends at{constructor(t){super(),st(this,t,mt,gt,i,{text:0})}}function vt(t,e,n){const r=t.slice();return r[1]=e[n],r[3]=n,r}function $t(t){let e,n,r,o,i,s,a=t[1].name+"";return{c(){e=x("div"),n=x("p"),r=b(a),o=w(),i=x("div"),s=w(),T(n,"class","svelte-1pimgb1"),T(i,"class","svelte-1pimgb1"),T(e,"class","author-container svelte-1pimgb1")},m(t,a){y(t,e,a),m(e,n),m(n,r),m(e,o),m(e,i),m(e,s)},p(t,e){1&e&&a!==(a=t[1].name+"")&&C(r,a)},d(t){t&&v(e)}}}function xt(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=$t(vt(e,r,t));return{c(){n=x("div");for(let t=0;t<o.length;t+=1)o[t].c();T(n,"class","authors svelte-1pimgb1")},m(t,e){y(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(1&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const s=vt(t,r,i);o[i]?o[i].p(s,e):(o[i]=$t(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&v(n),$(o,t)}}}function _t(t,e,n){let{authors:r}=e;return t.$$set=t=>{"authors"in t&&n(0,r=t.authors)},[r]}class bt extends at{constructor(t){super(),st(this,t,_t,xt,i,{authors:0})}}var wt={},kt={};function Mt(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Tt(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Ct(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Nt(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Ct(-t,6):t>9999?"+"+Ct(t,6):Ct(t,4)}(t.getUTCFullYear())+"-"+Ct(t.getUTCMonth()+1,2)+"-"+Ct(t.getUTCDate(),2)+(o?"T"+Ct(e,2)+":"+Ct(n,2)+":"+Ct(r,2)+"."+Ct(o,3)+"Z":r?"T"+Ct(e,2)+":"+Ct(n,2)+":"+Ct(r,2)+"Z":n||e?"T"+Ct(e,2)+":"+Ct(n,2)+"Z":"")}var zt=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,o=[],i=t.length,s=0,a=0,l=i<=0,c=!1;function u(){if(l)return kt;if(c)return c=!1,wt;var e,r,o=s;if(34===t.charCodeAt(o)){for(;s++<i&&34!==t.charCodeAt(s)||34===t.charCodeAt(++s););return(e=s)>=i?l=!0:10===(r=t.charCodeAt(s++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(s)&&++s),t.slice(o+1,e-1).replace(/""/g,'"')}for(;s<i;){if(10===(r=t.charCodeAt(e=s++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(s)&&++s;else if(r!==n)continue;return t.slice(o,e)}return l=!0,t.slice(o,i)}for(10===t.charCodeAt(i-1)&&--i,13===t.charCodeAt(i-1)&&--i;(r=u())!==kt;){for(var f=[];r!==wt&&r!==kt;)f.push(r),r=u();e&&null==(f=e(f,a++))||o.push(f)}return o}function o(e,n){return e.map((function(e){return n.map((function(t){return s(e[t])})).join(t)}))}function i(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?Nt(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,o,i=r(t,(function(t,r){if(n)return n(t,r-1);o=t,n=e?function(t,e){var n=Mt(t);return function(r,o){return e(n(r),o,t)}}(t,e):Mt(t)}));return i.columns=o||[],i},parseRows:r,format:function(e,n){return null==n&&(n=Tt(e)),[n.map(s).join(t)].concat(o(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Tt(t)),o(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")},formatRow:i,formatValue:s}}(","),St=zt.parse;function Dt(t){for(var e in t){var n,r,o=t[e].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(n=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;At&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=n;else o=null;t[e]=o}return t}const At=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Lt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Et(t,e){return fetch(t,e).then(Lt)}var Rt,jt=(Rt=St,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),Et(t,e).then((function(t){return Rt(t,n)}))});function Kt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qt(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ut(t){let e,n,r;function o(t,r,o=0,i=t.length){if(o<i){if(0!==e(r,r))return i;do{const e=o+i>>>1;n(t[e],r)<0?o=e+1:i=e}while(o<i)}return o}return 2!==t.length?(e=Kt,n=(e,n)=>Kt(t(e),n),r=(e,n)=>t(e)-n):(e=t===Kt||t===qt?t:Pt,n=t,r=t),{left:o,center:function(t,e,n=0,i=t.length){const s=o(t,e,n,i-1);return s>n&&r(t[s-1],e)>-r(t[s],e)?s-1:s},right:function(t,r,o=0,i=t.length){if(o<i){if(0!==e(r,r))return i;do{const e=o+i>>>1;n(t[e],r)<=0?o=e+1:i=e}while(o<i)}return o}}}function Pt(){return 0}const Yt=Ut(Kt).right;Ut((function(t){return null===t?NaN:+t})).center;var Ft=Yt;class Ht extends Map{constructor(t,e=Ot){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(It(this,t))}has(t){return super.has(It(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(r),t.delete(r));return n}(this,t))}}function It({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Ot(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Wt(t){return t}function Gt(t,...e){return Vt(t,Wt,Wt,e)}function Xt(t,...e){return Vt(t,Array.from,Wt,e)}function Vt(t,e,n,r){return function t(o,i){if(i>=r.length)return n(o);const s=new Ht,a=r[i++];let l=-1;for(const t of o){const e=a(t,++l,o),n=s.get(e);n?n.push(t):s.set(e,[t])}for(const[e,n]of s)s.set(e,t(n,i));return e(s)}(t,0)}var Bt=Math.sqrt(50),Zt=Math.sqrt(10),Jt=Math.sqrt(2);function Qt(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=Bt?10:i>=Zt?5:i>=Jt?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Bt?10:i>=Zt?5:i>=Jt?2:1)}function te(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=Bt?o*=10:i>=Zt?o*=5:i>=Jt&&(o*=2),e<t?-o:o}function ee(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}function ne(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let o of t)(o=+e(o,++r,t))&&(n+=o)}return n}function re(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const oe=Symbol("implicit");function ie(){var t=new Ht,e=[],n=[],r=oe;function o(o){let i=t.get(o);if(void 0===i){if(r!==oe)return r;t.set(o,i=e.push(o)-1)}return n[i%n.length]}return o.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Ht;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return o},o.range=function(t){return arguments.length?(n=Array.from(t),o):n.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return ie(e,n).unknown(r)},re.apply(o,arguments),o}function se(){var t,e,n=ie().unknown(void 0),r=n.domain,o=n.range,i=0,s=1,a=!1,l=0,c=0,u=.5;function f(){var n=r().length,f=s<i,p=f?s:i,d=f?i:s;t=(d-p)/Math.max(1,n-l+2*c),a&&(t=Math.floor(t)),p+=(d-p-t*(n-l))*u,e=t*(1-l),a&&(p=Math.round(p),e=Math.round(e));var h=ee(n).map((function(e){return p+t*e}));return o(f?h.reverse():h)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([i,s]=t,i=+i,s=+s,f()):[i,s]},n.rangeRound=function(t){return[i,s]=t,i=+i,s=+s,a=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,f()):a},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),f()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),f()):u},n.copy=function(){return se(r(),[i,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},re.apply(f(),arguments)}function ae(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function le(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ce(){}var ue=.7,fe=1/ue,pe="\\s*([+-]?\\d+)\\s*",de="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",he="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ge=/^#([0-9a-f]{3,8})$/,me=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),ye=new RegExp(`^rgb\\(${he},${he},${he}\\)$`),ve=new RegExp(`^rgba\\(${pe},${pe},${pe},${de}\\)$`),$e=new RegExp(`^rgba\\(${he},${he},${he},${de}\\)$`),xe=new RegExp(`^hsl\\(${de},${he},${he}\\)$`),_e=new RegExp(`^hsla\\(${de},${he},${he},${de}\\)$`),be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function we(){return this.rgb().formatHex()}function ke(){return this.rgb().formatRgb()}function Me(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ge.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Te(e):3===n?new Se(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ce(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ce(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=me.exec(t))?new Se(e[1],e[2],e[3],1):(e=ye.exec(t))?new Se(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ve.exec(t))?Ce(e[1],e[2],e[3],e[4]):(e=$e.exec(t))?Ce(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=xe.exec(t))?je(e[1],e[2]/100,e[3]/100,1):(e=_e.exec(t))?je(e[1],e[2]/100,e[3]/100,e[4]):be.hasOwnProperty(t)?Te(be[t]):"transparent"===t?new Se(NaN,NaN,NaN,0):null}function Te(t){return new Se(t>>16&255,t>>8&255,255&t,1)}function Ce(t,e,n,r){return r<=0&&(t=e=n=NaN),new Se(t,e,n,r)}function Ne(t){return t instanceof ce||(t=Me(t)),t?new Se((t=t.rgb()).r,t.g,t.b,t.opacity):new Se}function ze(t,e,n,r){return 1===arguments.length?Ne(t):new Se(t,e,n,null==r?1:r)}function Se(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function De(){return`#${Re(this.r)}${Re(this.g)}${Re(this.b)}`}function Ae(){const t=Le(this.opacity);return`${1===t?"rgb(":"rgba("}${Ee(this.r)}, ${Ee(this.g)}, ${Ee(this.b)}${1===t?")":`, ${t})`}`}function Le(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ee(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Re(t){return((t=Ee(t))<16?"0":"")+t.toString(16)}function je(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qe(t,e,n,r)}function Ke(t){if(t instanceof qe)return new qe(t.h,t.s,t.l,t.opacity);if(t instanceof ce||(t=Me(t)),!t)return new qe;if(t instanceof qe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,a=i-o,l=(i+o)/2;return a?(s=e===i?(n-r)/a+6*(n<r):n===i?(r-e)/a+2:(e-n)/a+4,a/=l<.5?i+o:2-i-o,s*=60):a=l>0&&l<1?0:s,new qe(s,a,l,t.opacity)}function qe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ue(t){return(t=(t||0)%360)<0?t+360:t}function Pe(t){return Math.max(0,Math.min(1,t||0))}function Ye(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}ae(ce,Me,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:we,formatHex:we,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ke(this).formatHsl()},formatRgb:ke,toString:ke}),ae(Se,ze,le(ce,{brighter(t){return t=null==t?fe:Math.pow(fe,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?ue:Math.pow(ue,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Se(Ee(this.r),Ee(this.g),Ee(this.b),Le(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:De,formatHex:De,formatHex8:function(){return`#${Re(this.r)}${Re(this.g)}${Re(this.b)}${Re(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ae,toString:Ae})),ae(qe,(function(t,e,n,r){return 1===arguments.length?Ke(t):new qe(t,e,n,null==r?1:r)}),le(ce,{brighter(t){return t=null==t?fe:Math.pow(fe,t),new qe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ue:Math.pow(ue,t),new qe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Se(Ye(t>=240?t-240:t+120,o,r),Ye(t,o,r),Ye(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new qe(Ue(this.h),Pe(this.s),Pe(this.l),Le(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Le(this.opacity);return`${1===t?"hsl(":"hsla("}${Ue(this.h)}, ${100*Pe(this.s)}%, ${100*Pe(this.l)}%${1===t?")":`, ${t})`}`}}));var Fe=t=>()=>t;function He(t){return 1==(t=+t)?Ie:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Fe(isNaN(e)?n:e)}}function Ie(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Fe(isNaN(t)?e:t)}var Oe=function t(e){var n=He(e);function r(t,e){var r=n((t=ze(t)).r,(e=ze(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),s=Ie(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function We(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function Ge(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),s=new Array(r);for(n=0;n<o;++n)i[n]=tn(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<o;++n)s[n]=i[n](t);return s}}function Xe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ve(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Be(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=tn(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}var Ze=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Je=new RegExp(Ze.source,"g");function Qe(t,e){var n,r,o,i=Ze.lastIndex=Je.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=Ze.exec(t))&&(r=Je.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Ve(n,r)})),i=Je.lastIndex;return i<e.length&&(o=e.slice(i),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})}function tn(t,e){var n,r=typeof e;return null==e||"boolean"===r?Fe(e):("number"===r?Ve:"string"===r?(n=Me(e))?(e=n,Oe):Qe:e instanceof Me?Oe:e instanceof Date?Xe:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?We:Array.isArray(e)?Ge:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Be:Ve)(t,e)}function en(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function nn(t){return+t}var rn=[0,1];function on(t){return t}function sn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function an(t,e,n){var r=t[0],o=t[1],i=e[0],s=e[1];return o<r?(r=sn(o,r),i=n(s,i)):(r=sn(r,o),i=n(i,s)),function(t){return i(r(t))}}function ln(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)o[s]=sn(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(e){var n=Ft(t,e,1,r)-1;return i[n](o[n](e))}}function cn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function un(){var t,e,n,r,o,i,s=rn,a=rn,l=tn,c=on;function u(){var t=Math.min(s.length,a.length);return c!==on&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),r=t>2?ln:an,o=i=null,f}function f(e){return null==e||isNaN(e=+e)?n:(o||(o=r(s.map(t),a,l)))(t(c(e)))}return f.invert=function(n){return c(e((i||(i=r(a,s.map(t),Ve)))(n)))},f.domain=function(t){return arguments.length?(s=Array.from(t,nn),u()):s.slice()},f.range=function(t){return arguments.length?(a=Array.from(t),u()):a.slice()},f.rangeRound=function(t){return a=Array.from(t),l=en,u()},f.clamp=function(t){return arguments.length?(c=!!t||on,u()):c!==on},f.interpolate=function(t){return arguments.length?(l=t,u()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function fn(){return un()(on,on)}function pn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function dn(t){return(t=pn(Math.abs(t)))?t[1]:NaN}var hn,gn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mn(t){if(!(e=gn.exec(t)))throw new Error("invalid format: "+t);var e;return new yn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function yn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function vn(t,e){var n=pn(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}mn.prototype=yn.prototype,yn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var $n={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vn(100*t,e),r:vn,s:function(t,e){var n=pn(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(hn=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+pn(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xn(t){return t}var _n,bn,wn,kn=Array.prototype.map,Mn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Tn(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?xn:(e=kn.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],s=0,a=e[0],l=0;o>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),i.push(t.substring(o-=a,o+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?xn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(kn.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=mn(t)).fill,n=t.align,f=t.sign,p=t.symbol,d=t.zero,h=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):$n[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var $="$"===p?o:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?i:/[%p]/.test(v)?l:"",_=$n[v],b=/[defgprs%]/.test(v);function w(t){var o,i,l,p=$,w=x;if("c"===v)w=_(t)+w,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:_(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),p=(k?"("===f?f:c:"-"===f||"("===f?"":f)+p,w=("s"===v?Mn[8+hn/3]:"")+w+(k&&"("===f?")":""),b)for(o=-1,i=t.length;++o<i;)if(48>(l=t.charCodeAt(o))||l>57){w=(46===l?s+t.slice(o+1):t.slice(o))+w,t=t.slice(0,o);break}}g&&!d&&(t=r(t,1/0));var M=p.length+t.length+w.length,T=M<h?new Array(h-M+1).join(e):"";switch(g&&d&&(t=r(T+t,T.length?h-w.length:1/0),T=""),n){case"<":t=p+t+w+T;break;case"=":t=p+T+t+w;break;case"^":t=T.slice(0,M=T.length>>1)+p+t+w+T.slice(M);break;default:t=T+p+t+w}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),w.toString=function(){return t+""},w}return{format:f,formatPrefix:function(t,e){var n=f(((t=mn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(dn(e)/3))),o=Math.pow(10,-r),i=Mn[8+r/3];return function(t){return n(o*t)+i}}}}function Cn(t,e,n,r){var o,i=te(t,e,n);switch((r=mn(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(dn(e)/3)))-dn(Math.abs(t)))}(i,s))||(r.precision=o),wn(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dn(e)-dn(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-dn(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return bn(r)}function Nn(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,o,i,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(s=Qt(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),r=Math.round(e/s);for(n*s<t&&++n,r*s>e&&--r,i=new Array(o=r-n+1);++a<o;)i[a]=(n+a)*s}else{s=-s;let n=Math.round(t*s),r=Math.round(e*s);for(n/s<t&&++n,r/s>e&&--r,i=new Array(o=r-n+1);++a<o;)i[a]=(n+a)/s}return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Cn(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o,i=e(),s=0,a=i.length-1,l=i[s],c=i[a],u=10;for(c<l&&(o=l,l=c,c=o,o=s,s=a,a=o);u-- >0;){if((o=Qt(l,c,n))===r)return i[s]=l,i[a]=c,e(i);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o}r=o}return t},t}function zn(){var t=fn();return t.copy=function(){return cn(t,zn())},re.apply(t,arguments),Nn(t)}function Sn(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Dn(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function An(t){return t<0?-t*t:t*t}function Ln(t){var e=t(on,on),n=1;function r(){return 1===n?t(on,on):.5===n?t(Dn,An):t(Sn(n),Sn(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Nn(e)}function En(){var t=Ln(un());return t.copy=function(){return cn(t,En()).exponent(t.exponent())},re.apply(t,arguments),t}_n=Tn({thousands:",",grouping:[3],currency:["$",""]}),bn=_n.format,wn=_n.formatPrefix;var Rn=new Date,jn=new Date;function Kn(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,i){var s,a=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;do{a.push(s=new Date(+n)),e(n,i),t(n)}while(s<n&&n<r);return a},o.filter=function(n){return Kn((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return Rn.setTime(+e),jn.setTime(+r),t(Rn),t(jn),Math.floor(n(Rn,jn))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var qn=Kn((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));qn.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Kn((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):qn:null};var Un=qn;qn.range;const Pn=1e3,Yn=6e4,Fn=36e5,Hn=864e5,In=6048e5,On=2592e6,Wn=31536e6;var Gn=Kn((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Pn)}),(function(t,e){return(e-t)/Pn}),(function(t){return t.getUTCSeconds()})),Xn=Gn;Gn.range;var Vn=Kn((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Pn)}),(function(t,e){t.setTime(+t+e*Yn)}),(function(t,e){return(e-t)/Yn}),(function(t){return t.getMinutes()})),Bn=Vn;Vn.range;var Zn=Kn((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Pn-t.getMinutes()*Yn)}),(function(t,e){t.setTime(+t+e*Fn)}),(function(t,e){return(e-t)/Fn}),(function(t){return t.getHours()})),Jn=Zn;Zn.range;var Qn=Kn((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yn)/Hn),(t=>t.getDate()-1)),tr=Qn;function er(t){return Kn((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Yn)/In}))}Qn.range;var nr=er(0),rr=er(1),or=er(2),ir=er(3),sr=er(4),ar=er(5),lr=er(6);nr.range,rr.range,or.range,ir.range,sr.range,ar.range,lr.range;var cr=Kn((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),ur=cr;cr.range;var fr=Kn((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));fr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Kn((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var pr=fr;fr.range;var dr=Kn((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Hn}),(function(t){return t.getUTCDate()-1})),hr=dr;function gr(t){return Kn((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/In}))}dr.range;var mr=gr(0),yr=gr(1),vr=gr(2),$r=gr(3),xr=gr(4),_r=gr(5),br=gr(6);mr.range,yr.range,vr.range,$r.range,xr.range,_r.range,br.range;var wr=Kn((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));wr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Kn((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var kr=wr;wr.range;const[Mr,Tr]=function(t,e,n,r,o,i){const s=[[Xn,1,Pn],[Xn,5,5e3],[Xn,15,15e3],[Xn,30,3e4],[i,1,Yn],[i,5,3e5],[i,15,9e5],[i,30,18e5],[o,1,Fn],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,Hn],[r,2,1728e5],[n,1,In],[e,1,On],[e,3,7776e6],[t,1,Wn]];function a(e,n,r){const o=Math.abs(n-e)/r,i=Ut((([,,t])=>t)).right(s,o);if(i===s.length)return t.every(te(e/Wn,n/Wn,r));if(0===i)return Un.every(Math.max(te(e,n,r),1));const[a,l]=s[o/s[i-1][2]<s[i][2]/o?i-1:i];return a.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const o=n&&"function"==typeof n.range?n:a(t,e,n),i=o?o.range(t,+e+1):[];return r?i.reverse():i},a]}(pr,ur,nr,tr,Jn,Bn);function Cr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Nr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Sr,Dr,Ar={"-":"",_:" ",0:"0"},Lr=/^\s*\d+/,Er=/^%/,Rr=/[\\^$*+?|[\]().{}]/g;function jr(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function Kr(t){return t.replace(Rr,"\\$&")}function qr(t){return new RegExp("^(?:"+t.map(Kr).join("|")+")","i")}function Ur(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Pr(t,e,n){var r=Lr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yr(t,e,n){var r=Lr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Fr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ir(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Or(t,e,n){var r=Lr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Wr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gr(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xr(t,e,n){var r=Lr.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Vr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Br(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Zr(t,e,n){var r=Lr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Jr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Qr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function to(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function eo(t,e,n){var r=Lr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function no(t,e,n){var r=Lr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ro(t,e,n){var r=Er.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function oo(t,e,n){var r=Lr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function io(t,e,n){var r=Lr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function so(t,e){return jr(t.getDate(),e,2)}function ao(t,e){return jr(t.getHours(),e,2)}function lo(t,e){return jr(t.getHours()%12||12,e,2)}function co(t,e){return jr(1+tr.count(pr(t),t),e,3)}function uo(t,e){return jr(t.getMilliseconds(),e,3)}function fo(t,e){return uo(t,e)+"000"}function po(t,e){return jr(t.getMonth()+1,e,2)}function ho(t,e){return jr(t.getMinutes(),e,2)}function go(t,e){return jr(t.getSeconds(),e,2)}function mo(t){var e=t.getDay();return 0===e?7:e}function yo(t,e){return jr(nr.count(pr(t)-1,t),e,2)}function vo(t){var e=t.getDay();return e>=4||0===e?sr(t):sr.ceil(t)}function $o(t,e){return t=vo(t),jr(sr.count(pr(t),t)+(4===pr(t).getDay()),e,2)}function xo(t){return t.getDay()}function _o(t,e){return jr(rr.count(pr(t)-1,t),e,2)}function bo(t,e){return jr(t.getFullYear()%100,e,2)}function wo(t,e){return jr((t=vo(t)).getFullYear()%100,e,2)}function ko(t,e){return jr(t.getFullYear()%1e4,e,4)}function Mo(t,e){var n=t.getDay();return jr((t=n>=4||0===n?sr(t):sr.ceil(t)).getFullYear()%1e4,e,4)}function To(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jr(e/60|0,"0",2)+jr(e%60,"0",2)}function Co(t,e){return jr(t.getUTCDate(),e,2)}function No(t,e){return jr(t.getUTCHours(),e,2)}function zo(t,e){return jr(t.getUTCHours()%12||12,e,2)}function So(t,e){return jr(1+hr.count(kr(t),t),e,3)}function Do(t,e){return jr(t.getUTCMilliseconds(),e,3)}function Ao(t,e){return Do(t,e)+"000"}function Lo(t,e){return jr(t.getUTCMonth()+1,e,2)}function Eo(t,e){return jr(t.getUTCMinutes(),e,2)}function Ro(t,e){return jr(t.getUTCSeconds(),e,2)}function jo(t){var e=t.getUTCDay();return 0===e?7:e}function Ko(t,e){return jr(mr.count(kr(t)-1,t),e,2)}function qo(t){var e=t.getUTCDay();return e>=4||0===e?xr(t):xr.ceil(t)}function Uo(t,e){return t=qo(t),jr(xr.count(kr(t),t)+(4===kr(t).getUTCDay()),e,2)}function Po(t){return t.getUTCDay()}function Yo(t,e){return jr(yr.count(kr(t)-1,t),e,2)}function Fo(t,e){return jr(t.getUTCFullYear()%100,e,2)}function Ho(t,e){return jr((t=qo(t)).getUTCFullYear()%100,e,2)}function Io(t,e){return jr(t.getUTCFullYear()%1e4,e,4)}function Oo(t,e){var n=t.getUTCDay();return jr((t=n>=4||0===n?xr(t):xr.ceil(t)).getUTCFullYear()%1e4,e,4)}function Wo(){return"+0000"}function Go(){return"%"}function Xo(t){return+t}function Vo(t){return Math.floor(+t/1e3)}function Bo(t){return new Date(t)}function Zo(t){return t instanceof Date?+t:+new Date(+t)}function Jo(t,e,n,r,o,i,s,a,l,c){var u=fn(),f=u.invert,p=u.domain,d=c(".%L"),h=c(":%S"),g=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),v=c("%b %d"),$=c("%B"),x=c("%Y");function _(t){return(l(t)<t?d:a(t)<t?h:s(t)<t?g:i(t)<t?m:r(t)<t?o(t)<t?y:v:n(t)<t?$:x)(t)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?p(Array.from(t,Zo)):p().map(Bo)},u.ticks=function(e){var n=p();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?_:c(e)},u.nice=function(t){var n=p();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?p(function(t,e){var n,r=0,o=(t=t.slice()).length-1,i=t[r],s=t[o];return s<i&&(n=r,r=o,o=n,n=i,i=s,s=n),t[r]=e.floor(i),t[o]=e.ceil(s),t}(n,t)):u},u.copy=function(){return cn(u,Jo(t,e,n,r,o,i,s,a,l,c))},u}function Qo(){return re.apply(Jo(Mr,Tr,pr,ur,nr,tr,Jn,Bn,Xn,Dr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ti(t){let e,n;const r=t[7].default,o=l(r,t,t[6],null);return{c(){e=x("div"),o&&o.c(),T(e,"class","step-container svelte-7r8c22")},m(r,i){y(r,e,i),o&&o.m(e,null),t[8](e),n=!0},p(t,[e]){o&&o.p&&(!n||64&e)&&f(o,r,t,t[6],n?u(r,t[6],e,null):p(t[6]),null)},i(t){n||(tt(o,t),n=!0)},o(t){et(o,t),n=!1},d(n){n&&v(e),o&&o.d(n),t[8](null)}}}function ei(t,e,n){let{$$slots:r={},$$scope:o}=e,{root:i=null}=e,{top:s=0}=e,{bottom:a=0}=e,{increments:l=100}=e,{value:c}=e;const u=[],f=[];let p,d=[],h=[];const g=()=>{d.length&&d.forEach(m)},m=(t,e)=>{const r={root:i,rootMargin:`${s?-1*s:0}px 0px ${a?-1*a:0}px 0px`,threshold:f};h[e]&&h[e].disconnect();const o=new IntersectionObserver((t=>{t[0].isIntersecting;const r=t[0].intersectionRatio;u[e]=r,(()=>{let t=0,e=0;for(let n=0;n<u.length;n++)u[n]>t&&(t=u[n],e=n);n(1,c=t>0?e:void 0)})()}),r);o.observe(t),h[e]=o};return j((()=>{for(let t=0;t<l+1;t++)f.push(t/l);d=p.querySelectorAll(":scope > *"),g()})),t.$$set=t=>{"root"in t&&n(2,i=t.root),"top"in t&&n(3,s=t.top),"bottom"in t&&n(4,a=t.bottom),"increments"in t&&n(5,l=t.increments),"value"in t&&n(1,c=t.value),"$$scope"in t&&n(6,o=t.$$scope)},t.$$.update=()=>{24&t.$$.dirty&&g()},[p,c,i,s,a,l,o,r,function(t){P[t?"unshift":"push"]((()=>{p=t,n(0,p)}))}]}!function(t){Sr=function(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=qr(o),u=Ur(o),f=qr(i),p=Ur(i),d=qr(s),h=Ur(s),g=qr(a),m=Ur(a),y=qr(l),v=Ur(l),$={a:function(t){return s[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:so,e:so,f:fo,g:wo,G:Mo,H:ao,I:lo,j:co,L:uo,m:po,M:ho,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Xo,s:Vo,S:go,u:mo,U:yo,V:$o,w:xo,W:_o,x:null,X:null,y:bo,Y:ko,Z:To,"%":Go},x={a:function(t){return s[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Co,e:Co,f:Ao,g:Ho,G:Oo,H:No,I:zo,j:So,L:Do,m:Lo,M:Eo,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Xo,s:Vo,S:Ro,u:jo,U:Ko,V:Uo,w:Po,W:Yo,x:null,X:null,y:Fo,Y:Io,Z:Wo,"%":Go},_={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:Br,e:Br,f:no,g:Wr,G:Or,H:Jr,I:Jr,j:Zr,L:eo,m:Vr,M:Qr,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Xr,Q:oo,s:io,S:to,u:Yr,U:Fr,V:Hr,w:Pr,W:Ir,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:Wr,Y:Or,Z:Gr,"%":ro};function b(t,e){return function(n){var r,o,i,s=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(o=Ar[r=t.charAt(++a)])?r=t.charAt(++a):o="e"===r?" ":"0",(i=e[r])&&(r=i(n,o)),s.push(r),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function w(t,e){return function(n){var r,o,i=zr(1900,void 0,1);if(k(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(e&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=Nr(zr(i.y,0,1))).getUTCDay(),r=o>4||0===o?yr.ceil(r):yr(r),r=hr.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=Cr(zr(i.y,0,1))).getDay(),r=o>4||0===o?rr.ceil(r):rr(r),r=tr.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?Nr(zr(i.y,0,1)).getUTCDay():Cr(zr(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Nr(i)):Cr(i)}}function k(t,e,n,r){for(var o,i,s=0,a=e.length,l=n.length;s<a;){if(r>=l)return-1;if(37===(o=e.charCodeAt(s++))){if(o=e.charAt(s++),!(i=_[o in Ar?e.charAt(s++):o])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return $.x=b(n,$),$.X=b(r,$),$.c=b(e,$),x.x=b(n,x),x.X=b(r,x),x.c=b(e,x),{format:function(t){var e=b(t+="",$);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=b(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t+="",!0);return e.toString=function(){return t},e}}}(t),Dr=Sr.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});class ni extends at{constructor(t){super(),st(this,t,ei,ti,i,{root:2,top:3,bottom:4,increments:5,value:1})}}const ri=[];function oi(e,n=t){let r;const o=new Set;function s(t){if(i(e,t)&&(e=t,r)){const t=!ri.length;for(const t of o)t[1](),ri.push(t,e);if(t){for(let t=0;t<ri.length;t+=2)ri[t][0](ri[t+1]);ri.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=t){const l=[i,a];return o.add(l),1===o.size&&(r=n(s)||t),i(e),()=>{o.delete(l),0===o.size&&(r(),r=null)}}}}function ii(e,n,i){const a=!Array.isArray(e),l=a?[e]:e,c=n.length<2;return u=e=>{let i=!1;const u=[];let f=0,p=t;const d=()=>{if(f)return;p();const r=n(a?u[0]:u,e);c?e(r):p=o(r)?r:t},h=l.map(((t,e)=>s(t,(t=>{u[e]=t,f&=~(1<<e),i&&d()}),(()=>{f|=1<<e}))));return i=!0,d(),function(){r(h),p()}},{subscribe:oi(i,u).subscribe};var u}function si(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function ai(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function li(t,e){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array. If you got this error using the <LayerCake> component, consider passing a flat array to the `flatData` prop. More info: https://layercake.graphics/guide/#flatdata");if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(e),o=r.length;let i,s,a,l,c,u,f,p;const d=t.length;for(i=0;i<o;i+=1){for(l=r[i],f=e[l],c=null,u=null,s=0;s<d;s+=1)if(p=f(t[s]),Array.isArray(p)){const t=p.length;for(a=0;a<t;a+=1)void 0!==p[a]&&null!==p[a]&&!1===Number.isNaN(p[a])&&((null===c||p[a]<c)&&(c=p[a]),(null===u||p[a]>u)&&(u=p[a]))}else null!=p&&!1===Number.isNaN(p)&&((null===c||p<c)&&(c=p),(null===u||p>u)&&(u=p));n[l]=[c,u]}return n}function ci(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}function ui(t){return function([e,n]){return e?ci(e[t],n):n}}var fi={x:zn,y:zn,z:zn,r:function(){return En.apply(null,arguments).exponent(.5)}};function pi(t){return t}function di(t){return e=>Math.log(t*e)}function hi(t){return e=>t*Math.exp(e)}function gi(t){return e=>Math.sign(e)*Math.log1p(Math.abs(e/t))}function mi(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function yi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function vi(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:r}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:di(n),ground:hi(n),scaleType:e}}if("pow"===e){const t=1;return{lift:yi(t),ground:yi(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:yi(t),ground:yi(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:gi(t),ground:mi(t),scaleType:e}}return{lift:pi,ground:pi,scaleType:e}}(t),o=t.domain()[0],i="[object Date]"===Object.prototype.toString.call(o),[s,a]=t.domain().map((t=>n(i?t.getTime():t))),[l,c]=t.range(),u=e[0]||0,f=e[1]||0,p=(a-s)/(Math.abs(c-l)-u-f);return[s-u*p,f*p+a].map((t=>r(i?new Date(t):t)))}function $i(t){return function([e,n,r,o,i,s,a,l,c,u]){if(null===n)return null;const f=function(t,e,n,r,o,i){return o?"function"==typeof o?o({width:e,height:n}):o:function(t,e,n,r,o){let i,s;return!0===o?(i=0,s=100):(i="r"===t?1:0,s="y"===t?n:"r"===t?25:e),!0===r?[s,i]:[i,s]}(t,e,n,r,i)}(t,a,l,s,c,u),p=e===fi[t]?e():e.copy();return p.domain(ci(n[t],r)).range(f),o&&p.domain(vi(p,o)),!0===i&&("function"==typeof p.nice?p.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),p}}function xi([t,e]){return n=>{const r=t(n);return Array.isArray(r)?r.map((t=>e(t))):e(r)}}function _i([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var bi={x:!1,y:!0,z:!1,r:!1};const wi=t=>({element:4&t[0],width:256&t[0],height:512&t[0],aspectRatio:1024&t[0],containerWidth:128&t[0],containerHeight:64&t[0]}),ki=t=>({element:t[2],width:t[8],height:t[9],aspectRatio:t[10],containerWidth:t[7],containerHeight:t[6]});function Mi(t){let e,n,r;const o=t[90].default,i=l(o,t,t[89],ki);return{c(){e=x("div"),i&&i.c(),T(e,"class","layercake-container svelte-1ll0j6t"),O((()=>t[92].call(e))),N(e,"position",t[5],!1),N(e,"top","absolute"===t[5]?"0":null,!1),N(e,"right","absolute"===t[5]?"0":null,!1),N(e,"bottom","absolute"===t[5]?"0":null,!1),N(e,"left","absolute"===t[5]?"0":null,!1),N(e,"pointer-events",!1===t[4]?"none":null,!1)},m(o,s){y(o,e,s),i&&i.m(e,null),t[91](e),n=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=x("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=A();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=M(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{o=M(n.contentWindow,"resize",e)}),m(t,n),()=>{(r||o&&n.contentWindow)&&o(),v(n)}}(e,t[92].bind(e)),r=!0},p(t,n){i&&i.p&&(!r||1988&n[0]|134217728&n[2])&&f(i,o,t,t[89],r?u(o,t[89],n,wi):p(t[89]),ki),32&n[0]&&N(e,"position",t[5],!1),32&n[0]&&N(e,"top","absolute"===t[5]?"0":null,!1),32&n[0]&&N(e,"right","absolute"===t[5]?"0":null,!1),32&n[0]&&N(e,"bottom","absolute"===t[5]?"0":null,!1),32&n[0]&&N(e,"left","absolute"===t[5]?"0":null,!1),16&n[0]&&N(e,"pointer-events",!1===t[4]?"none":null,!1)},i(t){r||(tt(i,t),r=!0)},o(t){et(i,t),r=!1},d(r){r&&v(e),i&&i.d(r),t[91](null),n()}}}function Ti(t){let e,n,r=(!0===t[3]||"undefined"!=typeof window)&&Mi(t);return{c(){r&&r.c(),e=k()},m(t,o){r&&r.m(t,o),y(t,e,o),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,n),8&n[0]&&tt(r,1)):(r=Mi(t),r.c(),tt(r,1),r.m(e.parentNode,e)):r&&(J(),et(r,1,1,(()=>{r=null})),Q())},i(t){n||(tt(r),n=!0)},o(t){et(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function Ci(t,e,n){let r,o,i,s,l,c,u,f,p,d,g,m,y,v,$,x,_,b,w,k,M,T,C,N,z,S,D,A,L,E,K,q,U,Y,F,H,I,O,W,G,X,{$$slots:V={},$$scope:B}=e,{ssr:Z=!1}=e,{pointerEvents:J=!0}=e,{position:Q="relative"}=e,{percentRange:tt=!1}=e,{width:et}=e,{height:nt}=e,{containerWidth:rt=et||100}=e,{containerHeight:ot=nt||100}=e,{element:it}=e,{x:st}=e,{y:at}=e,{z:lt}=e,{r:ct}=e,{data:ut=[]}=e,{xDomain:ft}=e,{yDomain:pt}=e,{zDomain:dt}=e,{rDomain:ht}=e,{xNice:gt=!1}=e,{yNice:mt=!1}=e,{zNice:yt=!1}=e,{rNice:vt=!1}=e,{xReverse:$t=bi.x}=e,{yReverse:xt=bi.y}=e,{zReverse:_t=bi.z}=e,{rReverse:bt=bi.r}=e,{xPadding:wt}=e,{yPadding:kt}=e,{zPadding:Mt}=e,{rPadding:Tt}=e,{xScale:Ct=fi.x}=e,{yScale:Nt=fi.y}=e,{zScale:zt=fi.z}=e,{rScale:St=fi.r}=e,{xRange:Dt}=e,{yRange:At}=e,{zRange:Lt}=e,{rRange:Et}=e,{padding:Rt={}}=e,{extents:jt={}}=e,{flatData:Kt}=e,{custom:qt={}}=e,Ut=!1;j((()=>{Ut=!0}));const Pt={},Yt=oi(tt);a(t,Yt,(t=>n(128,O=t)));const Ft=oi(rt);a(t,Ft,(t=>n(7,I=t)));const Ht=oi(ot);a(t,Ht,(t=>n(6,H=t)));const It=oi(ai(jt));a(t,It,(t=>n(127,F=t)));const Ot=oi(ut);a(t,Ot,(t=>n(126,Y=t)));const Wt=oi(Kt||ut);a(t,Wt,(t=>n(125,U=t)));const Gt=oi(Rt);a(t,Gt,(t=>n(124,q=t)));const Xt=oi(si(st));a(t,Xt,(t=>n(123,K=t)));const Vt=oi(si(at));a(t,Vt,(t=>n(122,E=t)));const Bt=oi(si(lt));a(t,Bt,(t=>n(121,L=t)));const Zt=oi(si(ct));a(t,Zt,(t=>n(120,A=t)));const Jt=oi(ft);a(t,Jt,(t=>n(119,D=t)));const Qt=oi(pt);a(t,Qt,(t=>n(118,S=t)));const te=oi(dt);a(t,te,(t=>n(117,z=t)));const ee=oi(ht);a(t,ee,(t=>n(116,N=t)));const ne=oi(gt);a(t,ne,(t=>n(115,C=t)));const re=oi(mt);a(t,re,(t=>n(114,T=t)));const oe=oi(yt);a(t,oe,(t=>n(113,M=t)));const ie=oi(vt);a(t,ie,(t=>n(112,k=t)));const se=oi($t);a(t,se,(t=>n(111,w=t)));const ae=oi(xt);a(t,ae,(t=>n(110,b=t)));const le=oi(_t);a(t,le,(t=>n(109,_=t)));const ce=oi(bt);a(t,ce,(t=>n(108,x=t)));const ue=oi(wt);a(t,ue,(t=>n(107,$=t)));const fe=oi(kt);a(t,fe,(t=>n(106,v=t)));const pe=oi(Mt);a(t,pe,(t=>n(105,y=t)));const de=oi(Tt);a(t,de,(t=>n(104,m=t)));const he=oi(Dt);a(t,he,(t=>n(103,g=t)));const ge=oi(At);a(t,ge,(t=>n(102,d=t)));const me=oi(Lt);a(t,me,(t=>n(101,p=t)));const ye=oi(Et);a(t,ye,(t=>n(100,f=t)));const ve=oi(Ct);a(t,ve,(t=>n(99,u=t)));const $e=oi(Nt);a(t,$e,(t=>n(98,c=t)));const xe=oi(zt);a(t,xe,(t=>n(97,l=t)));const _e=oi(St);a(t,_e,(t=>n(96,s=t)));const be=oi(Pt);a(t,be,(t=>n(94,o=t)));const we=oi(qt);a(t,we,(t=>n(95,i=t)));const ke=ii([Xt,Vt,Bt,Zt],(([t,e,n,r])=>{const o={};return t&&(o.x=t),e&&(o.y=e),n&&(o.z=n),r&&(o.r=r),o})),Me=ii([Gt,Ft,Ht],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Te=ii([Ft,Ht,Me],(([t,e,n])=>{const r={};return r.top=n.top,r.right=t-n.right,r.bottom=e-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&!0===Ut&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&!0===Ut&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Ce=ii([Te],(([t])=>t.width));a(t,Ce,(t=>n(8,W=t)));const Ne=ii([Te],(([t])=>t.height));a(t,Ne,(t=>n(9,G=t)));const ze=ii([Wt,ke,It],(([t,e,n])=>{const r=ai(e,n);return Object.keys(r).length>0?{...li(t,r),...n}:{}})),Se=ii([ze,Jt],ui("x")),De=ii([ze,Qt],ui("y")),Ae=ii([ze,te],ui("z")),Le=ii([ze,ee],ui("r")),Ee=ii([ve,ze,Se,ue,ne,se,Ce,Ne,he,Yt],$i("x")),Re=ii([Xt,Ee],xi),je=ii([$e,ze,De,fe,re,ae,Ce,Ne,ge,Yt],$i("y")),Ke=ii([Vt,je],xi),qe=ii([xe,ze,Ae,pe,oe,le,Ce,Ne,me,Yt],$i("z")),Ue=ii([Bt,qe],xi),Pe=ii([_e,ze,Le,de,ie,ce,Ce,Ne,ye,Yt],$i("r")),Ye=ii([Zt,Pe],xi),Fe=ii([Ee],_i),He=ii([je],_i),Ie=ii([qe],_i),Oe=ii([Pe],_i),We=ii([Ce,Ne],(([t,e])=>t/e));return a(t,We,(t=>n(10,X=t))),t.$$set=t=>{"ssr"in t&&n(3,Z=t.ssr),"pointerEvents"in t&&n(4,J=t.pointerEvents),"position"in t&&n(5,Q=t.position),"percentRange"in t&&n(51,tt=t.percentRange),"width"in t&&n(52,et=t.width),"height"in t&&n(53,nt=t.height),"containerWidth"in t&&n(0,rt=t.containerWidth),"containerHeight"in t&&n(1,ot=t.containerHeight),"element"in t&&n(2,it=t.element),"x"in t&&n(54,st=t.x),"y"in t&&n(55,at=t.y),"z"in t&&n(56,lt=t.z),"r"in t&&n(57,ct=t.r),"data"in t&&n(58,ut=t.data),"xDomain"in t&&n(59,ft=t.xDomain),"yDomain"in t&&n(60,pt=t.yDomain),"zDomain"in t&&n(61,dt=t.zDomain),"rDomain"in t&&n(62,ht=t.rDomain),"xNice"in t&&n(63,gt=t.xNice),"yNice"in t&&n(64,mt=t.yNice),"zNice"in t&&n(65,yt=t.zNice),"rNice"in t&&n(66,vt=t.rNice),"xReverse"in t&&n(67,$t=t.xReverse),"yReverse"in t&&n(68,xt=t.yReverse),"zReverse"in t&&n(69,_t=t.zReverse),"rReverse"in t&&n(70,bt=t.rReverse),"xPadding"in t&&n(71,wt=t.xPadding),"yPadding"in t&&n(72,kt=t.yPadding),"zPadding"in t&&n(73,Mt=t.zPadding),"rPadding"in t&&n(74,Tt=t.rPadding),"xScale"in t&&n(75,Ct=t.xScale),"yScale"in t&&n(76,Nt=t.yScale),"zScale"in t&&n(77,zt=t.zScale),"rScale"in t&&n(78,St=t.rScale),"xRange"in t&&n(79,Dt=t.xRange),"yRange"in t&&n(80,At=t.yRange),"zRange"in t&&n(81,Lt=t.zRange),"rRange"in t&&n(82,Et=t.rRange),"padding"in t&&n(83,Rt=t.padding),"extents"in t&&n(84,jt=t.extents),"flatData"in t&&n(85,Kt=t.flatData),"custom"in t&&n(86,qt=t.custom),"$$scope"in t&&n(89,B=t.$$scope)},t.$$.update=()=>{8388608&t.$$.dirty[1]&&st&&n(87,Pt.x=st,Pt),16777216&t.$$.dirty[1]&&at&&n(87,Pt.y=at,Pt),33554432&t.$$.dirty[1]&&lt&&n(87,Pt.z=lt,Pt),67108864&t.$$.dirty[1]&&ct&&n(87,Pt.r=ct,Pt),268435456&t.$$.dirty[1]&&ft&&n(87,Pt.xDomain=ft,Pt),536870912&t.$$.dirty[1]&&pt&&n(87,Pt.yDomain=pt,Pt),1073741824&t.$$.dirty[1]&&dt&&n(87,Pt.zDomain=dt,Pt),1&t.$$.dirty[2]&&ht&&n(87,Pt.rDomain=ht,Pt),131072&t.$$.dirty[2]&&Dt&&n(87,Pt.xRange=Dt,Pt),262144&t.$$.dirty[2]&&At&&n(87,Pt.yRange=At,Pt),524288&t.$$.dirty[2]&&Lt&&n(87,Pt.zRange=Lt,Pt),1048576&t.$$.dirty[2]&&Et&&n(87,Pt.rRange=Et,Pt),1048576&t.$$.dirty[1]&&h(Yt,O=tt,O),1&t.$$.dirty[0]&&h(Ft,I=rt,I),2&t.$$.dirty[0]&&h(Ht,H=ot,H),4194304&t.$$.dirty[2]&&h(It,F=ai(jt),F),134217728&t.$$.dirty[1]&&h(Ot,Y=ut,Y),134217728&t.$$.dirty[1]|8388608&t.$$.dirty[2]&&h(Wt,U=Kt||ut,U),2097152&t.$$.dirty[2]&&h(Gt,q=Rt,q),8388608&t.$$.dirty[1]&&h(Xt,K=si(st),K),16777216&t.$$.dirty[1]&&h(Vt,E=si(at),E),33554432&t.$$.dirty[1]&&h(Bt,L=si(lt),L),67108864&t.$$.dirty[1]&&h(Zt,A=si(ct),A),268435456&t.$$.dirty[1]&&h(Jt,D=ft,D),536870912&t.$$.dirty[1]&&h(Qt,S=pt,S),1073741824&t.$$.dirty[1]&&h(te,z=dt,z),1&t.$$.dirty[2]&&h(ee,N=ht,N),2&t.$$.dirty[2]&&h(ne,C=gt,C),4&t.$$.dirty[2]&&h(re,T=mt,T),8&t.$$.dirty[2]&&h(oe,M=yt,M),16&t.$$.dirty[2]&&h(ie,k=vt,k),32&t.$$.dirty[2]&&h(se,w=$t,w),64&t.$$.dirty[2]&&h(ae,b=xt,b),128&t.$$.dirty[2]&&h(le,_=_t,_),256&t.$$.dirty[2]&&h(ce,x=bt,x),512&t.$$.dirty[2]&&h(ue,$=wt,$),1024&t.$$.dirty[2]&&h(fe,v=kt,v),2048&t.$$.dirty[2]&&h(pe,y=Mt,y),4096&t.$$.dirty[2]&&h(de,m=Tt,m),131072&t.$$.dirty[2]&&h(he,g=Dt,g),262144&t.$$.dirty[2]&&h(ge,d=At,d),524288&t.$$.dirty[2]&&h(me,p=Lt,p),1048576&t.$$.dirty[2]&&h(ye,f=Et,f),8192&t.$$.dirty[2]&&h(ve,u=Ct,u),16384&t.$$.dirty[2]&&h($e,c=Nt,c),32768&t.$$.dirty[2]&&h(xe,l=zt,l),65536&t.$$.dirty[2]&&h(_e,s=St,s),16777216&t.$$.dirty[2]&&h(we,i=qt,i),33554432&t.$$.dirty[2]&&h(be,o=Pt,o),67108864&t.$$.dirty[2]&&function(t,e){R().$$.context.set(t,e)}("LayerCake",r)},n(88,r={activeGetters:ke,width:Ce,height:Ne,percentRange:Yt,aspectRatio:We,containerWidth:Ft,containerHeight:Ht,x:Xt,y:Vt,z:Bt,r:Zt,custom:we,data:Ot,xNice:ne,yNice:re,zNice:oe,rNice:ie,xReverse:se,yReverse:ae,zReverse:le,rReverse:ce,xPadding:ue,yPadding:fe,zPadding:pe,rPadding:de,padding:Me,flatData:Wt,extents:ze,xDomain:Se,yDomain:De,zDomain:Ae,rDomain:Le,xRange:Fe,yRange:He,zRange:Ie,rRange:Oe,config:be,xScale:Ee,xGet:Re,yScale:je,yGet:Ke,zScale:qe,zGet:Ue,rScale:Pe,rGet:Ye}),[rt,ot,it,Z,J,Q,H,I,W,G,X,Yt,Ft,Ht,It,Ot,Wt,Gt,Xt,Vt,Bt,Zt,Jt,Qt,te,ee,ne,re,oe,ie,se,ae,le,ce,ue,fe,pe,de,he,ge,me,ye,ve,$e,xe,_e,be,we,Ce,Ne,We,tt,et,nt,st,at,lt,ct,ut,ft,pt,dt,ht,gt,mt,yt,vt,$t,xt,_t,bt,wt,kt,Mt,Tt,Ct,Nt,zt,St,Dt,At,Lt,Et,Rt,jt,Kt,qt,Pt,r,B,V,function(t){P[t?"unshift":"push"]((()=>{it=t,n(2,it)}))},function(){rt=this.clientWidth,ot=this.clientHeight,n(0,rt),n(1,ot)}]}class Ni extends at{constructor(t){super(),st(this,t,Ci,Ti,i,{ssr:3,pointerEvents:4,position:5,percentRange:51,width:52,height:53,containerWidth:0,containerHeight:1,element:2,x:54,y:55,z:56,r:57,data:58,xDomain:59,yDomain:60,zDomain:61,rDomain:62,xNice:63,yNice:64,zNice:65,rNice:66,xReverse:67,yReverse:68,zReverse:69,rReverse:70,xPadding:71,yPadding:72,zPadding:73,rPadding:74,xScale:75,yScale:76,zScale:77,rScale:78,xRange:79,yRange:80,zRange:81,rRange:82,padding:83,extents:84,flatData:85,custom:86},null,[-1,-1,-1,-1,-1])}}const zi=t=>({element:1&t}),Si=t=>({element:t[0]});function Di(t){let e,n;const r=t[6].default,o=l(r,t,t[5],Si);return{c(){e=x("div"),o&&o.c(),T(e,"class","layercake-layout-html svelte-1u9nfei"),N(e,"z-index",t[1],!1),N(e,"pointer-events",!1===t[2]?"none":null,!1),N(e,"top",t[3].top+"px",!1),N(e,"right",t[3].right+"px",!1),N(e,"bottom",t[3].bottom+"px",!1),N(e,"left",t[3].left+"px",!1)},m(r,i){y(r,e,i),o&&o.m(e,null),t[7](e),n=!0},p(t,[i]){o&&o.p&&(!n||33&i)&&f(o,r,t,t[5],n?u(r,t[5],i,zi):p(t[5]),Si),2&i&&N(e,"z-index",t[1],!1),4&i&&N(e,"pointer-events",!1===t[2]?"none":null,!1),8&i&&N(e,"top",t[3].top+"px",!1),8&i&&N(e,"right",t[3].right+"px",!1),8&i&&N(e,"bottom",t[3].bottom+"px",!1),8&i&&N(e,"left",t[3].left+"px",!1)},i(t){n||(tt(o,t),n=!0)},o(t){et(o,t),n=!1},d(n){n&&v(e),o&&o.d(n),t[7](null)}}}function Ai(t,e,n){let r,{$$slots:o={},$$scope:i}=e,{element:s}=e,{zIndex:l}=e,{pointerEvents:c}=e;const{padding:u}=q("LayerCake");return a(t,u,(t=>n(3,r=t))),t.$$set=t=>{"element"in t&&n(0,s=t.element),"zIndex"in t&&n(1,l=t.zIndex),"pointerEvents"in t&&n(2,c=t.pointerEvents),"$$scope"in t&&n(5,i=t.$$scope)},[s,l,c,r,u,i,o,function(t){P[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class Li extends at{constructor(t){super(),st(this,t,Ai,Di,i,{element:0,zIndex:1,pointerEvents:2})}}const Ei=t=>({element:1&t}),Ri=t=>({element:t[0]}),ji=t=>({element:1&t}),Ki=t=>({element:t[0]});function qi(t){let e,n,r,o,i;const s=t[12].defs,a=l(s,t,t[11],Ki),c=t[12].default,d=l(c,t,t[11],Ri);return{c(){e=_("svg"),n=_("defs"),a&&a.c(),r=_("g"),d&&d.c(),T(r,"class","layercake-layout-svg_g"),T(r,"transform",o="translate("+t[7].left+", "+t[7].top+")"),T(e,"class","layercake-layout-svg svelte-17l4rdd"),T(e,"viewBox",t[4]),T(e,"width",t[5]),T(e,"height",t[6]),N(e,"z-index",t[2],!1),N(e,"pointer-events",!1===t[3]?"none":null,!1)},m(o,s){y(o,e,s),m(e,n),a&&a.m(n,null),m(e,r),d&&d.m(r,null),t[13](r),t[14](e),i=!0},p(t,[n]){a&&a.p&&(!i||2049&n)&&f(a,s,t,t[11],i?u(s,t[11],n,ji):p(t[11]),Ki),d&&d.p&&(!i||2049&n)&&f(d,c,t,t[11],i?u(c,t[11],n,Ei):p(t[11]),Ri),(!i||128&n&&o!==(o="translate("+t[7].left+", "+t[7].top+")"))&&T(r,"transform",o),(!i||16&n)&&T(e,"viewBox",t[4]),(!i||32&n)&&T(e,"width",t[5]),(!i||64&n)&&T(e,"height",t[6]),4&n&&N(e,"z-index",t[2],!1),8&n&&N(e,"pointer-events",!1===t[3]?"none":null,!1)},i(t){i||(tt(a,t),tt(d,t),i=!0)},o(t){et(a,t),et(d,t),i=!1},d(n){n&&v(e),a&&a.d(n),d&&d.d(n),t[13](null),t[14](null)}}}function Ui(t,e,n){let r,o,i,{$$slots:s={},$$scope:l}=e,{element:c}=e,{innerElement:u}=e,{zIndex:f}=e,{pointerEvents:p}=e,{viewBox:d}=e;const{containerWidth:h,containerHeight:g,padding:m}=q("LayerCake");return a(t,h,(t=>n(5,r=t))),a(t,g,(t=>n(6,o=t))),a(t,m,(t=>n(7,i=t))),t.$$set=t=>{"element"in t&&n(0,c=t.element),"innerElement"in t&&n(1,u=t.innerElement),"zIndex"in t&&n(2,f=t.zIndex),"pointerEvents"in t&&n(3,p=t.pointerEvents),"viewBox"in t&&n(4,d=t.viewBox),"$$scope"in t&&n(11,l=t.$$scope)},[c,u,f,p,d,r,o,i,h,g,m,l,s,function(t){P[t?"unshift":"push"]((()=>{u=t,n(1,u)}))},function(t){P[t?"unshift":"push"]((()=>{c=t,n(0,c)}))}]}class Pi extends at{constructor(t){super(),st(this,t,Ui,qi,i,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4})}}function Yi(t){if(Array.isArray(t)&&Array.isArray(t[0])){let e=[];const n=t.length;for(let r=0;r<n;r+=1)e=e.concat(t[r]);return e}return t}function Fi(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i,s,a,l,c,u,f,p,d=t._root,h={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=h,t;for(;d.length;)if((c=e>=(i=(g+y)/2))?g=i:y=i,(u=n>=(s=(m+v)/2))?m=s:v=s,o=d,!(d=d[f=u<<1|c]))return o[f]=h,t;if(a=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===a&&n===l)return h.next=d,o?o[f]=h:t._root=h,t;do{o=o?o[f]=new Array(4):t._root=new Array(4),(c=e>=(i=(g+y)/2))?g=i:y=i,(u=n>=(s=(m+v)/2))?m=s:v=s}while((f=u<<1|c)==(p=(l>=s)<<1|a>=i));return o[p]=d,o[f]=h,t}function Hi(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function Ii(t){return t[0]}function Oi(t){return t[1]}function Wi(t,e,n){var r=new Gi(null==e?Ii:e,null==n?Oi:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Gi(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function Xi(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Vi=Wi.prototype=Gi.prototype;function Bi(t){return function(){return t}}function Zi(t){return 1e-6*(t()-.5)}function Ji(t){return t.x+t.vx}function Qi(t){return t.y+t.vy}Vi.copy=function(){var t,e,n=new Gi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Xi(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(e=r.source[o])&&(e.length?t.push({source:e,target:r.target[o]=new Array(4)}):r.target[o]=Xi(e));return n},Vi.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Fi(this.cover(e,n),e,n,t)},Vi.addAll=function(t){var e,n,r,o,i=t.length,s=new Array(i),a=new Array(i),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(s[n]=r,a[n]=o,r<l&&(l=r),r>u&&(u=r),o<c&&(c=o),o>f&&(f=o));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<i;++n)Fi(this,s[n],a[n],t[n]);return this},Vi.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var s,a,l=o-n||1,c=this._root;n>t||t>=o||r>e||e>=i;)switch(a=(e<r)<<1|t<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:o=n+l,i=r+l;break;case 1:n=o-l,i=r+l;break;case 2:o=n+l,r=i-l;break;case 3:n=o-l,r=i-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},Vi.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Vi.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Vi.find=function(t,e,n){var r,o,i,s,a,l,c,u=this._x0,f=this._y0,p=this._x1,d=this._y1,h=[],g=this._root;for(g&&h.push(new Hi(g,u,f,p,d)),null==n?n=1/0:(u=t-n,f=e-n,p=t+n,d=e+n,n*=n);l=h.pop();)if(!(!(g=l.node)||(o=l.x0)>p||(i=l.y0)>d||(s=l.x1)<u||(a=l.y1)<f))if(g.length){var m=(o+s)/2,y=(i+a)/2;h.push(new Hi(g[3],m,y,s,a),new Hi(g[2],o,y,m,a),new Hi(g[1],m,i,s,y),new Hi(g[0],o,i,m,y)),(c=(e>=y)<<1|t>=m)&&(l=h[h.length-1],h[h.length-1]=h[h.length-1-c],h[h.length-1-c]=l)}else{var v=t-+this._x.call(null,g.data),$=e-+this._y.call(null,g.data),x=v*v+$*$;if(x<n){var _=Math.sqrt(n=x);u=t-_,f=e-_,p=t+_,d=e+_,r=g.data}}return r},Vi.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,o,i,s,a,l,c,u,f,p,d=this._root,h=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(a=(h+m)/2))?h=a:m=a,(u=s>=(l=(g+y)/2))?g=l:y=l,e=d,!(d=d[f=u<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,p=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,r?(o?r.next=o:delete r.next,this):e?(o?e[f]=o:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[p]=d:this._root=d),this):(this._root=o,this)},Vi.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Vi.root=function(){return this._root},Vi.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Vi.visit=function(t){var e,n,r,o,i,s,a=[],l=this._root;for(l&&a.push(new Hi(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,r=e.x0,o=e.y0,i=e.x1,s=e.y1)&&l.length){var c=(r+i)/2,u=(o+s)/2;(n=l[3])&&a.push(new Hi(n,c,u,i,s)),(n=l[2])&&a.push(new Hi(n,r,u,c,s)),(n=l[1])&&a.push(new Hi(n,c,o,i,u)),(n=l[0])&&a.push(new Hi(n,r,o,c,u))}return this},Vi.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Hi(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var i,s=e.x0,a=e.y0,l=e.x1,c=e.y1,u=(s+l)/2,f=(a+c)/2;(i=o[0])&&n.push(new Hi(i,s,a,u,f)),(i=o[1])&&n.push(new Hi(i,u,a,l,f)),(i=o[2])&&n.push(new Hi(i,s,f,u,c)),(i=o[3])&&n.push(new Hi(i,u,f,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Vi.x=function(t){return arguments.length?(this._x=t,this):this._x},Vi.y=function(t){return arguments.length?(this._y=t,this):this._y};var ts={value:()=>{}};function es(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ns(r)}function ns(t){this._=t}function rs(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function os(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function is(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=ts,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ns.prototype=es.prototype={constructor:ns,on:function(t,e){var n,r=this._,o=rs(t+"",r),i=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<s;)if(n=(t=o[i]).type)r[n]=is(r[n],t.name,e);else if(null==e)for(n in r)r[n]=is(r[n],t.name,null);return this}for(;++i<s;)if((n=(t=o[i]).type)&&(n=os(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ns(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var ss,as,ls=0,cs=0,us=0,fs=0,ps=0,ds=0,hs="object"==typeof performance&&performance.now?performance:Date,gs="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ms(){return ps||(gs(ys),ps=hs.now()+ds)}function ys(){ps=0}function vs(){this._call=this._time=this._next=null}function $s(t,e,n){var r=new vs;return r.restart(t,e,n),r}function xs(){ps=(fs=hs.now())+ds,ls=cs=0;try{!function(){ms(),++ls;for(var t,e=ss;e;)(t=ps-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ls}()}finally{ls=0,function(){var t,e,n=ss,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ss=e);as=t,bs(r)}(),ps=0}}function _s(){var t=hs.now(),e=t-fs;e>1e3&&(ds-=e,fs=t)}function bs(t){ls||(cs&&(cs=clearTimeout(cs)),t-ps>24?(t<1/0&&(cs=setTimeout(xs,t-hs.now()-ds)),us&&(us=clearInterval(us))):(us||(fs=hs.now(),us=setInterval(_s,1e3)),ls=1,gs(xs)))}vs.prototype=$s.prototype={constructor:vs,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ms():+n)+(null==e?0:+e),this._next||as===this||(as?as._next=this:ss=this,as=this),this._call=t,this._time=n,bs()},stop:function(){this._call&&(this._call=null,this._time=1/0,bs())}};const ws=4294967296;function ks(t){return t.x}function Ms(t){return t.y}var Ts=Math.PI*(3-Math.sqrt(5));function Cs(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,s=.6,a=new Map,l=$s(f),c=es("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%ws)/ws}();function f(){p(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function p(r){var l,c,u=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*o,a.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=10*Math.sqrt(.5+n),i=n*Ts;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function h(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:p,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),a.forEach(h),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(o=+t,e):+o},alphaTarget:function(t){return arguments.length?(i=+t,e):i},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(u=t,a.forEach(h),e):u},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,h(n)),e):a.get(t)},find:function(e,n,r){var o,i,s,a,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(s=(o=e-(a=t[c]).x)*o+(i=n-a.y)*i)<r&&(l=a,r=s);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function Ns(t,e,n){const r=t.slice();return r[23]=e[n],r}function zs(t){let e,n,o,i,s,a,l;function c(...e){return t[17](t[23],...e)}function u(...e){return t[18](t[23],...e)}return{c(){e=_("circle"),T(e,"fill",n=t[4](t[23])),T(e,"stroke",t[1]),T(e,"stroke-width",t[0]),T(e,"cx",o=t[23].x),T(e,"cy",i=t[23].y),T(e,"r",s=t[2](t[23]))},m(t,n){y(t,e,n),a||(l=[M(e,"mouseover",c),M(e,"focus",u)],a=!0)},p(r,a){t=r,24&a&&n!==(n=t[4](t[23]))&&T(e,"fill",n),2&a&&T(e,"stroke",t[1]),1&a&&T(e,"stroke-width",t[0]),8&a&&o!==(o=t[23].x)&&T(e,"cx",o),8&a&&i!==(i=t[23].y)&&T(e,"cy",i),12&a&&s!==(s=t[2](t[23]))&&T(e,"r",s)},d(t){t&&v(e),a=!1,r(l)}}}function Ss(e){let n,o,i,s=e[3],a=[];for(let t=0;t<s.length;t+=1)a[t]=zs(Ns(e,s,t));return{c(){n=_("g");for(let t=0;t<a.length;t+=1)a[t].c();T(n,"class","bee-group")},m(t,r){y(t,n,r);for(let t=0;t<a.length;t+=1)a[t].m(n,null);o||(i=[M(n,"mouseout",e[19]),M(n,"blur",e[20])],o=!0)},p(t,[e]){if(1055&e){let r;for(s=t[3],r=0;r<s.length;r+=1){const o=Ns(t,s,r);a[r]?a[r].p(o,e):(a[r]=zs(o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=s.length}},i:t,o:t,d(t){t&&v(n),$(a,t),o=!1,r(i)}}}function Ds(t,e,n){let r,o,i,s,l;const{data:c,xGet:u,zGet:f,rGet:p,height:d,width:h}=q("LayerCake");a(t,c,(t=>n(21,s=t))),a(t,u,(t=>n(16,o=t))),a(t,f,(t=>n(4,l=t))),a(t,p,(t=>n(2,i=t))),a(t,d,(t=>n(15,r=t)));let{strokeWidth:g=1}=e,{stroke:m="#fff"}=e,{xStrength:y=.95}=e,{yStrength:v=.075}=e,{collideStrength:$=.075}=e;const x=K();let _=s.map(((t,e)=>({...t,y:250,x:e/s.length*960}))),b=Cs(_);b.on("tick",(()=>{n(3,_=b.nodes())}));return t.$$set=t=>{"strokeWidth"in t&&n(0,g=t.strokeWidth),"stroke"in t&&n(1,m=t.stroke),"xStrength"in t&&n(11,y=t.xStrength),"yStrength"in t&&n(12,v=t.yStrength),"collideStrength"in t&&n(13,$=t.collideStrength)},t.$$.update=()=>{129028&t.$$.dirty&&n(14,b=b.force("collide",function(t){var e,n,r,o=1,i=1;function s(){for(var t,s,l,c,u,f,p,d=e.length,h=0;h<i;++h)for(s=Wi(e,Ji,Qi).visitAfter(a),t=0;t<d;++t)l=e[t],f=n[l.index],p=f*f,c=l.x+l.vx,u=l.y+l.vy,s.visit(g);function g(t,e,n,i,s){var a=t.data,d=t.r,h=f+d;if(!a)return e>c+h||i<c-h||n>u+h||s<u-h;if(a.index>l.index){var g=c-a.x-a.vx,m=u-a.y-a.vy,y=g*g+m*m;y<h*h&&(0===g&&(y+=(g=Zi(r))*g),0===m&&(y+=(m=Zi(r))*m),y=(h-(y=Math.sqrt(y)))/y*o,l.vx+=(g*=y)*(h=(d*=d)/(p+d)),l.vy+=(m*=y)*h,a.vx-=g*(h=1-h),a.vy-=m*h)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,o,i=e.length;for(n=new Array(i),r=0;r<i;++r)o=e[r],n[o.index]=+t(o,r,e)}}return"function"!=typeof t&&(t=Bi(null==t?1:+t)),s.initialize=function(t,n){e=t,r=n,l()},s.iterations=function(t){return arguments.length?(i=+t,s):i},s.strength=function(t){return arguments.length?(o=+t,s):o},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Bi(+e),l(),s):t},s}((t=>i(t)+.5)).strength($).iterations(3)).force("x",function(t){var e,n,r,o=Bi(.1);function i(t){for(var o,i=0,s=e.length;i<s;++i)(o=e[i]).vx+=(r[i]-o.x)*n[i]*t}function s(){if(e){var i,s=e.length;for(n=new Array(s),r=new Array(s),i=0;i<s;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=Bi(null==t?0:+t)),i.initialize=function(t){e=t,s()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:Bi(+t),s(),i):o},i.x=function(e){return arguments.length?(t="function"==typeof e?e:Bi(+e),s(),i):t},i}().x((t=>o(t))).strength(y)).force("y",function(t){var e,n,r,o=Bi(.1);function i(t){for(var o,i=0,s=e.length;i<s;++i)(o=e[i]).vy+=(r[i]-o.y)*n[i]*t}function s(){if(e){var i,s=e.length;for(n=new Array(s),r=new Array(s),i=0;i<s;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=Bi(null==t?0:+t)),i.initialize=function(t){e=t,s()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:Bi(+t),s(),i):o},i.y=function(e){return arguments.length?(t="function"==typeof e?e:Bi(+e),s(),i):t},i}().y(r/2).strength(v)).force("charge",function(){var t,e,n,r,o,i=Bi(-30),s=1,a=1/0,l=.81;function c(n){var o,i=t.length,s=Wi(t,ks,Ms).visitAfter(f);for(r=n,o=0;o<i;++o)e=t[o],s.visit(p)}function u(){if(t){var e,n,r=t.length;for(o=new Array(r),e=0;e<r;++e)n=t[e],o[n.index]=+i(n,e,t)}}function f(t){var e,n,r,i,s,a=0,l=0;if(t.length){for(r=i=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,r+=n*e.x,i+=n*e.y);t.x=r/l,t.y=i/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=o[e.data.index]}while(e=e.next)}t.value=a}function p(t,i,c,u){if(!t.value)return!0;var f=t.x-e.x,p=t.y-e.y,d=u-i,h=f*f+p*p;if(d*d/l<h)return h<a&&(0===f&&(h+=(f=Zi(n))*f),0===p&&(h+=(p=Zi(n))*p),h<s&&(h=Math.sqrt(s*h)),e.vx+=f*t.value*r/h,e.vy+=p*t.value*r/h),!0;if(!(t.length||h>=a)){(t.data!==e||t.next)&&(0===f&&(h+=(f=Zi(n))*f),0===p&&(h+=(p=Zi(n))*p),h<s&&(h=Math.sqrt(s*h)));do{t.data!==e&&(d=o[t.data.index]*r/h,e.vx+=f*d,e.vy+=p*d)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,u()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:Bi(+t),u(),c):i},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}().strength(-1)).alpha(1).restart())},[g,m,i,_,l,c,u,f,p,d,x,y,v,$,b,r,o,(t,e)=>x("mousemove",{e:e,props:t}),(t,e)=>x("mousemove",{e:e,props:t}),()=>x("mouseout"),()=>x("mouseout")]}class As extends at{constructor(t){super(),st(this,t,Ds,Ss,i,{strokeWidth:0,stroke:1,xStrength:11,yStrength:12,collideStrength:13})}}const Ls=new Map([["fL","Far Left"],["L","Left"],["C","Center"],["AW","Anti-woke"],["R","Right"],["fR","Far Right"]]),Es=new Map([["Ext URL","External URL"],["HP","Homepage"],["Other","Other"],["Search","Search"],["User/Channel","User or Channel"],["Video","Video"]]),Rs=new Map([["fL","SteelBlue"],["L","LightSteelBlue"],["C","DarkGray"],["AW","Plum"],["R","LightCoral"],["fR","IndianRed"]]),js=new Map([["Ext URL","SteelBlue"],["HP","LightSteelBlue"],["Other","DarkGray"],["Search","Plum"],["User/Channel","LightCoral"],["Video","IndianRed"]]);function Ks(t,e,n){const r=t.slice();return r[5]=e[n],r}function qs(t){let e,n,r,o,i,s=Ls.get(t[5])+"";return{c(){e=x("div"),n=x("span"),r=b(s),i=w(),T(n,"class","label svelte-ggv53i"),T(n,"style",o=`--left: ${t[1](t[5])}px; --color: ${Rs.get(t[5])}`),T(e,"class","label-group")},m(t,o){y(t,e,o),m(e,n),m(n,r),m(e,i)},p(t,e){1&e&&s!==(s=Ls.get(t[5])+"")&&C(r,s),3&e&&o!==(o=`--left: ${t[1](t[5])}px; --color: ${Rs.get(t[5])}`)&&T(n,"style",o)},d(t){t&&v(e)}}}function Us(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=qs(Ks(e,r,t));return{c(){n=x("div");for(let t=0;t<o.length;t+=1)o[t].c();T(n,"class","label-container svelte-ggv53i")},m(t,e){y(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(3&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const s=Ks(t,r,i);o[i]?o[i].p(s,e):(o[i]=qs(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&v(n),$(o,t)}}}function Ps(t,e,n){let r,o;const{xScale:i,zDomain:s,zScale:l}=q("LayerCake");return a(t,i,(t=>n(1,o=t))),a(t,s,(t=>n(0,r=t))),[r,o,i,s]}class Ys extends at{constructor(t){super(),st(this,t,Ps,Us,i,{})}}const Fs=t=>({detail:1&t}),Hs=t=>({detail:t[0].detail});function Is(t){let e,n;const r=t[3].default,o=l(r,t,t[2],Hs);return{c(){e=x("div"),o&&o.c(),T(e,"class","tooltip svelte-d10pnr"),N(e,"top",t[0].detail.e.layerY+t[1]+"px"),N(e,"left",t[0].detail.e.layerX+"px")},m(t,r){y(t,e,r),o&&o.m(e,null),n=!0},p(t,i){o&&o.p&&(!n||5&i)&&f(o,r,t,t[2],n?u(r,t[2],i,Fs):p(t[2]),Hs),(!n||3&i)&&N(e,"top",t[0].detail.e.layerY+t[1]+"px"),(!n||1&i)&&N(e,"left",t[0].detail.e.layerX+"px")},i(t){n||(tt(o,t),n=!0)},o(t){et(o,t),n=!1},d(t){t&&v(e),o&&o.d(t)}}}function Os(t){let e,n,r=t[0].detail&&Is(t);return{c(){r&&r.c(),e=k()},m(t,o){r&&r.m(t,o),y(t,e,o),n=!0},p(t,[n]){t[0].detail?r?(r.p(t,n),1&n&&tt(r,1)):(r=Is(t),r.c(),tt(r,1),r.m(e.parentNode,e)):r&&(J(),et(r,1,1,(()=>{r=null})),Q())},i(t){n||(tt(r),n=!0)},o(t){et(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function Ws(t,e,n){let{$$slots:r={},$$scope:o}=e,{evt:i={}}=e,{offset:s=-35}=e;return t.$$set=t=>{"evt"in t&&n(0,i=t.evt),"offset"in t&&n(1,s=t.offset),"$$scope"in t&&n(2,o=t.$$scope)},[i,s,o,r]}class Gs extends at{constructor(t){super(),st(this,t,Ws,Os,i,{evt:0,offset:1})}}function Xs(t){const e={...t[15].props};t[16]=e}function Vs(t,e,n){const r=t.slice();r[17]=e[n];const o=r[17].replace(/^\w/,(t=>t.toUpperCase()));r[18]=o;const i=r[16][r[17]];return r[19]=i,r}function Bs(e){let n,r;return n=new As({props:{strokeWidth:0,xStrength:.1,yStrength:.05,collideStrength:1}}),n.$on("mousemove",e[13]),n.$on("mouseout",e[14]),{c(){nt(n.$$.fragment)},m(t,e){rt(n,t,e),r=!0},p:t,i(t){r||(tt(n.$$.fragment,t),r=!0)},o(t){et(n.$$.fragment,t),r=!1},d(t){ot(n,t)}}}function Zs(t){let e,n;return e=new Ys({}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Js(t){let e,n;return e=new Gs({props:{evt:t[11],$$slots:{default:[ta,({detail:t})=>({15:t}),({detail:t})=>t?32768:0]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};2048&n&&(r.evt=t[11]),4227072&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Qs(t){let e,n,r,o,i,s,a=t[19]+"";return{c(){e=x("div"),n=x("span"),r=b(t[18]),o=b(":"),i=w(),s=b(a),T(e,"class","row")},m(t,a){y(t,e,a),m(e,n),m(n,r),m(n,o),m(e,i),m(e,s)},p(t,e){32768&e&&a!==(a=t[19]+"")&&C(s,a)},d(t){t&&v(e)}}}function ta(t){let e;Xs(t);let n,r,o,i,s,a,l=t[16].channel+"",c=t[16].cluster+"",u=["total_videos","subscribers"],f=[];for(let e=0;e<2;e+=1)f[e]=Qs(Vs(t,u,e));return{c(){e=x("div"),n=b(l),r=w(),o=x("div"),i=b(c),s=w();for(let t=0;t<2;t+=1)f[t].c();a=k()},m(t,l){y(t,e,l),m(e,n),y(t,r,l),y(t,o,l),m(o,i),y(t,s,l);for(let e=0;e<2;e+=1)f[e].m(t,l);y(t,a,l)},p(t,e){if(Xs(t),32768&e&&l!==(l=t[16].channel+"")&&C(n,l),32768&e&&c!==(c=t[16].cluster+"")&&C(i,c),32768&e){let n;for(u=["total_videos","subscribers"],n=0;n<2;n+=1){const r=Vs(t,u,n);f[n]?f[n].p(r,e):(f[n]=Qs(r),f[n].c(),f[n].m(a.parentNode,a))}for(;n<2;n+=1)f[n].d(1)}},d(t){t&&v(e),t&&v(r),t&&v(o),t&&v(s),$(f,t),t&&v(a)}}}function ea(t){let e,n,r,o=2===t[1]&&Zs(),i=!0!==t[12]&&3===t[1]&&Js(t);return{c(){o&&o.c(),e=w(),i&&i.c(),n=k()},m(t,s){o&&o.m(t,s),y(t,e,s),i&&i.m(t,s),y(t,n,s),r=!0},p(t,r){2===t[1]?o?2&r&&tt(o,1):(o=Zs(),o.c(),tt(o,1),o.m(e.parentNode,e)):o&&(J(),et(o,1,1,(()=>{o=null})),Q()),!0!==t[12]&&3===t[1]?i?(i.p(t,r),4098&r&&tt(i,1)):(i=Js(t),i.c(),tt(i,1),i.m(n.parentNode,n)):i&&(J(),et(i,1,1,(()=>{i=null})),Q())},i(t){r||(tt(o),tt(i),r=!0)},o(t){et(o),et(i),r=!1},d(t){o&&o.d(t),t&&v(e),i&&i.d(t),t&&v(n)}}}function na(t){let e,n,r,o;return e=new Pi({props:{$$slots:{default:[Bs]},$$scope:{ctx:t}}}),r=new Li({props:{pointerEvents:!1,$$slots:{default:[ea]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};4200448&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};4200450&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function ra(t){let e,n,r;return n=new Ni({props:{x:t[2],xScale:t[3],xDomain:t[4],z:t[5],zScale:t[6],zDomain:t[7],zRange:t[8],r:t[9],rRange:t[10],data:t[0],$$slots:{default:[na]},$$scope:{ctx:t}}}),{c(){e=x("div"),nt(n.$$.fragment),T(e,"class","chart beeswarm-chart svelte-v414i4")},m(t,o){y(t,e,o),rt(n,e,null),r=!0},p(t,[e]){const r={};4&e&&(r.x=t[2]),8&e&&(r.xScale=t[3]),16&e&&(r.xDomain=t[4]),32&e&&(r.z=t[5]),64&e&&(r.zScale=t[6]),128&e&&(r.zDomain=t[7]),256&e&&(r.zRange=t[8]),512&e&&(r.r=t[9]),1024&e&&(r.rRange=t[10]),1&e&&(r.data=t[0]),4200450&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){r||(tt(n.$$.fragment,t),r=!0)},o(t){et(n.$$.fragment,t),r=!1},d(t){t&&v(e),ot(n)}}}function oa(t,e,n){let r,{data:o}=e,{currentStep:i=0}=e,{xKey:s="channel"}=e,{xScale:a=zn()}=e,{xDomain:l=[null,null]}=e,{zKey:c="cluster"}=e,{zScale:u=ie()}=e,{zDomain:f=Array.from(new Set(o.map((t=>t.cluster))))}=e,{zRange:p=f.map((t=>Rs.get(t)))}=e,{rKey:d="subscribers"}=e,{rRange:h=[2,25]}=e,g=!0;return t.$$set=t=>{"data"in t&&n(0,o=t.data),"currentStep"in t&&n(1,i=t.currentStep),"xKey"in t&&n(2,s=t.xKey),"xScale"in t&&n(3,a=t.xScale),"xDomain"in t&&n(4,l=t.xDomain),"zKey"in t&&n(5,c=t.zKey),"zScale"in t&&n(6,u=t.zScale),"zDomain"in t&&n(7,f=t.zDomain),"zRange"in t&&n(8,p=t.zRange),"rKey"in t&&n(9,d=t.rKey),"rRange"in t&&n(10,h=t.rRange)},[o,i,s,a,l,c,u,f,p,d,h,r,g,t=>n(11,r=n(12,g=t)),()=>n(12,g=!0)]}class ia extends at{constructor(t){super(),st(this,t,oa,ra,i,{data:0,currentStep:1,xKey:2,xScale:3,xDomain:4,zKey:5,zScale:6,zDomain:7,zRange:8,rKey:9,rRange:10})}}function sa(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function aa(t){let e,n;return e=new ia({props:{currentStep:t[1],xKey:t[2],xScale:t[3],xDomain:t[4],data:t[0]}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.currentStep=t[1]),4&n&&(r.xKey=t[2]),8&n&&(r.xScale=t[3]),16&n&&(r.xDomain=t[4]),1&n&&(r.data=t[0]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function la(t){let e,n,r,o=t[9]+"";return{c(){e=x("div"),n=x("div"),r=w(),T(n,"class","step-content"),T(e,"class","step svelte-1dh82gw"),L(e,"active",t[1]===t[11])},m(t,i){y(t,e,i),m(e,n),n.innerHTML=o,m(e,r)},p(t,n){2&n&&L(e,"active",t[1]===t[11])},d(t){t&&v(e)}}}function ca(t){let e,n=t[5],r=[];for(let e=0;e<n.length;e+=1)r[e]=la(sa(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=k()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);y(t,e,n)},p(t,o){if(34&o){let i;for(n=t[5],i=0;i<n.length;i+=1){const s=sa(t,n,i);r[i]?r[i].p(s,o):(r[i]=la(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){$(r,t),t&&v(e)}}}function ua(t){let e,n,r,o,i,s=t[0]&&t[0].length&&aa(t);function a(e){t[6](e)}let l={$$slots:{default:[ca]},$$scope:{ctx:t}};return void 0!==t[1]&&(l.value=t[1]),r=new ni({props:l}),P.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(r,"value",a))),{c(){e=x("div"),s&&s.c(),n=w(),nt(r.$$.fragment),T(e,"class","scroller-wrapper svelte-1dh82gw")},m(t,o){y(t,e,o),s&&s.m(e,null),m(e,n),rt(r,e,null),i=!0},p(t,[i]){t[0]&&t[0].length?s?(s.p(t,i),1&i&&tt(s,1)):(s=aa(t),s.c(),tt(s,1),s.m(e,n)):s&&(J(),et(s,1,1,(()=>{s=null})),Q());const a={};var l;4098&i&&(a.$$scope={dirty:i,ctx:t}),!o&&2&i&&(o=!0,a.value=t[1],l=()=>o=!1,F.push(l)),r.$set(a)},i(t){i||(tt(s),tt(r.$$.fragment,t),i=!0)},o(t){et(s),et(r.$$.fragment,t),i=!1},d(t){t&&v(e),s&&s.d(),ot(r)}}}function fa(t,e,n){let r,o;let i="channel",s=zn(),a=[null,null];const l=ie().domain(["fL","L","C","AW","R","fR"]).range([0,1,2,3,4,5]),c=(u="cluster",f=l,function(t,e){return f(t[u])-f(e[u])});var u,f;return j((async()=>{const t=await jt("assets/data/channels.csv",Dt);n(0,r=t),r.sort(c)})),t.$$.update=()=>{3&t.$$.dirty&&(0==o||(1==o?(n(2,i="subscribers"),n(3,s=zn()),n(4,a=[null,null])):2==o?(n(2,i="cluster"),n(3,s=se()),n(4,a=["fL","L","C","AW","R","fR"])):3==o&&(n(2,i="index"),n(3,s=zn()),n(4,a=[null,null]),n(0,r=r.map(((t,e)=>Object.assign(Object.assign({},t),{index:e})))))))},[r,o,i,s,a,["<p>Here are the top 200 YouTube channels we monitor.</p>","<p>Some are bigger than others. The number of subscribers ranges from X to Z</p>","<p>The far right has more channels than the other groups.</p>","<p>Explore the data before we dive deeper into the politics of YouTube.</p>"],function(t){o=t,n(1,o)}]}class pa extends at{constructor(t){super(),st(this,t,fa,ua,i,{})}}function da(t){let e,n,r,o,i,s,a,l,c;return n=new ht({props:{title:t[0]}}),o=new yt({props:{text:t[1]}}),s=new bt({props:{authors:t[2]}}),l=new pa({}),{c(){e=x("main"),nt(n.$$.fragment),r=w(),nt(o.$$.fragment),i=w(),nt(s.$$.fragment),a=w(),nt(l.$$.fragment),T(e,"class","svelte-1ov0tqr")},m(t,u){y(t,e,u),rt(n,e,null),m(e,r),rt(o,e,null),m(e,i),rt(s,e,null),m(e,a),rt(l,e,null),c=!0},p(t,[e]){const r={};1&e&&(r.title=t[0]),n.$set(r);const i={};2&e&&(i.text=t[1]),o.$set(i);const a={};4&e&&(a.authors=t[2]),s.$set(a)},i(t){c||(tt(n.$$.fragment,t),tt(o.$$.fragment,t),tt(s.$$.fragment,t),tt(l.$$.fragment,t),c=!0)},o(t){et(n.$$.fragment,t),et(o.$$.fragment,t),et(s.$$.fragment,t),et(l.$$.fragment,t),c=!1},d(t){t&&v(e),ot(n),ot(o),ot(s),ot(l)}}}function ha(t,e,n){let{title:r}=e,{text:o="Lorem ipsum dolor sit, amet consectetur adipisicing elit. Commodi consequatur inventore exercitationem ex perferendis provident, earum cumque maiores quam quidem labore, mollitia odit eaque laborum?"}=e,{authors:i}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title),"text"in t&&n(1,o=t.text),"authors"in t&&n(2,i=t.authors)},[r,o,i]}class ga extends at{constructor(t){super(),st(this,t,ha,da,i,{title:0,text:1,authors:2})}}function ma(t,e={}){let n;const r=r=>{const o=r[0].isIntersecting?"enter":"exit";"enter"===o&&t.dispatchEvent(new CustomEvent(o)),"enter"===o&&e.once&&n.disconnect()},o=({root:e,top:o,bottom:i})=>{const s={root:e,rootMargin:`${o?-1*o:0}px 0px ${i?-1*i:0}px 0px`};n&&n.disconnect(),n=new IntersectionObserver(r,s),n.observe(t)};return o(e),{update(t){o(t)},destroy(){n&&n.disconnect()}}}const ya=Math.PI,va=2*ya,$a=1e-6,xa=va-$a;function _a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ba(){return new _a}function wa(t){return function(){return t}}function ka(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ma(t){this._context=t}function Ta(t){return new Ma(t)}function Ca(t){return t[0]}function Na(t){return t[1]}function za(t,e){var n=wa(!0),r=null,o=Ta,i=null;function s(s){var a,l,c,u=(s=ka(s)).length,f=!1;for(null==r&&(i=o(c=ba())),a=0;a<=u;++a)!(a<u&&n(l=s[a],a,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(l,a,s),+e(l,a,s));if(c)return i=null,c+""||null}return t="function"==typeof t?t:void 0===t?Ca:wa(t),e="function"==typeof e?e:void 0===e?Na:wa(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:wa(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:wa(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:wa(!!t),s):n},s.curve=function(t){return arguments.length?(o=t,null!=r&&(i=o(r)),s):o},s.context=function(t){return arguments.length?(null==t?r=i=null:i=o(r=t),s):r},s}function Sa(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Da(t){this._context=t}function Aa(t){return new Da(t)}function La(t,e){if((o=t.length)>1)for(var n,r,o,i=1,s=t[e[0]],a=s.length;i<o;++i)for(r=s,s=t[e[i]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Ea(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ra(t,e){return t[e]}function ja(t){const e=[];return e.key=t,e}function Ka(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function qa(t){let e,n,r,o;return{c(){e=_("path"),T(e,"class",n=d(`path-line path-${t[10][0]}`)+" svelte-1415x4j"),T(e,"d",r=t[1](t[10][1])),T(e,"stroke",o=t[3](t[10][1][0]))},m(t,n){y(t,e,n)},p(t,i){4&i&&n!==(n=d(`path-line path-${t[10][0]}`)+" svelte-1415x4j")&&T(e,"class",n),6&i&&r!==(r=t[1](t[10][1]))&&T(e,"d",r),12&i&&o!==(o=t[3](t[10][1][0]))&&T(e,"stroke",o)},d(t){t&&v(e)}}}function Ua(e){let n,r,o=e[2],i=[];for(let t=0;t<o.length;t+=1)i[t]=qa(Ka(e,o,t));return{c(){n=_("g");for(let t=0;t<i.length;t+=1)i[t].c();T(n,"class",r=d(`line-group line-group-${e[0]}`)+" svelte-1415x4j")},m(t,e){y(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(14&e){let r;for(o=t[2],r=0;r<o.length;r+=1){const s=Ka(t,o,r);i[r]?i[r].p(s,e):(i[r]=qa(s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}1&e&&r!==(r=d(`line-group line-group-${t[0]}`)+" svelte-1415x4j")&&T(n,"class",r)},i:t,o:t,d(t){t&&v(n),$(i,t)}}}function Pa(t,e,n){let r,o,i,s,l;const{data:c,xGet:u,yGet:f,zGet:p}=q("LayerCake");a(t,c,(t=>n(2,s=t))),a(t,u,(t=>n(9,i=t))),a(t,f,(t=>n(8,o=t))),a(t,p,(t=>n(3,l=t)));let{activeChart:d}=e;return t.$$set=t=>{"activeChart"in t&&n(0,d=t.activeChart)},t.$$.update=()=>{768&t.$$.dirty&&n(1,r=za().x((t=>i(t))).y((t=>o(t))).curve(Aa))},[d,r,s,l,c,u,f,p,o,i]}_a.prototype=ba.prototype={constructor:_a,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(t,e,n,r,o){t=+t,e=+e,n=+n,r=+r,o=+o;var i=this._x1,s=this._y1,a=n-t,l=r-e,c=i-t,u=s-e,f=c*c+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>$a)if(Math.abs(u*a-l*c)>$a&&o){var p=n-i,d=r-s,h=a*a+l*l,g=p*p+d*d,m=Math.sqrt(h),y=Math.sqrt(f),v=o*Math.tan((ya-Math.acos((h+f-g)/(2*m*y)))/2),$=v/y,x=v/m;Math.abs($-1)>$a&&(this._+="L"+(t+$*c)+","+(e+$*u)),this._+="A"+o+","+o+",0,0,"+ +(u*p>c*d)+","+(this._x1=t+x*a)+","+(this._y1=e+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,o,i){t=+t,e=+e,i=!!i;var s=(n=+n)*Math.cos(r),a=n*Math.sin(r),l=t+s,c=e+a,u=1^i,f=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>$a||Math.abs(this._y1-c)>$a)&&(this._+="L"+l+","+c),n&&(f<0&&(f=f%va+va),f>xa?this._+="A"+n+","+n+",0,1,"+u+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):f>$a&&(this._+="A"+n+","+n+",0,"+ +(f>=ya)+","+u+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Da.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sa(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};class Ya extends at{constructor(t){super(),st(this,t,Pa,Ua,i,{activeChart:0})}}function Fa(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function Ha(t){let e,n;return{c(){e=_("line"),T(e,"class","gridline svelte-pi1idn"),T(e,"y1",n=-1*t[11]),T(e,"y2","0"),T(e,"x1","0"),T(e,"x2","0")},m(t,n){y(t,e,n)},p(t,r){2048&r&&n!==(n=-1*t[11])&&T(e,"y1",n)},d(t){t&&v(e)}}}function Ia(t){let e,n,r;return{c(){e=_("line"),T(e,"class","tick-mark svelte-pi1idn"),T(e,"y1",0),T(e,"y2",6),T(e,"x1",n=t[5]||t[7]?t[8].bandwidth()/2:0),T(e,"x2",r=t[5]||t[7]?t[8].bandwidth()/2:0)},m(t,n){y(t,e,n)},p(t,o){416&o&&n!==(n=t[5]||t[7]?t[8].bandwidth()/2:0)&&T(e,"x1",n),416&o&&r!==(r=t[5]||t[7]?t[8].bandwidth()/2:0)&&T(e,"x2",r)},d(t){t&&v(e)}}}function Oa(t){let e,n,r,o,i,s,a,l,c=t[4](t[19])+"",u=!1!==t[0]&&Ha(t),f=!0===t[1]&&Ia(t);return{c(){e=_("g"),u&&u.c(),n=k(),f&&f.c(),r=_("text"),o=b(c),T(r,"x",i=t[5]||t[7]?t[8].bandwidth()/2:0),T(r,"y",t[6]),T(r,"dx",""),T(r,"dy",""),T(r,"text-anchor",s=t[17](t[21])),T(r,"class","svelte-pi1idn"),T(e,"class",a="tick tick-"+t[21]+" svelte-pi1idn"),T(e,"transform",l="translate("+t[8](t[19])+","+t[10][0]+")")},m(t,i){y(t,e,i),u&&u.m(e,null),m(e,n),f&&f.m(e,null),m(e,r),m(r,o)},p(t,s){!1!==t[0]?u?u.p(t,s):(u=Ha(t),u.c(),u.m(e,n)):u&&(u.d(1),u=null),!0===t[1]?f?f.p(t,s):(f=Ia(t),f.c(),f.m(e,r)):f&&(f.d(1),f=null),528&s&&c!==(c=t[4](t[19])+"")&&C(o,c),416&s&&i!==(i=t[5]||t[7]?t[8].bandwidth()/2:0)&&T(r,"x",i),64&s&&T(r,"y",t[6]),1792&s&&l!==(l="translate("+t[8](t[19])+","+t[10][0]+")")&&T(e,"transform",l)},d(t){t&&v(e),u&&u.d(),f&&f.d()}}}function Wa(t){let e,n,r;return{c(){e=_("line"),T(e,"class","baseline svelte-pi1idn"),T(e,"y1",n=t[11]+.5),T(e,"y2",r=t[11]+.5),T(e,"x1","0"),T(e,"x2",t[12])},m(t,n){y(t,e,n)},p(t,o){2048&o&&n!==(n=t[11]+.5)&&T(e,"y1",n),2048&o&&r!==(r=t[11]+.5)&&T(e,"y2",r),4096&o&&T(e,"x2",t[12])},d(t){t&&v(e)}}}function Ga(e){let n,r,o=e[9],i=[];for(let t=0;t<o.length;t+=1)i[t]=Oa(Fa(e,o,t));let s=!0===e[2]&&Wa(e);return{c(){n=_("g");for(let t=0;t<i.length;t+=1)i[t].c();r=k(),s&&s.c(),T(n,"class","axis x-axis svelte-pi1idn"),L(n,"snapTicks",e[3])},m(t,e){y(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null);m(n,r),s&&s.m(n,null)},p(t,[e]){if(135155&e){let s;for(o=t[9],s=0;s<o.length;s+=1){const a=Fa(t,o,s);i[s]?i[s].p(a,e):(i[s]=Oa(a),i[s].c(),i[s].m(n,r))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}!0===t[2]?s?s.p(t,e):(s=Wa(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),8&e&&L(n,"snapTicks",t[3])},i:t,o:t,d(t){t&&v(n),$(i,t),s&&s.d()}}}function Xa(t,e,n){let r,o,i,s,l,c;const{width:u,height:f,xScale:p,yRange:d}=q("LayerCake");a(t,u,(t=>n(12,c=t))),a(t,f,(t=>n(11,l=t))),a(t,p,(t=>n(8,i=t))),a(t,d,(t=>n(10,s=t)));let{gridlines:h=!0}=e,{tickMarks:g=!1}=e,{baseline:m=!1}=e,{snapTicks:y=!1}=e,{formatTick:v=(t=>t)}=e,{ticks:$}=e,{xTick:x=0}=e,{yTick:_=16}=e;return t.$$set=t=>{"gridlines"in t&&n(0,h=t.gridlines),"tickMarks"in t&&n(1,g=t.tickMarks),"baseline"in t&&n(2,m=t.baseline),"snapTicks"in t&&n(3,y=t.snapTicks),"formatTick"in t&&n(4,v=t.formatTick),"ticks"in t&&n(18,$=t.ticks),"xTick"in t&&n(5,x=t.xTick),"yTick"in t&&n(6,_=t.yTick)},t.$$.update=()=>{256&t.$$.dirty&&n(7,r="function"==typeof i.bandwidth),262528&t.$$.dirty&&n(9,o=Array.isArray($)?$:r?i.domain():"function"==typeof $?$(i.ticks()):i.ticks($))},[h,g,m,y,v,x,_,r,i,o,s,l,c,u,f,p,d,function(t){if(!0===y){if(0===t)return"start";if(t===o.length-1)return"end"}return"middle"},$]}class Va extends at{constructor(t){super(),st(this,t,Xa,Ga,i,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function Ba(t,e,n){const r=t.slice();return r[17]=e[n],r}function Za(t){let e,n,r;return{c(){e=_("line"),T(e,"class","gridline svelte-6edweo"),T(e,"x2","100%"),T(e,"y1",n=t[4]+(t[8]?t[9].bandwidth()/2:0)),T(e,"y2",r=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,n){y(t,e,n)},p(t,o){784&o&&n!==(n=t[4]+(t[8]?t[9].bandwidth()/2:0))&&T(e,"y1",n),784&o&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&T(e,"y2",r)},d(t){t&&v(e)}}}function Ja(t){let e,n,r,o;return{c(){e=_("line"),T(e,"class","tick-mark svelte-6edweo"),T(e,"x1","0"),T(e,"x2",n=t[8]?-6:6),T(e,"y1",r=t[4]+(t[8]?t[9].bandwidth()/2:0)),T(e,"y2",o=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,n){y(t,e,n)},p(t,i){256&i&&n!==(n=t[8]?-6:6)&&T(e,"x2",n),784&i&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&T(e,"y1",r),784&i&&o!==(o=t[4]+(t[8]?t[9].bandwidth()/2:0))&&T(e,"y2",o)},d(t){t&&v(e)}}}function Qa(t){let e,n,r,o,i,s,a,l,c,u=t[2](t[17])+"",f=!1!==t[0]&&Za(t),p=!0===t[1]&&Ja(t);return{c(){e=_("g"),f&&f.c(),n=k(),p&&p.c(),r=_("text"),o=b(u),T(r,"x",t[3]),T(r,"y",i=t[4]+(t[8]?t[9].bandwidth()/2:0)),T(r,"dx",s=t[8]?-9:t[5]),T(r,"dy",a=t[8]?4:t[6]),N(r,"text-anchor",t[8]?"end":t[7]),T(r,"class","svelte-6edweo"),T(e,"class",l="tick tick-"+t[17]+" svelte-6edweo"),T(e,"transform",c="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")},m(t,i){y(t,e,i),f&&f.m(e,null),m(e,n),p&&p.m(e,null),m(e,r),m(r,o)},p(t,d){!1!==t[0]?f?f.p(t,d):(f=Za(t),f.c(),f.m(e,n)):f&&(f.d(1),f=null),!0===t[1]?p?p.p(t,d):(p=Ja(t),p.c(),p.m(e,r)):p&&(p.d(1),p=null),1028&d&&u!==(u=t[2](t[17])+"")&&C(o,u),8&d&&T(r,"x",t[3]),784&d&&i!==(i=t[4]+(t[8]?t[9].bandwidth()/2:0))&&T(r,"y",i),288&d&&s!==(s=t[8]?-9:t[5])&&T(r,"dx",s),320&d&&a!==(a=t[8]?4:t[6])&&T(r,"dy",a),384&d&&N(r,"text-anchor",t[8]?"end":t[7]),1024&d&&l!==(l="tick tick-"+t[17]+" svelte-6edweo")&&T(e,"class",l),7936&d&&c!==(c="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")&&T(e,"transform",c)},d(t){t&&v(e),f&&f.d(),p&&p.d()}}}function tl(e){let n,r,o=e[10],i=[];for(let t=0;t<o.length;t+=1)i[t]=Qa(Ba(e,o,t));return{c(){n=_("g");for(let t=0;t<i.length;t+=1)i[t].c();T(n,"class","axis y-axis"),T(n,"transform",r="translate("+-e[11].left+", 0)")},m(t,e){y(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(8191&e){let r;for(o=t[10],r=0;r<o.length;r+=1){const s=Ba(t,o,r);i[r]?i[r].p(s,e):(i[r]=Qa(s),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}2048&e&&r!==(r="translate("+-t[11].left+", 0)")&&T(n,"transform",r)},i:t,o:t,d(t){t&&v(n),$(i,t)}}}function el(t,e,n){let r,o,i,s,l;const{padding:c,xRange:u,yScale:f}=q("LayerCake");a(t,c,(t=>n(11,s=t))),a(t,u,(t=>n(12,l=t))),a(t,f,(t=>n(9,i=t)));let{gridlines:p=!0}=e,{tickMarks:d=!1}=e,{formatTick:h=(t=>t)}=e,{ticks:g=4}=e,{xTick:m=0}=e,{yTick:y=0}=e,{dxTick:v=0}=e,{dyTick:$=-4}=e,{textAnchor:x="start"}=e;return t.$$set=t=>{"gridlines"in t&&n(0,p=t.gridlines),"tickMarks"in t&&n(1,d=t.tickMarks),"formatTick"in t&&n(2,h=t.formatTick),"ticks"in t&&n(16,g=t.ticks),"xTick"in t&&n(3,m=t.xTick),"yTick"in t&&n(4,y=t.yTick),"dxTick"in t&&n(5,v=t.dxTick),"dyTick"in t&&n(6,$=t.dyTick),"textAnchor"in t&&n(7,x=t.textAnchor)},t.$$.update=()=>{512&t.$$.dirty&&n(8,r="function"==typeof i.bandwidth),66304&t.$$.dirty&&n(10,o=Array.isArray(g)?g:r?i.domain():"function"==typeof g?g(i.ticks()):i.ticks(g))},[p,d,h,m,y,v,$,x,r,i,o,s,l,c,u,f,g]}class nl extends at{constructor(t){super(),st(this,t,el,tl,i,{gridlines:0,tickMarks:1,formatTick:2,ticks:16,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7})}}const rl=t=>({x:10&t,y:9&t,found:8&t,visible:4&t,e:16&t}),ol=t=>({x:t[1](t[3])||0,y:t[0](t[3])||0,found:t[3],visible:t[2],e:t[4]});function il(t){let e,n,o,i,s;const a=t[21].default,c=l(a,t,t[20],ol);return{c(){e=x("div"),n=w(),c&&c.c(),T(e,"class","bg svelte-x8at0i")},m(r,a){y(r,e,a),y(r,n,a),c&&c.m(r,a),o=!0,i||(s=[M(e,"mousemove",t[10]),M(e,"mouseout",t[22]),M(e,"blur",t[23])],i=!0)},p(t,[e]){c&&c.p&&(!o||1048607&e)&&f(c,a,t,t[20],o?u(a,t[20],e,rl):p(t[20]),ol)},i(t){o||(tt(c,t),o=!0)},o(t){et(c,t),o=!1},d(t){t&&v(e),t&&v(n),c&&c.d(t),i=!1,r(s)}}}function sl(t,e,n){let r,o,i,s,l,c,u,f,{$$slots:p={},$$scope:d}=e;const{data:h,xGet:g,yGet:m,width:y,height:v}=q("LayerCake");a(t,h,(t=>n(15,s=t))),a(t,g,(t=>n(18,u=t))),a(t,m,(t=>n(19,f=t))),a(t,y,(t=>n(17,c=t))),a(t,v,(t=>n(16,l=t)));let $=!1,x={},_={},{x:b="x"}=e,{y:w="y"}=e,{searchRadius:k}=e,{dataset:M}=e;return t.$$set=t=>{"x"in t&&n(11,b=t.x),"y"in t&&n(12,w=t.y),"searchRadius"in t&&n(13,k=t.searchRadius),"dataset"in t&&n(14,M=t.dataset),"$$scope"in t&&n(20,d=t.$$scope)},t.$$.update=()=>{788480&t.$$.dirty&&n(1,r="x"===b?u:f),790528&t.$$.dirty&&n(0,o="y"===w?f:u),245763&t.$$.dirty&&(i=Wi().extent([[-1,-1],[c+1,l+1]]).x(r).y(o).addAll(M||s))},[o,r,$,x,_,h,g,m,y,v,function(t){n(4,_=t);const e=`layer${b.toUpperCase()}`,r=`layer${w.toUpperCase()}`;n(3,x=i.find(t[e],t[r],k)||{}),n(2,$=Object.keys(x).length>0)},b,w,k,M,s,l,c,u,f,d,p,()=>{n(2,$=!1),n(3,x={})},()=>{n(2,$=!1),n(3,x={})}]}class al extends at{constructor(t){super(),st(this,t,sl,il,i,{x:11,y:12,searchRadius:13,dataset:14})}}function ll(t){const e=t[11](t[21]);t[23]=e}function cl(t,e,n){const r=t.slice();return r[24]=e[n],r}function ul(t){let e,n,r,o,i,s,a=t[0](t[21][t[4].x])+"",l=t[23],c=[];for(let e=0;e<l.length;e+=1)c[e]=fl(cl(t,l,e));return{c(){e=x("div"),n=w(),r=x("div"),o=x("div"),i=b(a),s=w();for(let t=0;t<c.length;t+=1)c[t].c();N(e,"left",t[12]+"px"),T(e,"class","line svelte-o1blw1"),T(o,"class","title svelte-o1blw1"),T(r,"class","tooltip svelte-o1blw1"),N(r,"width",hl+"px"),N(r,"display",t[20]?"block":"none"),N(r,"left",Math.min(Math.max(t[10],t[12]),t[6]-t[10])+"px")},m(t,a){y(t,e,a),y(t,n,a),y(t,r,a),m(r,o),m(o,i),m(r,s);for(let t=0;t<c.length;t+=1)c[t].m(r,null)},p(t,n){if(4096&n&&N(e,"left",t[12]+"px"),2097169&n&&a!==(a=t[0](t[21][t[4].x])+"")&&C(i,a),2099206&n){let e;for(l=t[23],e=0;e<l.length;e+=1){const o=cl(t,l,e);c[e]?c[e].p(o,n):(c[e]=fl(o),c[e].c(),c[e].m(r,null))}for(;e<c.length;e+=1)c[e].d(1);c.length=l.length}1048576&n&&N(r,"display",t[20]?"block":"none"),4160&n&&N(r,"left",Math.min(Math.max(t[10],t[12]),t[6]-t[10])+"px")},d(t){t&&v(e),t&&v(n),t&&v(r),$(c,t)}}}function fl(t){let e,n,r,o,i,s,a,l=t[2](t[24].label)+"",c=t[1](t[24].value)+"";return{c(){e=x("div"),n=x("span"),r=b(l),o=b(":"),i=w(),s=b(c),a=w(),T(n,"class","key svelte-o1blw1"),N(n,"--color",Rs.get(t[24].label)),T(e,"class","row")},m(t,l){y(t,e,l),m(e,n),m(n,r),m(n,o),m(e,i),m(e,s),m(e,a)},p(t,e){2097156&e&&l!==(l=t[2](t[24].label)+"")&&C(r,l),2097152&e&&N(n,"--color",Rs.get(t[24].label)),2097154&e&&c!==(c=t[1](t[24].value)+"")&&C(s,c)},d(t){t&&v(e)}}}function pl(t){let e;ll(t);let n=!0===t[20]&&ul(t);return{c(){n&&n.c(),e=k()},m(t,r){n&&n.m(t,r),y(t,e,r)},p(t,r){ll(t),!0===t[20]?n?n.p(t,r):(n=ul(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&v(e)}}}function dl(t){let e,n;return e=new al({props:{dataset:t[3]||t[5],y:"x",$$slots:{default:[pl,({x:t,y:e,visible:n,found:r,e:o})=>({12:t,19:e,20:n,21:r,22:o}),({x:t,y:e,visible:n,found:r,e:o})=>(t?4096:0)|(e?524288:0)|(n?1048576:0)|(r?2097152:0)|(o?4194304:0)]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,[n]){const r={};40&n&&(r.dataset=t[3]||t[5]),137367639&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}const hl=150;function gl(t,e,n){let r,o,i,s,l;const{data:c,width:u,yScale:f,config:p,x:d}=q("LayerCake");a(t,c,(t=>n(5,s=t))),a(t,u,(t=>n(6,l=t))),a(t,p,(t=>n(4,o=t))),a(t,d,(t=>n(14,i=t)));const h=bn(","),g=t=>t.replace(/^\w/,(t=>t.toUpperCase()));let{formatTitle:m=(t=>t)}=e,{formatValue:y=(t=>isNaN(+t)?t:h(t))}=e,{formatKey:v=(t=>g(t))}=e,{offset:$=-20}=e,{dataset:x}=e;const _=hl/2;return t.$$set=t=>{"formatTitle"in t&&n(0,m=t.formatTitle),"formatValue"in t&&n(1,y=t.formatValue),"formatKey"in t&&n(2,v=t.formatKey),"offset"in t&&n(13,$=t.offset),"dataset"in t&&n(3,x=t.dataset)},t.$$.update=()=>{16392&t.$$.dirty&&(r=Gt(x,i))},[m,y,v,x,o,s,l,c,u,p,_,function(t){if(t&&Object.keys(t).length){return r.get(t[o.x]).map((t=>({label:t[o.z],value:t[o.y]}))).sort(((t,e)=>e.value-t.value))}return[]},d,$,i]}class ml extends at{constructor(t){super(),st(this,t,gl,dl,i,{formatTitle:0,formatValue:1,formatKey:2,offset:13,dataset:3})}}function yl(t){let e,n,r,o,i,s;return e=new Va({props:{gridlines:!1,ticks:3,formatTick:t[8],snapTicks:!0,tickMarks:!1}}),r=new nl({props:{ticks:4,formatTick:t[9]}}),i=new Ya({props:{activeChart:t[1]}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment),o=w(),nt(i.$$.fragment)},m(t,a){rt(e,t,a),y(t,n,a),rt(r,t,a),y(t,o,a),rt(i,t,a),s=!0},p(t,n){const o={};256&n&&(o.formatTick=t[8]),e.$set(o);const s={};512&n&&(s.formatTick=t[9]),r.$set(s);const a={};2&n&&(a.activeChart=t[1]),i.$set(a)},i(t){s||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),tt(i.$$.fragment,t),s=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),et(i.$$.fragment,t),s=!1},d(t){ot(e,t),t&&v(n),ot(r,t),t&&v(o),ot(i,t)}}}function vl(t){let e,n;return e=new ml({props:{dataset:t[2],formatTitle:t[8],formatKey:t[13],formatValue:t[9]}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.dataset=t[2]),256&n&&(r.formatTitle=t[8]),512&n&&(r.formatValue=t[9]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function $l(t){let e,n,r,o;return e=new Pi({props:{$$slots:{default:[yl]},$$scope:{ctx:t}}}),r=new Li({props:{$$slots:{default:[vl]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};17154&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};17156&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function xl(t){let e,n;return{c(){e=x("div"),n=b(t[0]),T(e,"class","caption")},m(t,r){y(t,e,r),m(e,n)},p(t,e){1&e&&C(n,t[0])},d(t){t&&v(e)}}}function _l(t){let e,n,r,o,i;n=new Ni({props:{padding:{top:20,right:10,bottom:20,left:45},flatData:t[2],data:t[3],x:t[4],xScale:"date"===t[4]?Qo():zn(),y:t[5],yDomain:t[7],yNice:!0,z:t[6],zScale:ie(),zDomain:t[11],zRange:t[12],$$slots:{default:[$l]},$$scope:{ctx:t}}});let s=t[10]&&xl(t);return{c(){e=x("div"),nt(n.$$.fragment),r=w(),s&&s.c(),o=k(),T(e,"class","chart line-chart")},m(t,a){y(t,e,a),rt(n,e,null),y(t,r,a),s&&s.m(t,a),y(t,o,a),i=!0},p(t,[e]){const r={};4&e&&(r.flatData=t[2]),8&e&&(r.data=t[3]),16&e&&(r.x=t[4]),16&e&&(r.xScale="date"===t[4]?Qo():zn()),32&e&&(r.y=t[5]),128&e&&(r.yDomain=t[7]),64&e&&(r.z=t[6]),17158&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),t[10]?s?s.p(t,e):(s=xl(t),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},i(t){i||(tt(n.$$.fragment,t),i=!0)},o(t){et(n.$$.fragment,t),i=!1},d(t){t&&v(e),ot(n),t&&v(r),s&&s.d(t),t&&v(o)}}}function bl(t,e,n){let{caption:r="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=e,{activeChart:o}=e,{data:i}=e,{groupedData:s}=e,{xKey:a}=e,{yKey:l}=e,{zKey:c}=e,{yDomain:u=[0,null]}=e,{formatTickX:f}=e,{formatTickY:p=(t=>t.toFixed(0))}=e,{includeCaption:d=!0}=e,h=Array.from(Rs).map((t=>t[0])),g=Array.from(Rs).map((t=>t[1]));return t.$$set=t=>{"caption"in t&&n(0,r=t.caption),"activeChart"in t&&n(1,o=t.activeChart),"data"in t&&n(2,i=t.data),"groupedData"in t&&n(3,s=t.groupedData),"xKey"in t&&n(4,a=t.xKey),"yKey"in t&&n(5,l=t.yKey),"zKey"in t&&n(6,c=t.zKey),"yDomain"in t&&n(7,u=t.yDomain),"formatTickX"in t&&n(8,f=t.formatTickX),"formatTickY"in t&&n(9,p=t.formatTickY),"includeCaption"in t&&n(10,d=t.includeCaption)},[r,o,i,s,a,l,c,u,f,p,d,h,g,t=>Ls.get(t)]}class wl extends at{constructor(t){super(),st(this,t,bl,_l,i,{caption:0,activeChart:1,data:2,groupedData:3,xKey:4,yKey:5,zKey:6,yDomain:7,formatTickX:8,formatTickY:9,includeCaption:10})}}function kl(t,e,n=null){return e.reduce(((e,r)=>{const o=Number.isInteger(n)||null!==n?t.filter((t=>t[n]===r)):t.filter((t=>t===r));return o.length&&o.forEach((t=>e.push(t))),e}),[])}const Ml=["fL","L","C","AW","R","fR"];function Tl(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function Cl(t,e,n){const r=t.slice();return r[11]=e[n],r[10]=n,r}function Nl(t){let e,n,r,o,i,s,a,l,c,u,f=Array.isArray(t[0])&&t[0].length>=2,p=f&&zl(t),h=kl(t[5].map(Ll),Ml),g=[];for(let e=0;e<h.length;e+=1)g[e]=Dl(Tl(t,h,e));return a=new wl({props:{data:t[2],groupedData:t[5],xKey:t[3].xKey,yKey:t[3].yKey,zKey:t[3].zKey,activeChart:t[4],includeCaption:t[3].includeCaption,formatTickX:t[3].formatTickX,formatTickY:t[3].formatTickY}}),{c(){e=x("h3"),n=b("YouTube consumption:\n        "),p&&p.c(),r=w(),o=x("div");for(let t=0;t<g.length;t+=1)g[t].c();i=w(),s=x("div"),nt(a.$$.fragment),T(e,"class","chart-title svelte-1a2dqv4"),T(o,"class","legend-container svelte-1a2dqv4"),T(s,"class",l=d("chart-wrapper "+(12===t[1]?"split-cols":"single-cols"))+" svelte-1a2dqv4"),T(s,"style",c=`--spanCol: ${t[1]}`)},m(t,l){y(t,e,l),m(e,n),p&&p.m(e,null),y(t,r,l),y(t,o,l);for(let t=0;t<g.length;t+=1)g[t].m(o,null);y(t,i,l),y(t,s,l),rt(a,s,null),u=!0},p(t,n){if(1&n&&(f=Array.isArray(t[0])&&t[0].length>=2),f?p?p.p(t,n):(p=zl(t),p.c(),p.m(e,null)):p&&(p.d(1),p=null),32&n){let e;for(h=kl(t[5].map(Ll),Ml),e=0;e<h.length;e+=1){const r=Tl(t,h,e);g[e]?g[e].p(r,n):(g[e]=Dl(r),g[e].c(),g[e].m(o,null))}for(;e<g.length;e+=1)g[e].d(1);g.length=h.length}const r={};4&n&&(r.data=t[2]),32&n&&(r.groupedData=t[5]),8&n&&(r.xKey=t[3].xKey),8&n&&(r.yKey=t[3].yKey),8&n&&(r.zKey=t[3].zKey),16&n&&(r.activeChart=t[4]),8&n&&(r.includeCaption=t[3].includeCaption),8&n&&(r.formatTickX=t[3].formatTickX),8&n&&(r.formatTickY=t[3].formatTickY),a.$set(r),(!u||2&n&&l!==(l=d("chart-wrapper "+(12===t[1]?"split-cols":"single-cols"))+" svelte-1a2dqv4"))&&T(s,"class",l),(!u||2&n&&c!==(c=`--spanCol: ${t[1]}`))&&T(s,"style",c)},i(t){u||(tt(a.$$.fragment,t),u=!0)},o(t){et(a.$$.fragment,t),u=!1},d(t){t&&v(e),p&&p.d(),t&&v(r),t&&v(o),$(g,t),t&&v(i),t&&v(s),ot(a)}}}function zl(t){let e,n,r,o=t[0],i=[];for(let e=0;e<o.length;e+=1)i[e]=Sl(Cl(t,o,e));return{c(){e=x("select");for(let t=0;t<i.length;t+=1)i[t].c();T(e,"type","select"),void 0===t[4]&&O((()=>t[7].call(e)))},m(o,s){y(o,e,s);for(let t=0;t<i.length;t+=1)i[t].m(e,null);z(e,t[4]),n||(r=M(e,"change",t[7]),n=!0)},p(t,n){if(1&n){let r;for(o=t[0],r=0;r<o.length;r+=1){const s=Cl(t,o,r);i[r]?i[r].p(s,n):(i[r]=Sl(s),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}17&n&&z(e,t[4])},d(t){t&&v(e),$(i,t),n=!1,r()}}}function Sl(t){let e,n,r,o=t[11].description+"";return{c(){e=x("option"),n=b(o),e.__value=r=t[11].url,e.value=e.__value},m(t,r){y(t,e,r),m(e,n)},p(t,i){1&i&&o!==(o=t[11].description+"")&&C(n,o),1&i&&r!==(r=t[11].url)&&(e.__value=r,e.value=e.__value)},d(t){t&&v(e)}}}function Dl(t){let e,n,r,o,i,s=Ls.get(t[8])+"";return{c(){e=x("div"),n=x("span"),r=b(s),i=w(),T(n,"class","legend-label svelte-1a2dqv4"),T(n,"style",o=`--color: ${Rs.get(t[8])}`),T(e,"class","legend-group svelte-1a2dqv4")},m(t,o){y(t,e,o),m(e,n),m(n,r),m(e,i)},p(t,e){32&e&&s!==(s=Ls.get(t[8])+"")&&C(r,s),32&e&&o!==(o=`--color: ${Rs.get(t[8])}`)&&T(n,"style",o)},d(t){t&&v(e)}}}function Al(t){let e,n,r=t[4]&&t[3]&&Nl(t);return{c(){r&&r.c(),e=k()},m(t,o){r&&r.m(t,o),y(t,e,o),n=!0},p(t,[n]){t[4]&&t[3]?r?(r.p(t,n),24&n&&tt(r,1)):(r=Nl(t),r.c(),tt(r,1),r.m(e.parentNode,e)):r&&(J(),et(r,1,1,(()=>{r=null})),Q())},i(t){n||(tt(r),n=!0)},o(t){et(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}const Ll=t=>t[0];function El(t,e,n){let r,o,i,s,{config:a}=e,{spanCol:l=12}=e,c={};return j((async()=>{(Array.isArray(a)?a:[a]).map((async(t,e)=>{const r=await jt(t.url,Dt);n(6,c[t.url]=r.map((t=>Object.assign(Object.assign({},t),{date:new Date(t.year,t.month,1)}))),c),0===e&&(n(4,s=t.url),n(3,i=t))}))})),t.$$set=t=>{"config"in t&&n(0,a=t.config),"spanCol"in t&&n(1,l=t.spanCol)},t.$$.update=()=>{80&t.$$.dirty&&n(2,o=c?c[s]:[]),17&t.$$.dirty&&n(3,i=Array.isArray(a)?a.filter((t=>t.url===s))[0]:a),12&t.$$.dirty&&n(5,r=o?Xt(o,(t=>t[i.zKey])):[])},[a,l,o,i,s,r,c,function(){s=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(4,s),n(0,a)}]}class Rl extends at{constructor(t){super(),st(this,t,El,Al,i,{config:0,spanCol:1})}}var jl="Youtube Politics",Kl={copy:[{type:"text",value:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Excepturi temporibus [1] architecto reprehenderit ipsum harum repellendus consequatur magnam numquam quos dicta sunt cupiditate unde, aperiam [2] delectus debitis ab corrupti hic praesentium?"},{type:"text",value:"Iusto minus quae temporibus deleniti vel exercitationem, repellat recusandae quam totam laboriosam!"}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for Democracy, 2015"}]},ql={copy:[{type:"text",value:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Excepturi temporibus architecto reprehenderit ipsum harum repellendus consequatur magnam numquam quos dicta sunt cupiditate unde, aperiam delectus debitis ab corrupti hic praesentium?"},{type:"text",value:"Cupiditate unde, aperiam delectus debitis ab corrupti hic praesentium?"},{type:"text",value:"Reprehenderit ipsum harum repellendus consequatur magnam. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Excepturi temporibus. Prem ipsum dolor sit, amet consectetur adipisicing elit. Excepturi temporibus architecto architecto."}],references:[{type:"text",value:"Iyengar et al, The origins and consequences of affective polarization in the United States, 2019"},{type:"text",value:"Jones, Declining trust in congress: Effects of polarization and consequences for"},{type:"text",value:"Democracy, 2015"}]};function Ul(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function Pl(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function Yl(e){let n;return{c(){n=x("div"),T(n,"class","chart-placeholder svelte-fjbk1c")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function Fl(e){let n,r;return n=new Rl({props:{config:[{url:"assets/data/fig3a_smoothed.csv",description:"Median video duration",type:"line",xKey:"date",yKey:"median_duration",zKey:"label",includeCaption:!0,formatTickX:Dr("%b %Y"),formatTickY:Wl},{url:"assets/data/fig3b_smoothed.csv",description:"Median user consumption duration",type:"line",xKey:"date",yKey:"median_user_watchtime",zKey:"label",includeCaption:!0,formatTickX:Dr("%b %Y"),formatTickY:Gl}]}}),{c(){nt(n.$$.fragment)},m(t,e){rt(n,t,e),r=!0},p:t,i(t){r||(tt(n.$$.fragment,t),r=!0)},o(t){et(n.$$.fragment,t),r=!1},d(t){ot(n,t)}}}function Hl(e){let n,r,o,i=e[3].value+"";return{c(){n=x("p"),r=b(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Il(e){let n,r,o,i,s,a,l,c,u=e[5]+1+"",f=e[3].value+"";return{c(){n=x("p"),r=x("span"),o=b("["),i=b(u),s=b("]"),a=w(),l=b(f),c=w()},m(t,e){y(t,n,e),m(n,r),m(r,o),m(r,i),m(r,s),m(n,a),m(n,l),m(n,c)},p:t,d(t){t&&v(n)}}}function Ol(t){let e,n,i,s,a,l,c,u,f,p,d,h,_;const b=[Fl,Yl],k=[];function C(t,e){return t[1]?0:1}s=C(t),a=k[s]=b[s](t);let N=Kl.copy,z=[];for(let e=0;e<N.length;e+=1)z[e]=Hl(Pl(t,N,e));let S=Kl.references,D=[];for(let e=0;e<S.length;e+=1)D[e]=Il(Ul(t,S,e));return{c(){e=x("div"),n=x("h2"),n.textContent="Section 1 title",i=w(),a.c(),l=w(),c=x("div");for(let t=0;t<z.length;t+=1)z[t].c();u=w(),f=x("div");for(let t=0;t<D.length;t+=1)D[t].c();T(n,"class","section-title svelte-fjbk1c"),T(c,"class","copy svelte-fjbk1c"),T(f,"class","references svelte-fjbk1c"),T(e,"class","section section-1 svelte-fjbk1c")},m(r,o){y(r,e,o),m(e,n),m(e,i),k[s].m(e,null),m(e,l),m(e,c);for(let t=0;t<z.length;t+=1)z[t].m(c,null);m(e,u),m(e,f);for(let t=0;t<D.length;t+=1)D[t].m(f,null);d=!0,h||(_=[g(p=ma.call(null,e,{once:t[0]})),M(e,"enter",t[2])],h=!0)},p(t,[n]){let r=s;if(s=C(t),s===r?k[s].p(t,n):(J(),et(k[r],1,1,(()=>{k[r]=null})),Q(),a=k[s],a?a.p(t,n):(a=k[s]=b[s](t),a.c()),tt(a,1),a.m(e,l)),0&n){let e;for(N=Kl.copy,e=0;e<N.length;e+=1){const r=Pl(t,N,e);z[e]?z[e].p(r,n):(z[e]=Hl(r),z[e].c(),z[e].m(c,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=N.length}if(0&n){let e;for(S=Kl.references,e=0;e<S.length;e+=1){const r=Ul(t,S,e);D[e]?D[e].p(r,n):(D[e]=Il(r),D[e].c(),D[e].m(f,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=S.length}p&&o(p.update)&&1&n&&p.update.call(null,{once:t[0]})},i(t){d||(tt(a),d=!0)},o(t){et(a),d=!1},d(t){t&&v(e),k[s].d(),$(z,t),$(D,t),h=!1,r(_)}}}const Wl=t=>t.toFixed(0),Gl=t=>t.toFixed(0);function Xl(t,e,n){let r=!1,{once:o}=e;return t.$$set=t=>{"once"in t&&n(0,o=t.once)},[o,r,()=>n(1,r=!0)]}class Vl extends at{constructor(t){super(),st(this,t,Xl,Ol,i,{once:0})}}function Bl(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Zl(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Jl(e){let n;return{c(){n=x("div"),T(n,"class","chart-placeholder svelte-1ujva5")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function Ql(e){let n,r;return n=new Rl({props:{config:[{url:"assets/data/fig2a_ledwich.csv",description:"User share",type:"line",xKey:"date",yKey:"user_percent",zKey:"label",formatTickX:Dr("%b %Y"),formatTickY:e[2]},{url:"assets/data/fig2b_ledwich.csv",description:"Total consumption share",type:"line",xKey:"date",yKey:"percentage_duration",zKey:"label",formatTickX:Dr("%b %Y"),formatTickY:e[3]}]}}),{c(){nt(n.$$.fragment)},m(t,e){rt(n,t,e),r=!0},p:t,i(t){r||(tt(n.$$.fragment,t),r=!0)},o(t){et(n.$$.fragment,t),r=!1},d(t){ot(n,t)}}}function tc(e){let n,r,o,i=e[5].value+"";return{c(){n=x("p"),r=b(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function ec(e){let n,r,o,i,s,a,l,c,u=e[7]+1+"",f=e[5].value+"";return{c(){n=x("p"),r=x("span"),o=b("["),i=b(u),s=b("]"),a=w(),l=b(f),c=w()},m(t,e){y(t,n,e),m(n,r),m(r,o),m(r,i),m(r,s),m(n,a),m(n,l),m(n,c)},p:t,d(t){t&&v(n)}}}function nc(t){let e,n,i,s,a,l,c,u,f,p,d;const h=[Ql,Jl],_=[];function b(t,e){return t[1]?0:1}n=b(t),i=_[n]=h[n](t);let k=ql.copy,C=[];for(let e=0;e<k.length;e+=1)C[e]=tc(Zl(t,k,e));let N=ql.references,z=[];for(let e=0;e<N.length;e+=1)z[e]=ec(Bl(t,N,e));return{c(){e=x("div"),i.c(),s=w(),a=x("div");for(let t=0;t<C.length;t+=1)C[t].c();l=w(),c=x("div");for(let t=0;t<z.length;t+=1)z[t].c();T(a,"class","copy svelte-1ujva5"),T(c,"class","references svelte-1ujva5"),T(e,"class","section section-2 svelte-1ujva5")},m(r,o){y(r,e,o),_[n].m(e,null),m(e,s),m(e,a);for(let t=0;t<C.length;t+=1)C[t].m(a,null);m(e,l),m(e,c);for(let t=0;t<z.length;t+=1)z[t].m(c,null);f=!0,p||(d=[g(u=ma.call(null,e,{once:t[0]})),M(e,"enter",t[4])],p=!0)},p(t,[r]){let l=n;if(n=b(t),n===l?_[n].p(t,r):(J(),et(_[l],1,1,(()=>{_[l]=null})),Q(),i=_[n],i?i.p(t,r):(i=_[n]=h[n](t),i.c()),tt(i,1),i.m(e,s)),0&r){let e;for(k=ql.copy,e=0;e<k.length;e+=1){const n=Zl(t,k,e);C[e]?C[e].p(n,r):(C[e]=tc(n),C[e].c(),C[e].m(a,null))}for(;e<C.length;e+=1)C[e].d(1);C.length=k.length}if(0&r){let e;for(N=ql.references,e=0;e<N.length;e+=1){const n=Bl(t,N,e);z[e]?z[e].p(n,r):(z[e]=ec(n),z[e].c(),z[e].m(c,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=N.length}u&&o(u.update)&&1&r&&u.update.call(null,{once:t[0]})},i(t){f||(tt(i),f=!0)},o(t){et(i),f=!1},d(t){t&&v(e),_[n].d(),$(C,t),$(z,t),p=!1,r(d)}}}function rc(t,e,n){let r=!1,{once:o}=e;return t.$$set=t=>{"once"in t&&n(0,o=t.once)},[o,r,t=>bn(".1%")(t).replace(/[.,]0+/,""),t=>bn(".2%")(t).replace(/[.,]0+/,""),()=>n(1,r=!0)]}class oc extends at{constructor(t){super(),st(this,t,rc,nc,i,{once:0})}}function ic(t,e,n){const r=t.slice();return r[19]=e[n],r}function sc(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function ac(t){let e,n,o,i,s,a,l,c;function u(...e){return t[13](t[19],t[22],...e)}function f(...e){return t[14](t[22],...e)}return{c(){e=_("rect"),T(e,"class","group-rect svelte-yc7lmv"),T(e,"data-id",t[24]),T(e,"x",n=t[0](t[22])[0]),T(e,"y",o=t[3](t[22])),T(e,"height",i=t[4].bandwidth()),T(e,"width",s=t[1](t[22])),T(e,"fill",a=t[5](t[19])),T(e,"stroke","white")},m(n,r){y(n,e,r),l||(c=[M(e,"mouseover",u),M(e,"focus",f),M(e,"mouseout",t[15]),M(e,"blur",t[16])],l=!0)},p(r,l){t=r,5&l&&n!==(n=t[0](t[22])[0])&&T(e,"x",n),12&l&&o!==(o=t[3](t[22]))&&T(e,"y",o),16&l&&i!==(i=t[4].bandwidth())&&T(e,"height",i),6&l&&s!==(s=t[1](t[22]))&&T(e,"width",s),36&l&&a!==(a=t[5](t[19]))&&T(e,"fill",a)},d(t){t&&v(e),l=!1,r(c)}}}function lc(t){let e,n,r=t[19],o=[];for(let e=0;e<r.length;e+=1)o[e]=ac(sc(t,r,e));return{c(){e=_("g");for(let t=0;t<o.length;t+=1)o[t].c();T(e,"class",n=d(`series-group series-${t[19].key}`)+" svelte-yc7lmv")},m(t,n){y(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,i){if(6207&i){let n;for(r=t[19],n=0;n<r.length;n+=1){const s=sc(t,r,n);o[n]?o[n].p(s,i):(o[n]=ac(s),o[n].c(),o[n].m(e,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=r.length}4&i&&n!==(n=d(`series-group series-${t[19].key}`)+" svelte-yc7lmv")&&T(e,"class",n)},d(t){t&&v(e),$(o,t)}}}function cc(e){let n,r=e[2],o=[];for(let t=0;t<r.length;t+=1)o[t]=lc(ic(e,r,t));return{c(){n=_("g");for(let t=0;t<o.length;t+=1)o[t].c();T(n,"class","bar-group")},m(t,e){y(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(6207&e){let i;for(r=t[2],i=0;i<r.length;i+=1){const s=ic(t,r,i);o[i]?o[i].p(s,e):(o[i]=lc(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&v(n),$(o,t)}}}function uc(t,e,n){let r,o,i,s,l,c;const{data:u,xGet:f,yGet:p,zGet:d,yScale:h,zScale:g}=q("LayerCake");a(t,u,(t=>n(2,i=t))),a(t,f,(t=>n(0,o=t))),a(t,p,(t=>n(3,s=t))),a(t,d,(t=>n(5,c=t))),a(t,h,(t=>n(4,l=t)));const m=K();function y(t,e){m("mousemove",{e:t,props:e}),document.querySelectorAll(".group-rect").forEach((e=>{e!==t.target?e.classList.add("inactive"):e.classList.add("active")}))}function v(t){m("mouseout"),document.querySelectorAll(".group-rect").forEach((t=>t.classList.remove("inactive"))),t.target.classList.remove("active")}return t.$$.update=()=>{1&t.$$.dirty&&n(1,r=t=>{const e=o(t);return e[1]-e[0]})},[o,r,i,s,l,c,u,f,p,d,h,y,v,(t,e,n)=>y(n,{key:t.key,...e.data}),(t,e)=>y(e,t),t=>v(t),t=>v(t)]}class fc extends at{constructor(t){super(),st(this,t,uc,cc,i,{})}}const pc=t=>bn(`.${t}%`);function dc(t){const e={...t[24].props};t[25]=e}function hc(t,e,n){const r=t.slice();r[26]=e[n];const o=r[25][r[25].key];return r[27]=o,r}function gc(t){let e,n,r,o,i,s;return e=new Va({props:{gridlines:!1,ticks:3,snapTicks:!0,tickMarks:!0}}),r=new nl({props:{gridlines:!1,formatTick:t[18]}}),i=new fc({}),i.$on("mousemove",t[19]),i.$on("mouseout",t[20]),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment),o=w(),nt(i.$$.fragment)},m(t,a){rt(e,t,a),y(t,n,a),rt(r,t,a),y(t,o,a),rt(i,t,a),s=!0},p(t,e){const n={};32&e&&(n.formatTick=t[18]),r.$set(n)},i(t){s||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),tt(i.$$.fragment,t),s=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),et(i.$$.fragment,t),s=!1},d(t){ot(e,t),t&&v(n),ot(r,t),t&&v(o),ot(i,t)}}}function mc(t){let e,n;return e=new Gs({props:{evt:t[12],offset:-10,$$slots:{default:[vc,({detail:t})=>({24:t}),({detail:t})=>t?16777216:0]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};4096&n&&(r.evt=t[12]),1090519536&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function yc(t){let e,n,r=t[4](t[27])+"";return{c(){e=x("div"),n=b(r),T(e,"class","row")},m(t,r){y(t,e,r),m(e,n)},p(t,e){16777232&e&&r!==(r=t[4](t[27])+"")&&C(n,r)},d(t){t&&v(e)}}}function vc(t){let e,n;dc(t);let r,o,i,s,a,l,c=t[5].get(t[25].cluster)+"",u=t[6].get(t[25].key)+"",f=["value"],p=[];for(let e=0;e<1;e+=1)p[e]=yc(hc(t,f,e));return{c(){e=x("div"),n=x("span"),r=b(c),o=b(" ➞\n\t\t\t\t\t\t\t"),i=x("span"),s=b(u),a=w();for(let t=0;t<1;t+=1)p[t].c();l=k(),T(n,"class","cluster-label svelte-1ypgxoq"),N(n,"--color",t[7].get(t[25].cluster)),T(i,"class","cluster-label svelte-1ypgxoq"),N(i,"--color",t[8].get(t[25].key))},m(t,c){y(t,e,c),m(e,n),m(n,r),m(e,o),m(e,i),m(i,s),y(t,a,c);for(let e=0;e<1;e+=1)p[e].m(t,c);y(t,l,c)},p(t,e){if(dc(t),16777248&e&&c!==(c=t[5].get(t[25].cluster)+"")&&C(r,c),16777344&e&&N(n,"--color",t[7].get(t[25].cluster)),16777280&e&&u!==(u=t[6].get(t[25].key)+"")&&C(s,u),16777472&e&&N(i,"--color",t[8].get(t[25].key)),16777232&e){let n;for(f=["value"],n=0;n<1;n+=1){const r=hc(t,f,n);p[n]?p[n].p(r,e):(p[n]=yc(r),p[n].c(),p[n].m(l.parentNode,l))}for(;n<1;n+=1)p[n].d(1)}},d(t){t&&v(e),t&&v(a),$(p,t),t&&v(l)}}}function $c(t){let e,n,r=!0!==t[13]&&mc(t);return{c(){r&&r.c(),e=k()},m(t,o){r&&r.m(t,o),y(t,e,o),n=!0},p(t,n){!0!==t[13]?r?(r.p(t,n),8192&n&&tt(r,1)):(r=mc(t),r.c(),tt(r,1),r.m(e.parentNode,e)):r&&(J(),et(r,1,1,(()=>{r=null})),Q())},i(t){n||(tt(r),n=!0)},o(t){et(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function xc(t){let e,n,r,o;return e=new Pi({props:{$$slots:{default:[gc]},$$scope:{ctx:t}}}),r=new Li({props:{pointerEvents:!1,$$slots:{default:[$c]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};1073754144&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};1073754608&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function _c(t){let e,n,r,o,i;return{c(){e=x("div"),n=b(t[9]),r=w(),o=x("a"),i=b("Download data"),T(o,"class","download-button"),T(o,"href",t[0]),T(o,"download",""),T(e,"class","caption")},m(t,s){y(t,e,s),m(e,n),m(e,r),m(e,o),m(o,i)},p(t,e){512&e&&C(n,t[9]),1&e&&T(o,"href",t[0])},d(t){t&&v(e)}}}function bc(t){let e,n,r,o,i,s,a;r=new Ni({props:{padding:{top:0,right:0,bottom:15,left:45},flatData:Yi(t[14]),data:t[14],x:t[2],y:t[21],yScale:se().paddingInner([.25]).paddingOuter([.01]).round(!0),yDomain:t[15],z:t[3],zScale:ie(),zDomain:t[15],zRange:t[16],$$slots:{default:[xc]},$$scope:{ctx:t}}});let l=t[10]&&_c(t);return{c(){e=x("div"),n=x("div"),nt(r.$$.fragment),o=w(),l&&l.c(),T(n,"class","chart stacked-bar-chart"),T(e,"class",i=d("chart-wrapper "+(12===t[11]?"split-cols":"single-cols"))+" svelte-1ypgxoq"),T(e,"style",s=`--spanCol: ${t[11]}`)},m(t,i){y(t,e,i),m(e,n),rt(r,n,null),m(e,o),l&&l.m(e,null),a=!0},p(t,[n]){const o={};4&n&&(o.x=t[2]),2&n&&(o.y=t[21]),8&n&&(o.z=t[3]),1073754608&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o),t[10]?l?l.p(t,n):(l=_c(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),(!a||2048&n&&i!==(i=d("chart-wrapper "+(12===t[11]?"split-cols":"single-cols"))+" svelte-1ypgxoq"))&&T(e,"class",i),(!a||2048&n&&s!==(s=`--spanCol: ${t[11]}`))&&T(e,"style",s)},i(t){a||(tt(r.$$.fragment,t),a=!0)},o(t){et(r.$$.fragment,t),a=!1},d(t){t&&v(e),ot(r),l&&l.d()}}}function wc(t,e,n){let{data:r}=e,{url:o}=e,{yKey:i}=e,{xKey:s}=e,{zKey:a}=e,{formatter:l=pc(0)}=e,{clusterLabelMap:c=Ls}=e,{keyLabelMap:u=Ls}=e,{clusterColorMap:f=Rs}=e,{keyColorMap:p=Rs}=e,{caption:d="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=e,{includeCaption:h=!0}=e,{spanCol:g=12}=e;const m=r.columns.filter((t=>t!==i)),y=function(){var t=wa([]),e=Ea,n=La,r=Ra;function o(o){var i,s,a=Array.from(t.apply(this,arguments),ja),l=a.length,c=-1;for(const t of o)for(i=0,++c;i<l;++i)(a[i][c]=[0,+r(t,a[i].key,c,o)]).data=t;for(i=0,s=ka(e(a));i<l;++i)a[s[i]].index=i;return n(a,s),a}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:wa(Array.from(e)),o):t},o.value=function(t){return arguments.length?(r="function"==typeof t?t:wa(+t),o):r},o.order=function(t){return arguments.length?(e=null==t?Ea:"function"==typeof t?t:wa(Array.from(t)),o):e},o.offset=function(t){return arguments.length?(n=null==t?La:t,o):n},o}().keys(m),v=y(r);let $,x=kl(r.map((t=>t[i])),Ml),_=Array.from(p).filter((t=>m.includes(t[0]))).map((t=>t[1])),b=!0;return t.$$set=t=>{"data"in t&&n(17,r=t.data),"url"in t&&n(0,o=t.url),"yKey"in t&&n(1,i=t.yKey),"xKey"in t&&n(2,s=t.xKey),"zKey"in t&&n(3,a=t.zKey),"formatter"in t&&n(4,l=t.formatter),"clusterLabelMap"in t&&n(5,c=t.clusterLabelMap),"keyLabelMap"in t&&n(6,u=t.keyLabelMap),"clusterColorMap"in t&&n(7,f=t.clusterColorMap),"keyColorMap"in t&&n(8,p=t.keyColorMap),"caption"in t&&n(9,d=t.caption),"includeCaption"in t&&n(10,h=t.includeCaption),"spanCol"in t&&n(11,g=t.spanCol)},[o,i,s,a,l,c,u,f,p,d,h,g,$,b,v,x,_,r,t=>c.get(t),t=>n(12,$=n(13,b=t)),()=>n(13,b=!0),t=>t.data[i]]}class kc extends at{constructor(t){super(),st(this,t,wc,bc,i,{data:17,url:0,yKey:1,xKey:2,zKey:3,formatter:4,clusterLabelMap:5,keyLabelMap:6,clusterColorMap:7,keyColorMap:8,caption:9,includeCaption:10,spanCol:11})}}function Mc(){var t={},e=24,n=8,r=[1,1],o=[],i=[];function s(){function t(t,e){return t.source.x-e.source.x}function e(t,e){return t.target.x-e.target.x}o.forEach((function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)})),o.forEach((function(t){var e=0,n=0;t.sourceLinks.forEach((function(t){t.sy=e,e+=t.dy})),t.targetLinks.forEach((function(t){t.ty=n,n+=t.dy}))}))}function a(t){return t.y+t.dy/2}function l(t){return t.value}return t.nodeWidth=function(n){return arguments.length?(e=+n,t):e},t.nodePadding=function(e){return arguments.length?(n=+e,t):n},t.nodes=function(e){return arguments.length?(o=e,t):o},t.links=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(r=e,t):r},t.layout=function(c){return o.forEach((function(t){t.sourceLinks=[],t.targetLinks=[]})),i.forEach((function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=o[t.source]),"number"==typeof n&&(n=t.target=o[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})),o.forEach((function(t){t.value=Math.max(ne(t.sourceLinks,l),ne(t.targetLinks,l))})),function(){var t,n=o,i=0;for(;n.length;)t=[],n.forEach((function(e){e.y=i,e.sourceLinks.forEach((function(e){t.indexOf(e.target)<0&&t.push(e.target)}))})),n=t,++i;(function(t){o.forEach((function(e){e.sourceLinks.length||(e.y=t-1)}))})(i),s=(r[1]-e)/(i-1),o.forEach((function(t){t.y*=s}));var s}(),function(t){var e=Xt(o,(function(t){return t.y})).map((function(t){return t[1]})),s=(r[0]-(e[0].length-1)*n)/ne(e[0],l);e.forEach((function(t){t.forEach((function(t,e){t.x=e,t.dy=t.value*s}))})),i.forEach((function(t){t.dy=t.value*s})),p();for(var c=1;t>0;--t)u(c),p(),f(c*=.99),p();function u(t){function n(t){return a(t.source)*t.value}e.forEach((function(e,r){e.forEach((function(e){if(e.targetLinks.length){var r=ne(e.targetLinks,n)/ne(e.targetLinks,l);e.x+=(r-a(e))*t}}))}))}function f(t){function n(t){return a(t.target)*t.value}e.slice().reverse().forEach((function(e){e.forEach((function(e){if(e.sourceLinks.length){var r=ne(e.sourceLinks,n)/ne(e.sourceLinks,l);e.x+=(r-a(e))*t}}))}))}function p(){e.forEach((function(t){var e,o,i,s=0,a=t.length;for(t.sort(d),i=0;i<a;++i)(o=s-(e=t[i]).x)>0&&(e.x+=o),s=e.x+e.dy+n;if((o=s-n-r[0])>0)for(s=e.x-=o,i=a-2;i>=0;--i)(o=(e=t[i]).x+e.dy+n-s)>0&&(e.x-=o),s=e.x}))}function d(t,e){return e.x-t.x}}(c),s(),t},t.relayout=function(){return s(),t},t.link=function(){var t=.5;function n(n){var r=n.source.x+n.sy+n.dy/2,o=n.target.x+n.ty+n.dy/2,i=n.source.y+e,s=n.target.y,a=Ve(i,s);return"M"+r+","+i+"C"+r+","+a(t)+" "+o+","+a(1-t)+" "+o+","+s}return n.curvature=function(e){return arguments.length?(t=+e,n):t},n},t}function Tc(t,e,n){const r=t.slice();r[26]=e[n],r[29]=n;const o=r[26].id.split("_")[1];return r[27]=o,r}function Cc(t,e,n){const r=t.slice();return r[26]=e[n],r}function Nc(t){let e,n,o,i,s;function a(...e){return t[21](t[26],...e)}function l(...e){return t[22](t[26],...e)}return{c(){e=_("path"),T(e,"class","link svelte-1eqkavw"),T(e,"stroke-width",n=t[26].dy),T(e,"d",o=t[6](t[26])),N(e,"--color",t[0](t[26].sourceName))},m(n,r){y(n,e,r),i||(s=[M(e,"mouseover",a),M(e,"focus",l),M(e,"mouseout",t[23]),M(e,"blur",t[24])],i=!0)},p(r,i){t=r,128&i[0]&&n!==(n=t[26].dy)&&T(e,"stroke-width",n),192&i[0]&&o!==(o=t[6](t[26]))&&T(e,"d",o),129&i[0]&&N(e,"--color",t[0](t[26].sourceName))},d(t){t&&v(e),i=!1,r(s)}}}function zc(t){let e,n,r,o,i,s,a,l,c,u,f,p,d=t[2](t[27])+"";return{c(){e=_("g"),n=_("rect"),l=_("text"),c=b(d),T(n,"class","node"),T(n,"x",r=t[26].x),T(n,"y",o=t[26].y),T(n,"height",i=t[4].nodeWidth()),T(n,"width",s=t[26].dy),T(n,"fill",a=t[1](t[27])),T(l,"class","label svelte-1eqkavw"),T(l,"x",u=t[26].x+t[26].dy/2),T(l,"y",f=t[26].y),T(l,"dy",p=t[4].nodeWidth()/2+t[5]/2-2),N(l,"fill",t[3](t[26])),N(l,"font-size",t[5]+"px"),T(e,"class","node-group")},m(t,r){y(t,e,r),m(e,n),m(e,l),m(l,c)},p(t,e){256&e[0]&&r!==(r=t[26].x)&&T(n,"x",r),256&e[0]&&o!==(o=t[26].y)&&T(n,"y",o),16&e[0]&&i!==(i=t[4].nodeWidth())&&T(n,"height",i),256&e[0]&&s!==(s=t[26].dy)&&T(n,"width",s),258&e[0]&&a!==(a=t[1](t[27]))&&T(n,"fill",a),260&e[0]&&d!==(d=t[2](t[27])+"")&&C(c,d),256&e[0]&&u!==(u=t[26].x+t[26].dy/2)&&T(l,"x",u),256&e[0]&&f!==(f=t[26].y)&&T(l,"y",f),48&e[0]&&p!==(p=t[4].nodeWidth()/2+t[5]/2-2)&&T(l,"dy",p),264&e[0]&&N(l,"fill",t[3](t[26])),32&e[0]&&N(l,"font-size",t[5]+"px")},d(t){t&&v(e)}}}function Sc(e){let n,r,o,i=e[7],s=[];for(let t=0;t<i.length;t+=1)s[t]=Nc(Cc(e,i,t));let a=e[8],l=[];for(let t=0;t<a.length;t+=1)l[t]=zc(Tc(e,a,t));return{c(){n=_("g"),r=_("g");for(let t=0;t<s.length;t+=1)s[t].c();o=_("g");for(let t=0;t<l.length;t+=1)l[t].c();T(r,"class","link-group"),T(o,"class","rect-group"),T(n,"class","sankey-layer")},m(t,e){y(t,n,e),m(n,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);m(n,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null)},p(t,e){if(12481&e[0]){let n;for(i=t[7],n=0;n<i.length;n+=1){const o=Cc(t,i,n);s[n]?s[n].p(o,e):(s[n]=Nc(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}if(318&e[0]){let n;for(a=t[8],n=0;n<a.length;n+=1){const r=Tc(t,a,n);l[n]?l[n].p(r,e):(l[n]=zc(r),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=a.length}},i:t,o:t,d(t){t&&v(n),$(s,t),$(l,t)}}}function Dc(t,e,n){let r,o,i,s,l,c,u,f;const{data:p,width:d,height:h}=q("LayerCake");a(t,p,(t=>n(19,u=t))),a(t,d,(t=>n(18,c=t))),a(t,h,(t=>n(20,f=t)));let{colorLinks:g=(t=>"rgba(0, 0, 0, .2)")}=e,{colorNodes:m=(t=>"#333")}=e,{labelNodes:y=(t=>t)}=e,{colorText:v=(t=>"#263238")}=e,{nodeWidth:$=5}=e,{nodePadding:x=10}=e,{linkSort:_=null}=e,{nodeId:b=(t=>t.id)}=e;const w=K();function k(t,e){w("mousemove",{e:t,props:e}),document.querySelectorAll(".link").forEach((e=>{e!==t.target?e.classList.add("inactive"):e.classList.add("active")}))}function M(t){w("mouseout"),document.querySelectorAll(".link").forEach((t=>t.classList.remove("inactive"))),t.target.classList.remove("active")}return t.$$set=t=>{"colorLinks"in t&&n(0,g=t.colorLinks),"colorNodes"in t&&n(1,m=t.colorNodes),"labelNodes"in t&&n(2,y=t.labelNodes),"colorText"in t&&n(3,v=t.colorText),"nodeWidth"in t&&n(14,$=t.nodeWidth),"nodePadding"in t&&n(15,x=t.nodePadding),"linkSort"in t&&n(16,_=t.linkSort),"nodeId"in t&&n(17,b=t.nodeId)},t.$$.update=()=>{1835008&t.$$.dirty[0]&&n(4,r=Mc().nodeWidth(25).nodePadding(5).size([c,f]).nodes(u.nodes).links(u.links).layout(0)),16&t.$$.dirty[0]&&n(8,o=r.nodes()),16&t.$$.dirty[0]&&n(7,i=r.links()),16&t.$$.dirty[0]&&n(6,s=r.link()),262144&t.$$.dirty[0]&&n(5,l=c<=320?8:12)},[g,m,y,v,r,l,s,i,o,p,d,h,k,M,$,x,_,b,c,u,f,(t,e)=>k(e,t),(t,e)=>k(e,t),t=>M(t),t=>M(t)]}class Ac extends at{constructor(t){super(),st(this,t,Dc,Sc,i,{colorLinks:0,colorNodes:1,labelNodes:2,colorText:3,nodeWidth:14,nodePadding:15,linkSort:16,nodeId:17},null,[-1,-1])}}function Lc(e){let n,r,o,i,s;return{c(){n=x("div"),r=b(e[0]),o=w(),i=x("div"),s=b(e[1]),T(n,"class","source svelte-1li79x"),N(n,"--padding-top","-"+e[2].top+"px"),T(i,"class","target svelte-1li79x"),N(i,"--padding-bottom","-"+e[2].bottom+"px")},m(t,e){y(t,n,e),m(n,r),y(t,o,e),y(t,i,e),m(i,s)},p(t,[e]){1&e&&C(r,t[0]),4&e&&N(n,"--padding-top","-"+t[2].top+"px"),2&e&&C(s,t[1]),4&e&&N(i,"--padding-bottom","-"+t[2].bottom+"px")},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(i)}}}function Ec(t,e,n){let r,{source:o}=e,{target:i}=e;const{width:s,padding:l}=q("LayerCake");return a(t,l,(t=>n(2,r=t))),t.$$set=t=>{"source"in t&&n(0,o=t.source),"target"in t&&n(1,i=t.target)},[o,i,r,l]}class Rc extends at{constructor(t){super(),st(this,t,Ec,Lc,i,{source:0,target:1})}}function jc(t){const e={...t[16].props};t[17]=e}function Kc(t,e,n){const r=t.slice();r[18]=e[n];const o=r[17][r[18]];return r[19]=o,r}function qc(e){let n,r,o,i,s,a,l;return a=new Ac({props:{colorNodes:e[11],labelNodes:e[12],colorLinks:e[13]}}),a.$on("mousemove",e[14]),a.$on("mouseout",e[15]),{c(){n=_("defs"),r=_("linearGradient"),o=_("stop"),i=_("stop"),s=w(),nt(a.$$.fragment),T(o,"offset","0"),T(o,"stop-color","var(--color-source)"),T(i,"offset","100%"),T(i,"stop-color","var(--color-target)"),T(r,"id","gradient"),T(r,"gradientTransform","rotate(90)")},m(t,e){y(t,n,e),m(n,r),m(r,o),m(r,i),y(t,s,e),rt(a,t,e),l=!0},p:t,i(t){l||(tt(a.$$.fragment,t),l=!0)},o(t){et(a.$$.fragment,t),l=!1},d(t){t&&v(n),t&&v(s),ot(a,t)}}}function Uc(t){let e,n;return e=new Gs({props:{evt:t[9],offset:-10,$$slots:{default:[Yc,({detail:t})=>({16:t}),({detail:t})=>t?65536:0]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};512&n&&(r.evt=t[9]),4259848&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Pc(t){let e,n,r=t[3](t[19])+"";return{c(){e=x("div"),n=b(r),T(e,"class","row")},m(t,r){y(t,e,r),m(e,n)},p(t,e){65544&e&&r!==(r=t[3](t[19])+"")&&C(n,r)},d(t){t&&v(e)}}}function Yc(t){let e,n;jc(t);let r,o,i,s,a,l,c=Ls.get(t[17].sourceName)+"",u=Ls.get(t[17].targetName)+"",f=["value"],p=[];for(let e=0;e<1;e+=1)p[e]=Pc(Kc(t,f,e));return{c(){e=x("div"),n=x("span"),r=b(c),o=b(" ➞\n                            "),i=x("span"),s=b(u),a=w();for(let t=0;t<1;t+=1)p[t].c();l=k(),T(n,"class","cluster-label svelte-lfew7a"),N(n,"--color",Rs.get(t[17].sourceName)),T(i,"class","cluster-label svelte-lfew7a"),N(i,"--color",Rs.get(t[17].targetName))},m(t,c){y(t,e,c),m(e,n),m(n,r),m(e,o),m(e,i),m(i,s),y(t,a,c);for(let e=0;e<1;e+=1)p[e].m(t,c);y(t,l,c)},p(t,e){if(jc(t),65536&e&&c!==(c=Ls.get(t[17].sourceName)+"")&&C(r,c),65536&e&&N(n,"--color",Rs.get(t[17].sourceName)),65536&e&&u!==(u=Ls.get(t[17].targetName)+"")&&C(s,u),65536&e&&N(i,"--color",Rs.get(t[17].targetName)),65544&e){let n;for(f=["value"],n=0;n<1;n+=1){const r=Kc(t,f,n);p[n]?p[n].p(r,e):(p[n]=Pc(r),p[n].c(),p[n].m(l.parentNode,l))}for(;n<1;n+=1)p[n].d(1)}},d(t){t&&v(e),t&&v(a),$(p,t),t&&v(l)}}}function Fc(t){let e,n,r,o;e=new Rc({props:{source:t[7],target:t[8]}});let i=!0!==t[10]&&Uc(t);return{c(){nt(e.$$.fragment),n=w(),i&&i.c(),r=k()},m(t,s){rt(e,t,s),y(t,n,s),i&&i.m(t,s),y(t,r,s),o=!0},p(t,n){const o={};128&n&&(o.source=t[7]),256&n&&(o.target=t[8]),e.$set(o),!0!==t[10]?i?(i.p(t,n),1024&n&&tt(i,1)):(i=Uc(t),i.c(),tt(i,1),i.m(r.parentNode,r)):i&&(J(),et(i,1,1,(()=>{i=null})),Q())},i(t){o||(tt(e.$$.fragment,t),tt(i),o=!0)},o(t){et(e.$$.fragment,t),et(i),o=!1},d(t){ot(e,t),t&&v(n),i&&i.d(t),t&&v(r)}}}function Hc(t){let e,n,r,o;return e=new Pi({props:{$$slots:{default:[qc]},$$scope:{ctx:t}}}),r=new Li({props:{pointerEvents:!1,$$slots:{default:[Fc]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};4195840&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};4196232&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function Ic(t){let e,n,r,o,i;return{c(){e=x("div"),n=b(t[4]),r=w(),o=x("a"),i=b("Download data"),T(o,"class","download-button"),T(o,"href",t[2]),T(o,"download",""),T(e,"class","caption")},m(t,s){y(t,e,s),m(e,n),m(e,r),m(e,o),m(o,i)},p(t,e){16&e&&C(n,t[4]),4&e&&T(o,"href",t[2])},d(t){t&&v(e)}}}function Oc(t){let e,n,r,o,i,s,a;r=new Ni({props:{data:{nodes:t[0],links:t[1]},padding:{top:30,bottom:30},position:"relative",$$slots:{default:[Hc]},$$scope:{ctx:t}}});let l=t[5]&&Ic(t);return{c(){e=x("div"),n=x("div"),nt(r.$$.fragment),o=w(),l&&l.c(),T(n,"class","chart sankey-diagram"),T(e,"class",i=d("chart-wrapper "+(12===t[6]?"split-cols":"single-cols"))+" svelte-lfew7a"),T(e,"style",s=`--spanCol: ${t[6]}`)},m(t,i){y(t,e,i),m(e,n),rt(r,n,null),m(e,o),l&&l.m(e,null),a=!0},p(t,[n]){const o={};3&n&&(o.data={nodes:t[0],links:t[1]}),4196232&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o),t[5]?l?l.p(t,n):(l=Ic(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),(!a||64&n&&i!==(i=d("chart-wrapper "+(12===t[6]?"split-cols":"single-cols"))+" svelte-lfew7a"))&&T(e,"class",i),(!a||64&n&&s!==(s=`--spanCol: ${t[6]}`))&&T(e,"style",s)},i(t){a||(tt(r.$$.fragment,t),a=!0)},o(t){et(r.$$.fragment,t),a=!1},d(t){t&&v(e),ot(r),l&&l.d()}}}function Wc(t,e,n){let r,{nodes:o}=e,{links:i}=e,{url:s}=e,{formatter:a=pc(0)}=e,{caption:l="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=e,{includeCaption:c=!0}=e,{spanCol:u=12}=e,{sourceLabel:f="Source"}=e,{targetLabel:p="Target"}=e,d=!0;return t.$$set=t=>{"nodes"in t&&n(0,o=t.nodes),"links"in t&&n(1,i=t.links),"url"in t&&n(2,s=t.url),"formatter"in t&&n(3,a=t.formatter),"caption"in t&&n(4,l=t.caption),"includeCaption"in t&&n(5,c=t.includeCaption),"spanCol"in t&&n(6,u=t.spanCol),"sourceLabel"in t&&n(7,f=t.sourceLabel),"targetLabel"in t&&n(8,p=t.targetLabel)},[o,i,s,a,l,c,u,f,p,r,d,t=>Rs.get(t),t=>Ls.get(t),t=>Rs.get(t),t=>n(9,r=n(10,d=t)),()=>n(10,d=!0)]}class Gc extends at{constructor(t){super(),st(this,t,Wc,Oc,i,{nodes:0,links:1,url:2,formatter:3,caption:4,includeCaption:5,spanCol:6,sourceLabel:7,targetLabel:8})}}function Xc(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Vc(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function Bc(e){let n;return{c(){n=x("div"),T(n,"class","chart-placeholder svelte-1kekzne")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function Zc(t){let e,n;return e=new kc({props:{data:t[2],yKey:nu,xKey:t[3],zKey:ru,formatter:pc(2),url:eu,spanCol:12}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.data=t[2]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Jc(e){let n,r,o,i=e[9].value+"";return{c(){n=x("p"),r=b(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Qc(e){let n,r,o,i,s,a,l,c,u=e[11]+1+"",f=e[9].value+"";return{c(){n=x("p"),r=x("span"),o=b("["),i=b(u),s=b("]"),a=w(),l=b(f),c=w()},m(t,e){y(t,n,e),m(n,r),m(r,o),m(r,i),m(r,s),m(n,a),m(n,l),m(n,c)},p:t,d(t){t&&v(n)}}}function tu(t){let e,n,i,s,a,l,c,u,f,p,d,h,_;const b=[Zc,Bc],k=[];function C(t,e){return t[1]&&t[2]?0:1}s=C(t),a=k[s]=b[s](t);let N=ql.copy,z=[];for(let e=0;e<N.length;e+=1)z[e]=Jc(Vc(t,N,e));let S=ql.references,D=[];for(let e=0;e<S.length;e+=1)D[e]=Qc(Xc(t,S,e));return{c(){e=x("div"),n=x("h2"),n.textContent="Subtitle 1",i=w(),a.c(),l=w(),c=x("div");for(let t=0;t<z.length;t+=1)z[t].c();u=w(),f=x("div");for(let t=0;t<D.length;t+=1)D[t].c();T(n,"class","section-title svelte-1kekzne"),T(c,"class","copy svelte-1kekzne"),T(f,"class","references svelte-1kekzne"),T(e,"class","section section-3 svelte-1kekzne")},m(r,o){y(r,e,o),m(e,n),m(e,i),k[s].m(e,null),m(e,l),m(e,c);for(let t=0;t<z.length;t+=1)z[t].m(c,null);m(e,u),m(e,f);for(let t=0;t<D.length;t+=1)D[t].m(f,null);d=!0,h||(_=[g(p=ma.call(null,e,{once:t[0]})),M(e,"enter",t[4])],h=!0)},p(t,[n]){let r=s;if(s=C(t),s===r?k[s].p(t,n):(J(),et(k[r],1,1,(()=>{k[r]=null})),Q(),a=k[s],a?a.p(t,n):(a=k[s]=b[s](t),a.c()),tt(a,1),a.m(e,l)),0&n){let e;for(N=ql.copy,e=0;e<N.length;e+=1){const r=Vc(t,N,e);z[e]?z[e].p(r,n):(z[e]=Jc(r),z[e].c(),z[e].m(c,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=N.length}if(0&n){let e;for(S=ql.references,e=0;e<S.length;e+=1){const r=Xc(t,S,e);D[e]?D[e].p(r,n):(D[e]=Qc(r),D[e].c(),D[e].m(f,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=S.length}p&&o(p.update)&&1&n&&p.update.call(null,{once:t[0]})},i(t){d||(tt(a),d=!0)},o(t){et(a),d=!1},d(t){t&&v(e),k[s].d(),$(z,t),$(D,t),h=!1,r(_)}}}let eu="assets/data/fig1_ledwich.csv",nu="cluster",ru="key";function ou(t,e,n){let r,o=!1,{once:i}=e;j((async()=>{const t=await jt(eu,Dt);n(2,r=t)}));return t.$$set=t=>{"once"in t&&n(0,i=t.once)},[i,o,r,[0,1],()=>n(1,o=!0)]}class iu extends at{constructor(t){super(),st(this,t,ou,tu,i,{once:0})}}function su(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function au(t,e,n){const r=t.slice();return r[9]=e[n],r[11]=n,r}function lu(e){let n;return{c(){n=x("div"),T(n,"class","chart-placeholder svelte-m0y2zp")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function cu(t){let e,n;return e=new Gc({props:{nodes:t[3],links:t[4],url:du,sourceLabel:"Month",targetLabel:"Month + 1"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};8&n&&(r.nodes=t[3]),16&n&&(r.links=t[4]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function uu(e){let n,r,o,i=e[9].value+"";return{c(){n=x("p"),r=b(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function fu(e){let n,r,o,i,s,a,l,c,u=e[11]+1+"",f=e[9].value+"";return{c(){n=x("p"),r=x("span"),o=b("["),i=b(u),s=b("]"),a=w(),l=b(f),c=w()},m(t,e){y(t,n,e),m(n,r),m(r,o),m(r,i),m(r,s),m(n,a),m(n,l),m(n,c)},p:t,d(t){t&&v(n)}}}function pu(t){let e,n,i,s,a,l,c,u,f,p,d,h,_;const b=[cu,lu],k=[];function C(t,e){return t[1]&&t[2]?0:1}s=C(t),a=k[s]=b[s](t);let N=ql.copy,z=[];for(let e=0;e<N.length;e+=1)z[e]=uu(au(t,N,e));let S=ql.references,D=[];for(let e=0;e<S.length;e+=1)D[e]=fu(su(t,S,e));return{c(){e=x("div"),n=x("h2"),n.textContent="Subtitle 2",i=w(),a.c(),l=w(),c=x("div");for(let t=0;t<z.length;t+=1)z[t].c();u=w(),f=x("div");for(let t=0;t<D.length;t+=1)D[t].c();T(n,"class","section-title svelte-m0y2zp"),T(c,"class","copy svelte-m0y2zp"),T(f,"class","references svelte-m0y2zp"),T(e,"class","section section-4 svelte-m0y2zp")},m(r,o){y(r,e,o),m(e,n),m(e,i),k[s].m(e,null),m(e,l),m(e,c);for(let t=0;t<z.length;t+=1)z[t].m(c,null);m(e,u),m(e,f);for(let t=0;t<D.length;t+=1)D[t].m(f,null);d=!0,h||(_=[g(p=ma.call(null,e,{once:t[0]})),M(e,"enter",t[5])],h=!0)},p(t,[n]){let r=s;if(s=C(t),s===r?k[s].p(t,n):(J(),et(k[r],1,1,(()=>{k[r]=null})),Q(),a=k[s],a?a.p(t,n):(a=k[s]=b[s](t),a.c()),tt(a,1),a.m(e,l)),0&n){let e;for(N=ql.copy,e=0;e<N.length;e+=1){const r=au(t,N,e);z[e]?z[e].p(r,n):(z[e]=uu(r),z[e].c(),z[e].m(c,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=N.length}if(0&n){let e;for(S=ql.references,e=0;e<S.length;e+=1){const r=su(t,S,e);D[e]?D[e].p(r,n):(D[e]=fu(r),D[e].c(),D[e].m(f,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=S.length}p&&o(p.update)&&1&n&&p.update.call(null,{once:t[0]})},i(t){d||(tt(a),d=!0)},o(t){et(a),d=!1},d(t){t&&v(e),k[s].d(),$(z,t),$(D,t),h=!1,r(_)}}}let du="assets/data/fig4.csv";function hu(t,e,n){let r,o,i,s,a=!1,{once:l}=e;j((async()=>{const t=await jt(du,Dt);n(2,r=kl(t,["fR","R","AW","C","L","fL"],"from")),s=kl(t.columns,["fR","R","AW","C","L","fL"]),n(3,o=[...r.map((t=>({id:`source_${t.from}`}))),...s.map((t=>({id:`target_${t}`})))]),n(4,i=Yi(r.map(((t,e)=>s.map(((n,r)=>({sourceName:t.from,targetName:n,source:e,target:r+6,value:t[n]})))))))}));return t.$$set=t=>{"once"in t&&n(0,l=t.once)},[l,a,r,o,i,()=>n(1,a=!0)]}class gu extends at{constructor(t){super(),st(this,t,hu,pu,i,{once:0})}}function mu(t,e,n){const r=t.slice();r[22]=e[n],r[25]=n;const o=function(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}(r[22][1],r[1]).map(r[2]);return r[23]=o,r}function yu(t,e,n){const r=t.slice();return r[26]=e[n],r[28]=n,r}function vu(t){let e,n,o,i,s,a,l;function c(...e){return t[17](t[26],...e)}function u(...e){return t[18](t[26],...e)}return{c(){e=_("circle"),T(e,"class","range-circle svelte-7jp4oc"),T(e,"cx",n=t[5](t[26])),T(e,"cy",o=t[4](t[26])),T(e,"r",i=t[14](t[26].scenario)),T(e,"fill",s=t[6](t[26]))},m(n,r){y(n,e,r),a||(l=[M(e,"mouseover",c),M(e,"focus",u),M(e,"mouseout",t[19]),M(e,"blur",t[20])],a=!0)},p(r,a){t=r,33&a&&n!==(n=t[5](t[26]))&&T(e,"cx",n),17&a&&o!==(o=t[4](t[26]))&&T(e,"cy",o),1&a&&i!==(i=t[14](t[26].scenario))&&T(e,"r",i),65&a&&s!==(s=t[6](t[26]))&&T(e,"fill",s)},d(t){t&&v(e),a=!1,r(l)}}}function $u(t){let e,n,r,o,i,s,a,l,c,u=t[22][1],f=[];for(let e=0;e<u.length;e+=1)f[e]=vu(yu(t,u,e));return{c(){e=_("g"),n=_("line");for(let t=0;t<f.length;t+=1)f[t].c();T(n,"x1",r=t[23][0]),T(n,"x2",o=t[23][1]),T(n,"y1",i=t[4](t[22][1][0])),T(n,"y2",s=t[4](t[22][1][0])),T(n,"stroke","gainsboro"),T(n,"stroke-width",a=2*t[14](2)),T(e,"class",l=d(`range-group range-group-${t[22][0]}`)+" svelte-7jp4oc"),T(e,"transform",c=`translate(0, ${t[3].bandwidth()/2})`)},m(t,r){y(t,e,r),m(e,n);for(let t=0;t<f.length;t+=1)f[t].m(e,null)},p(t,a){if(7&a&&r!==(r=t[23][0])&&T(n,"x1",r),7&a&&o!==(o=t[23][1])&&T(n,"x2",o),17&a&&i!==(i=t[4](t[22][1][0]))&&T(n,"y1",i),17&a&&s!==(s=t[4](t[22][1][0]))&&T(n,"y2",s),114801&a){let n;for(u=t[22][1],n=0;n<u.length;n+=1){const r=yu(t,u,n);f[n]?f[n].p(r,a):(f[n]=vu(r),f[n].c(),f[n].m(e,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}1&a&&l!==(l=d(`range-group range-group-${t[22][0]}`)+" svelte-7jp4oc")&&T(e,"class",l),8&a&&c!==(c=`translate(0, ${t[3].bandwidth()/2})`)&&T(e,"transform",c)},d(t){t&&v(e),$(f,t)}}}function xu(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=$u(mu(e,r,t));return{c(){n=_("g");for(let t=0;t<o.length;t+=1)o[t].c();T(n,"class",d("vis-group")+" svelte-7jp4oc")},m(t,e){y(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(114815&e){let i;for(r=t[0],i=0;i<r.length;i+=1){const s=mu(t,r,i);o[i]?o[i].p(s,e):(o[i]=$u(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&v(n),$(o,t)}}}function _u(t,e,n){let r,o,i,s,l,c,u;const{data:f,xGet:p,yGet:d,zGet:h,xScale:g,x:m,yScale:y}=q("LayerCake");a(t,f,(t=>n(0,r=t))),a(t,p,(t=>n(5,c=t))),a(t,d,(t=>n(4,l=t))),a(t,h,(t=>n(6,u=t))),a(t,g,(t=>n(2,i=t))),a(t,m,(t=>n(1,o=t))),a(t,y,(t=>n(3,s=t)));const v=En().exponent(.5).domain([2,4]).range([4,7]),$=K();function x(t,e){$("mousemove",{e:t,props:e}),document.querySelectorAll(".range-circle").forEach((e=>{e!==t.target?e.classList.add("inactive"):e.classList.add("active")}))}function _(t){$("mouseout"),document.querySelectorAll(".range-circle").forEach((t=>t.classList.remove("inactive"))),t.target.classList.remove("active")}return[r,o,i,s,l,c,u,f,p,d,h,g,m,y,v,x,_,(t,e)=>x(e,t),(t,e)=>x(e,t),t=>_(t),t=>_(t)]}class bu extends at{constructor(t){super(),st(this,t,_u,xu,i,{})}}function wu(t){const e={...t[16].props};t[17]=e}function ku(t,e,n){const r=t.slice();r[18]=e[n];const o=r[17][r[18]];return r[19]=o,r}function Mu(e){let n,r,o,i,s,a;return n=new Va({props:{gridlines:!1,ticks:3,snapTicks:!1,tickMarks:!0}}),o=new nl({props:{gridlines:!1,formatTick:e[13]}}),s=new bu({}),s.$on("mousemove",e[14]),s.$on("mouseout",e[15]),{c(){nt(n.$$.fragment),r=w(),nt(o.$$.fragment),i=w(),nt(s.$$.fragment)},m(t,e){rt(n,t,e),y(t,r,e),rt(o,t,e),y(t,i,e),rt(s,t,e),a=!0},p:t,i(t){a||(tt(n.$$.fragment,t),tt(o.$$.fragment,t),tt(s.$$.fragment,t),a=!0)},o(t){et(n.$$.fragment,t),et(o.$$.fragment,t),et(s.$$.fragment,t),a=!1},d(t){ot(n,t),t&&v(r),ot(o,t),t&&v(i),ot(s,t)}}}function Tu(t){let e,n;return e=new Gs({props:{evt:t[9],offset:-15,$$slots:{default:[Nu,({detail:t})=>({16:t}),({detail:t})=>t?65536:0]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};512&n&&(r.evt=t[9]),4260096&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Cu(t){let e,n,r,o=t[8](t[19])+"";return{c(){e=x("div"),n=b("Difference in consumption: "),r=b(o),T(e,"class","row")},m(t,o){y(t,e,o),m(e,n),m(e,r)},p(t,e){65792&e&&o!==(o=t[8](t[19])+"")&&C(r,o)},d(t){t&&v(e)}}}function Nu(t){let e,n;wu(t);let r,o,i,s,a,l,c,u,f=Ls.get(t[17].cluster)+"",p=t[17].scenario+"",d=["mean"],h=[];for(let e=0;e<1;e+=1)h[e]=Cu(ku(t,d,e));return{c(){e=x("div"),n=x("span"),r=b(f),o=w(),i=x("div"),s=b("Burst length: "),a=b(p),l=b(" videos"),c=w();for(let t=0;t<1;t+=1)h[t].c();u=k(),T(n,"class","cluster-label svelte-1sfmu5q"),N(n,"--color",Rs.get(t[17].cluster)),T(i,"class","row")},m(t,f){y(t,e,f),m(e,n),m(n,r),y(t,o,f),y(t,i,f),m(i,s),m(i,a),m(i,l),y(t,c,f);for(let e=0;e<1;e+=1)h[e].m(t,f);y(t,u,f)},p(t,e){if(wu(t),65536&e&&f!==(f=Ls.get(t[17].cluster)+"")&&C(r,f),65536&e&&N(n,"--color",Rs.get(t[17].cluster)),65536&e&&p!==(p=t[17].scenario+"")&&C(a,p),65792&e){let n;for(d=["mean"],n=0;n<1;n+=1){const r=ku(t,d,n);h[n]?h[n].p(r,e):(h[n]=Cu(r),h[n].c(),h[n].m(u.parentNode,u))}for(;n<1;n+=1)h[n].d(1)}},d(t){t&&v(e),t&&v(o),t&&v(i),t&&v(c),$(h,t),t&&v(u)}}}function zu(t){let e,n,r=!0!==t[10]&&Tu(t);return{c(){r&&r.c(),e=k()},m(t,o){r&&r.m(t,o),y(t,e,o),n=!0},p(t,n){!0!==t[10]?r?(r.p(t,n),1024&n&&tt(r,1)):(r=Tu(t),r.c(),tt(r,1),r.m(e.parentNode,e)):r&&(J(),et(r,1,1,(()=>{r=null})),Q())},i(t){n||(tt(r),n=!0)},o(t){et(r),n=!1},d(t){r&&r.d(t),t&&v(e)}}}function Su(t){let e,n,r,o;return e=new Pi({props:{$$slots:{default:[Mu]},$$scope:{ctx:t}}}),r=new Li({props:{pointerEvents:!1,$$slots:{default:[zu]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment)},m(t,i){rt(e,t,i),y(t,n,i),rt(r,t,i),o=!0},p(t,n){const o={};4195840&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};4196096&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(t){o||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),o=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),o=!1},d(t){ot(e,t),t&&v(n),ot(r,t)}}}function Du(t){let e,n,r,o,i;return{c(){e=x("div"),n=b(t[0]),r=w(),o=x("a"),i=b("Download data"),T(o,"class","download-button"),T(o,"href",t[4]),T(o,"download",""),T(e,"class","caption")},m(t,s){y(t,e,s),m(e,n),m(e,r),m(e,o),m(o,i)},p(t,e){1&e&&C(n,t[0]),16&e&&T(o,"href",t[4])},d(t){t&&v(e)}}}function Au(t){let e,n,r,o,i;r=new Ni({props:{padding:{top:0,right:10,bottom:20,left:45},flatData:t[2],data:Array.from(t[3]),x:t[5],xNice:!0,y:t[6],yScale:se(),yDomain:t[11],z:t[7],zScale:ie(),zDomain:t[11],zRange:t[12],$$slots:{default:[Su]},$$scope:{ctx:t}}});let s=t[1]&&Du(t);return{c(){e=x("div"),n=x("div"),nt(r.$$.fragment),o=w(),s&&s.c(),T(n,"class","chart range-plot"),T(e,"class","chart-wrapper svelte-1sfmu5q")},m(t,a){y(t,e,a),m(e,n),rt(r,n,null),m(e,o),s&&s.m(e,null),i=!0},p(t,[n]){const o={};4&n&&(o.flatData=t[2]),8&n&&(o.data=Array.from(t[3])),32&n&&(o.x=t[5]),64&n&&(o.y=t[6]),128&n&&(o.z=t[7]),4196096&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o),t[1]?s?s.p(t,n):(s=Du(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(t){i||(tt(r.$$.fragment,t),i=!0)},o(t){et(r.$$.fragment,t),i=!1},d(t){t&&v(e),ot(r),s&&s.d()}}}function Lu(t,e,n){let r,{caption:o="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius, tempore?"}=e,{includeCaption:i=!0}=e,{data:s}=e,{groupedData:a}=e,{url:l}=e,{xKey:c}=e,{yKey:u}=e,{zKey:f}=e,{formatter:p=pc(0)}=e,d=Array.from(a).map((t=>t[0])),h=d.map((t=>Rs.get(t))),g=!0;return t.$$set=t=>{"caption"in t&&n(0,o=t.caption),"includeCaption"in t&&n(1,i=t.includeCaption),"data"in t&&n(2,s=t.data),"groupedData"in t&&n(3,a=t.groupedData),"url"in t&&n(4,l=t.url),"xKey"in t&&n(5,c=t.xKey),"yKey"in t&&n(6,u=t.yKey),"zKey"in t&&n(7,f=t.zKey),"formatter"in t&&n(8,p=t.formatter)},[o,i,s,a,l,c,u,f,p,r,g,d,h,t=>Ls.get(t),t=>n(9,r=n(10,g=t)),()=>n(10,g=!0)]}class Eu extends at{constructor(t){super(),st(this,t,Lu,Au,i,{caption:0,includeCaption:1,data:2,groupedData:3,url:4,xKey:5,yKey:6,zKey:7,formatter:8})}}function Ru(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function ju(t,e,n){const r=t.slice();return r[10]=e[n],r[12]=n,r}function Ku(e){let n;return{c(){n=x("div"),T(n,"class","chart-placeholder svelte-cjebcy")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function qu(t){let e,n;return e=new Eu({props:{data:t[2],groupedData:t[3],yKey:Gu,xKey:Wu,zKey:Xu,formatter:Vu,url:Iu}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.data=t[2]),8&n&&(r.groupedData=t[3]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Uu(e){let n;return{c(){n=x("div"),T(n,"class","chart-placeholder svelte-cjebcy")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function Pu(t){let e,n;return e=new Gc({props:{nodes:t[5],links:t[6],formatter:t[7],url:Ou,spanCol:6,sourceLabel:"YouTube",targetLabel:"News media"}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};32&n&&(r.nodes=t[5]),64&n&&(r.links=t[6]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function Yu(e){let n,r,o,i=e[10].value+"";return{c(){n=x("p"),r=b(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Fu(e){let n,r,o,i,s,a,l,c,u=e[12]+1+"",f=e[10].value+"";return{c(){n=x("p"),r=x("span"),o=b("["),i=b(u),s=b("]"),a=w(),l=b(f),c=w()},m(t,e){y(t,n,e),m(n,r),m(r,o),m(r,i),m(r,s),m(n,a),m(n,l),m(n,c)},p:t,d(t){t&&v(n)}}}function Hu(t){let e,n,i,s,a,l,c,u,f,p,d,h,_,b;const k=[qu,Ku],C=[];function N(t,e){return t[1]&&t[2]?0:1}n=N(t),i=C[n]=k[n](t);const z=[Pu,Uu],S=[];function D(t,e){return t[1]&&t[4]?0:1}a=D(t),l=S[a]=z[a](t);let A=ql.copy,L=[];for(let e=0;e<A.length;e+=1)L[e]=Yu(ju(t,A,e));let E=ql.references,R=[];for(let e=0;e<E.length;e+=1)R[e]=Fu(Ru(t,E,e));return{c(){e=x("div"),i.c(),s=w(),l.c(),c=w(),u=x("div");for(let t=0;t<L.length;t+=1)L[t].c();f=w(),p=x("div");for(let t=0;t<R.length;t+=1)R[t].c();T(u,"class","copy svelte-cjebcy"),T(p,"class","references svelte-cjebcy"),T(e,"class","section section-5 svelte-cjebcy")},m(r,o){y(r,e,o),C[n].m(e,null),m(e,s),S[a].m(e,null),m(e,c),m(e,u);for(let t=0;t<L.length;t+=1)L[t].m(u,null);m(e,f),m(e,p);for(let t=0;t<R.length;t+=1)R[t].m(p,null);h=!0,_||(b=[g(d=ma.call(null,e,{once:t[0]})),M(e,"enter",t[8])],_=!0)},p(t,[r]){let f=n;n=N(t),n===f?C[n].p(t,r):(J(),et(C[f],1,1,(()=>{C[f]=null})),Q(),i=C[n],i?i.p(t,r):(i=C[n]=k[n](t),i.c()),tt(i,1),i.m(e,s));let h=a;if(a=D(t),a===h?S[a].p(t,r):(J(),et(S[h],1,1,(()=>{S[h]=null})),Q(),l=S[a],l?l.p(t,r):(l=S[a]=z[a](t),l.c()),tt(l,1),l.m(e,c)),0&r){let e;for(A=ql.copy,e=0;e<A.length;e+=1){const n=ju(t,A,e);L[e]?L[e].p(n,r):(L[e]=Yu(n),L[e].c(),L[e].m(u,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=A.length}if(0&r){let e;for(E=ql.references,e=0;e<E.length;e+=1){const n=Ru(t,E,e);R[e]?R[e].p(n,r):(R[e]=Fu(n),R[e].c(),R[e].m(p,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=E.length}d&&o(d.update)&&1&r&&d.update.call(null,{once:t[0]})},i(t){h||(tt(i),tt(l),h=!0)},o(t){et(i),et(l),h=!1},d(t){t&&v(e),C[n].d(),S[a].d(),$(L,t),$(R,t),_=!1,r(b)}}}const Iu="assets/data/fig5.csv",Ou="assets/data/fig6.csv";let Wu="mean",Gu="cluster",Xu="cluster";const Vu=t=>t.toFixed(2);function Bu(t,e,n){let r,o,i,s,a,l,c=!1,{once:u}=e;j((async()=>{const t=await jt(Iu,Dt);n(2,r=t),n(3,o=Gt(r,(t=>t[Gu])));const e=await jt(Ou,Dt);n(4,i=e),l=kl(i.columns,["fR","R","C","L","fL"]),n(5,s=[...i.map((t=>({id:`source_${t.from}`}))),...l.map((t=>({id:`target_${t}`})))]),n(6,a=Yi(i.map(((t,e)=>l.map(((n,r)=>({sourceName:t.from,targetName:n,source:e,target:r+6,value:t[n]})))))))}));return t.$$set=t=>{"once"in t&&n(0,u=t.once)},[u,c,r,o,i,s,a,t=>1===t?"Just as likely as average user":t>1?`${t} times more likely to consume compared to average user`:`${t} times less likely to consume than average user`,()=>n(1,c=!0)]}class Zu extends at{constructor(t){super(),st(this,t,Bu,Hu,i,{once:0})}}function Ju(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Qu(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function tf(e){let n;return{c(){n=x("div"),T(n,"class","chart-placeholder svelte-cjebcy")},m(t,e){y(t,n,e)},i:t,o:t,d(t){t&&v(n)}}}function ef(t){let e,n;return e=new Rl({props:{config:[{url:"assets/data/fig7a.csv",description:"Fraction of videos by session length",type:"line",xKey:"index",yKey:"fraction",zKey:"cluster",formatTickX:ff,formatTickY:pf},{url:"assets/data/fig7b.csv",description:"Frequency by session length",type:"line",xKey:"length",yKey:"mean",zKey:"cluster",formatTickX:df,formatTickY:hf}],spanCol:6}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function nf(e){let n;return{c(){n=x("div"),T(n,"class","chart-placeholder svelte-cjebcy")},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function rf(t){let e,n;return e=new kc({props:{data:t[2],yKey:cf,xKey:t[3],zKey:uf,formatter:pc(2),keyColorMap:js,keyLabelMap:Es,url:lf,spanCol:6}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.data=t[2]),e.$set(r)},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function of(e){let n,r,o,i=e[5].value+"";return{c(){n=x("p"),r=b(i),o=w()},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function sf(e){let n,r,o,i,s,a,l,c,u=e[7]+1+"",f=e[5].value+"";return{c(){n=x("p"),r=x("span"),o=b("["),i=b(u),s=b("]"),a=w(),l=b(f),c=w()},m(t,e){y(t,n,e),m(n,r),m(r,o),m(r,i),m(r,s),m(n,a),m(n,l),m(n,c)},p:t,d(t){t&&v(n)}}}function af(t){let e,n,i,s,a,l,c,u,f,p,d,h,_,b;const k=[ef,tf],C=[];function N(t,e){return t[1]?0:1}n=N(t),i=C[n]=k[n](t);const z=[rf,nf],S=[];function D(t,e){return t[1]&&t[2]?0:1}a=D(t),l=S[a]=z[a](t);let A=ql.copy,L=[];for(let e=0;e<A.length;e+=1)L[e]=of(Qu(t,A,e));let E=ql.references,R=[];for(let e=0;e<E.length;e+=1)R[e]=sf(Ju(t,E,e));return{c(){e=x("div"),i.c(),s=w(),l.c(),c=w(),u=x("div");for(let t=0;t<L.length;t+=1)L[t].c();f=w(),p=x("div");for(let t=0;t<R.length;t+=1)R[t].c();T(u,"class","copy svelte-cjebcy"),T(p,"class","references svelte-cjebcy"),T(e,"class","section section-5 svelte-cjebcy")},m(r,o){y(r,e,o),C[n].m(e,null),m(e,s),S[a].m(e,null),m(e,c),m(e,u);for(let t=0;t<L.length;t+=1)L[t].m(u,null);m(e,f),m(e,p);for(let t=0;t<R.length;t+=1)R[t].m(p,null);h=!0,_||(b=[g(d=ma.call(null,e,{once:t[0]})),M(e,"enter",t[4])],_=!0)},p(t,[r]){let f=n;n=N(t),n!==f&&(J(),et(C[f],1,1,(()=>{C[f]=null})),Q(),i=C[n],i||(i=C[n]=k[n](t),i.c()),tt(i,1),i.m(e,s));let h=a;if(a=D(t),a===h?S[a].p(t,r):(J(),et(S[h],1,1,(()=>{S[h]=null})),Q(),l=S[a],l?l.p(t,r):(l=S[a]=z[a](t),l.c()),tt(l,1),l.m(e,c)),0&r){let e;for(A=ql.copy,e=0;e<A.length;e+=1){const n=Qu(t,A,e);L[e]?L[e].p(n,r):(L[e]=of(n),L[e].c(),L[e].m(u,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=A.length}if(0&r){let e;for(E=ql.references,e=0;e<E.length;e+=1){const n=Ju(t,E,e);R[e]?R[e].p(n,r):(R[e]=sf(n),R[e].c(),R[e].m(p,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=E.length}d&&o(d.update)&&1&r&&d.update.call(null,{once:t[0]})},i(t){h||(tt(i),tt(l),h=!0)},o(t){et(i),et(l),h=!1},d(t){t&&v(e),C[n].d(),S[a].d(),$(L,t),$(R,t),_=!1,r(b)}}}let lf="assets/data/table2.csv",cf="cluster",uf="key";const ff=t=>t,pf=t=>t.toFixed(2),df=t=>t,hf=t=>t.toFixed(2);function gf(t,e,n){let r,o=!1,{once:i}=e;j((async()=>{const t=await jt(lf,Dt);n(2,r=t)}));return t.$$set=t=>{"once"in t&&n(0,i=t.once)},[i,o,r,[0,1],()=>n(1,o=!0)]}class mf extends at{constructor(t){super(),st(this,t,gf,af,i,{once:0})}}function yf(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function vf(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function $f(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function xf(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function _f(e){let n;return{c(){n=x("div"),T(n,"class","chart-placeholder svelte-1vxijr7")},m(t,e){y(t,n,e)},i:t,o:t,d(t){t&&v(n)}}}function bf(t){let e,n;return e=new Rl({props:{config:[{url:"assets/data/fig7a.csv",description:"Fraction of videos by session length",type:"line",xKey:"index",yKey:"fraction",zKey:"cluster",formatTickX:Nf}],spanCol:12}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},i(t){n||(tt(e.$$.fragment,t),n=!0)},o(t){et(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function wf(e){let n,r,o=e[5].value+"";return{c(){n=x("p"),r=b(o),T(n,"class","svelte-1vxijr7")},m(t,e){y(t,n,e),m(n,r)},p:t,d(t){t&&v(n)}}}function kf(e){let n,r,o=e[5].value+"";return{c(){n=x("p"),r=b(o),T(n,"class","svelte-1vxijr7")},m(t,e){y(t,n,e),m(n,r)},p:t,d(t){t&&v(n)}}}function Mf(e){let n,r,o,i=e[5].value+"";return{c(){n=x("p"),r=b(i),o=w(),T(n,"class","svelte-1vxijr7")},m(t,e){y(t,n,e),m(n,r),m(n,o)},p:t,d(t){t&&v(n)}}}function Tf(e){let n,r,o,i,s,a,l,c,u=e[7]+1+"",f=e[5].value+"";return{c(){n=x("p"),r=x("span"),o=b("["),i=b(u),s=b("]"),a=w(),l=b(f),c=w()},m(t,e){y(t,n,e),m(n,r),m(r,o),m(r,i),m(r,s),m(n,a),m(n,l),m(n,c)},p:t,d(t){t&&v(n)}}}function Cf(t){let e,n,i,s,a,l,c,u,f,p,d,h,_,b,k,C;const N=[bf,_f],z=[];function S(t,e){return t[1]?0:1}a=S(t),l=z[a]=N[a](t);let D=ql.copy,A=[];for(let e=0;e<D.length;e+=1)A[e]=wf(xf(t,D,e));let L=ql.copy,E=[];for(let e=0;e<L.length;e+=1)E[e]=kf($f(t,L,e));let R=ql.copy,j=[];for(let e=0;e<R.length;e+=1)j[e]=Mf(vf(t,R,e));let K=ql.references,q=[];for(let e=0;e<K.length;e+=1)q[e]=Tf(yf(t,K,e));return{c(){e=x("main"),n=x("div"),i=x("h2"),i.textContent="Supplementary information appendix",s=w(),l.c(),c=w(),u=x("div");for(let t=0;t<A.length;t+=1)A[t].c();f=w();for(let t=0;t<E.length;t+=1)E[t].c();p=w();for(let t=0;t<j.length;t+=1)j[t].c();d=w(),h=x("div");for(let t=0;t<q.length;t+=1)q[t].c();T(i,"class","section-title svelte-1vxijr7"),T(u,"class","copy svelte-1vxijr7"),T(h,"class","references svelte-1vxijr7"),T(n,"class","section section-supplementary svelte-1vxijr7"),T(e,"class","supplementary svelte-1vxijr7")},m(r,o){y(r,e,o),m(e,n),m(n,i),m(n,s),z[a].m(n,null),m(n,c),m(n,u);for(let t=0;t<A.length;t+=1)A[t].m(u,null);m(u,f);for(let t=0;t<E.length;t+=1)E[t].m(u,null);m(u,p);for(let t=0;t<j.length;t+=1)j[t].m(u,null);m(n,d),m(n,h);for(let t=0;t<q.length;t+=1)q[t].m(h,null);b=!0,k||(C=[g(_=ma.call(null,n,{once:t[0]})),M(n,"enter",t[2])],k=!0)},p(t,[e]){let r=a;if(a=S(t),a!==r&&(J(),et(z[r],1,1,(()=>{z[r]=null})),Q(),l=z[a],l||(l=z[a]=N[a](t),l.c()),tt(l,1),l.m(n,c)),0&e){let n;for(D=ql.copy,n=0;n<D.length;n+=1){const r=xf(t,D,n);A[n]?A[n].p(r,e):(A[n]=wf(r),A[n].c(),A[n].m(u,f))}for(;n<A.length;n+=1)A[n].d(1);A.length=D.length}if(0&e){let n;for(L=ql.copy,n=0;n<L.length;n+=1){const r=$f(t,L,n);E[n]?E[n].p(r,e):(E[n]=kf(r),E[n].c(),E[n].m(u,p))}for(;n<E.length;n+=1)E[n].d(1);E.length=L.length}if(0&e){let n;for(R=ql.copy,n=0;n<R.length;n+=1){const r=vf(t,R,n);j[n]?j[n].p(r,e):(j[n]=Mf(r),j[n].c(),j[n].m(u,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=R.length}if(0&e){let n;for(K=ql.references,n=0;n<K.length;n+=1){const r=yf(t,K,n);q[n]?q[n].p(r,e):(q[n]=Tf(r),q[n].c(),q[n].m(h,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=K.length}_&&o(_.update)&&1&e&&_.update.call(null,{once:t[0]})},i(t){b||(tt(l),b=!0)},o(t){et(l),b=!1},d(t){t&&v(e),z[a].d(),$(A,t),$(E,t),$(j,t),$(q,t),k=!1,r(C)}}}const Nf=t=>t;function zf(t,e,n){let r=!1,{once:o}=e;j((async()=>{await jt("assets/data/table2.csv",Dt)}));return t.$$set=t=>{"once"in t&&n(0,o=t.once)},[o,r,()=>n(1,r=!0)]}class Sf extends at{constructor(t){super(),st(this,t,zf,Cf,i,{once:0})}}function Df(t){let e,n,r,o,i,s,a,l,c,u,f,p,d,h,g,m,$,x,_,b;return e=new ct({}),r=new ga({props:{title:t[0],authors:t[1]}}),i=new Vl({props:{once:!0}}),a=new oc({props:{once:!0}}),c=new iu({props:{once:!0}}),f=new gu({props:{once:!0}}),d=new Zu({props:{once:!0}}),g=new mf({props:{once:!0}}),$=new Sf({props:{once:!0}}),_=new ft({}),{c(){nt(e.$$.fragment),n=w(),nt(r.$$.fragment),o=w(),nt(i.$$.fragment),s=w(),nt(a.$$.fragment),l=w(),nt(c.$$.fragment),u=w(),nt(f.$$.fragment),p=w(),nt(d.$$.fragment),h=w(),nt(g.$$.fragment),m=w(),nt($.$$.fragment),x=w(),nt(_.$$.fragment)},m(t,v){rt(e,t,v),y(t,n,v),rt(r,t,v),y(t,o,v),rt(i,t,v),y(t,s,v),rt(a,t,v),y(t,l,v),rt(c,t,v),y(t,u,v),rt(f,t,v),y(t,p,v),rt(d,t,v),y(t,h,v),rt(g,t,v),y(t,m,v),rt($,t,v),y(t,x,v),rt(_,t,v),b=!0},p(t,[e]){const n={};1&e&&(n.title=t[0]),2&e&&(n.authors=t[1]),r.$set(n)},i(t){b||(tt(e.$$.fragment,t),tt(r.$$.fragment,t),tt(i.$$.fragment,t),tt(a.$$.fragment,t),tt(c.$$.fragment,t),tt(f.$$.fragment,t),tt(d.$$.fragment,t),tt(g.$$.fragment,t),tt($.$$.fragment,t),tt(_.$$.fragment,t),b=!0)},o(t){et(e.$$.fragment,t),et(r.$$.fragment,t),et(i.$$.fragment,t),et(a.$$.fragment,t),et(c.$$.fragment,t),et(f.$$.fragment,t),et(d.$$.fragment,t),et(g.$$.fragment,t),et($.$$.fragment,t),et(_.$$.fragment,t),b=!1},d(t){ot(e,t),t&&v(n),ot(r,t),t&&v(o),ot(i,t),t&&v(s),ot(a,t),t&&v(l),ot(c,t),t&&v(u),ot(f,t),t&&v(p),ot(d,t),t&&v(h),ot(g,t),t&&v(m),ot($,t),t&&v(x),ot(_,t)}}}function Af(t,e,n){let{title:r="Your title goes here"}=e,{authors:o}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title),"authors"in t&&n(1,o=t.authors)},[r,o]}return new class extends at{constructor(t){super(),st(this,t,Af,Df,i,{title:0,authors:1})}}({target:document.body,props:{title:jl,authors:[{name:"Homa Hosseinmardia",detail:"Affiliation detail goes here"},{name:"Amir Ghasemianb",detail:"Affiliation detail goes here"},{name:"Aaron Clauset",detail:"Affiliation detail goes here"},{name:"Markus Mobius",detail:"Affiliation detail goes here"},{name:"David M. Rothschildh",detail:"Affiliation detail goes here"},{name:"Duncan J. Watts",detail:"Affiliation detail goes here"}]}})}();
//# sourceMappingURL=bundle.js.map
